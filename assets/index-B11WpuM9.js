function wD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ms(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var mR={exports:{}},rp={},gR={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=Symbol.for("react.element"),ED=Symbol.for("react.portal"),ID=Symbol.for("react.fragment"),TD=Symbol.for("react.strict_mode"),SD=Symbol.for("react.profiler"),RD=Symbol.for("react.provider"),AD=Symbol.for("react.context"),PD=Symbol.for("react.forward_ref"),bD=Symbol.for("react.suspense"),CD=Symbol.for("react.memo"),kD=Symbol.for("react.lazy"),QE=Symbol.iterator;function xD(t){return t===null||typeof t!="object"?null:(t=QE&&t[QE]||t["@@iterator"],typeof t=="function"?t:null)}var yR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_R=Object.assign,vR={};function Za(t,e,n){this.props=t,this.context=e,this.refs=vR,this.updater=n||yR}Za.prototype.isReactComponent={};Za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wR(){}wR.prototype=Za.prototype;function Tv(t,e,n){this.props=t,this.context=e,this.refs=vR,this.updater=n||yR}var Sv=Tv.prototype=new wR;Sv.constructor=Tv;_R(Sv,Za.prototype);Sv.isPureReactComponent=!0;var YE=Array.isArray,ER=Object.prototype.hasOwnProperty,Rv={current:null},IR={key:!0,ref:!0,__self:!0,__source:!0};function TR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ER.call(e,r)&&!IR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Dc,type:t,key:s,ref:o,props:i,_owner:Rv.current}}function OD(t,e){return{$$typeof:Dc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Av(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dc}function ND(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var XE=/\/+/g;function ag(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ND(""+t.key):e.toString(36)}function ch(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dc:case ED:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ag(o,0):r,YE(i)?(n="",t!=null&&(n=t.replace(XE,"$&/")+"/"),ch(i,e,n,"",function(u){return u})):i!=null&&(Av(i)&&(i=OD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(XE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",YE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ag(s,a);o+=ch(s,e,n,l,i)}else if(l=xD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ag(s,a++),o+=ch(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bd(t,e,n){if(t==null)return t;var r=[],i=0;return ch(t,r,"","",function(s){return e.call(n,s,i++)}),r}function DD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},dh={transition:null},LD={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:dh,ReactCurrentOwner:Rv};se.Children={map:bd,forEach:function(t,e,n){bd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bd(t,function(){e++}),e},toArray:function(t){return bd(t,function(e){return e})||[]},only:function(t){if(!Av(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Za;se.Fragment=ID;se.Profiler=SD;se.PureComponent=Tv;se.StrictMode=TD;se.Suspense=bD;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LD;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_R({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Rv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ER.call(e,l)&&!IR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Dc,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:AD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RD,_context:t},t.Consumer=t};se.createElement=TR;se.createFactory=function(t){var e=TR.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:PD,render:t}};se.isValidElement=Av;se.lazy=function(t){return{$$typeof:kD,_payload:{_status:-1,_result:t},_init:DD}};se.memo=function(t,e){return{$$typeof:CD,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=dh.transition;dh.transition={};try{t()}finally{dh.transition=e}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(t,e){return rn.current.useCallback(t,e)};se.useContext=function(t){return rn.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};se.useEffect=function(t,e){return rn.current.useEffect(t,e)};se.useId=function(){return rn.current.useId()};se.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return rn.current.useMemo(t,e)};se.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};se.useRef=function(t){return rn.current.useRef(t)};se.useState=function(t){return rn.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return rn.current.useTransition()};se.version="18.2.0";gR.exports=se;var A=gR.exports;const X=Iv(A),Wh=wD({__proto__:null,default:X},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD=A,MD=Symbol.for("react.element"),FD=Symbol.for("react.fragment"),$D=Object.prototype.hasOwnProperty,UD=VD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jD={key:!0,ref:!0,__self:!0,__source:!0};function SR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$D.call(e,r)&&!jD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MD,type:t,key:s,ref:o,props:i,_owner:UD.current}}rp.Fragment=FD;rp.jsx=SR;rp.jsxs=SR;mR.exports=rp;var w=mR.exports,py={},RR={exports:{}},kn={},AR={exports:{}},PR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,q){var K=F.length;F.push(q);e:for(;0<K;){var we=K-1>>>1,Ee=F[we];if(0<i(Ee,q))F[we]=q,F[K]=Ee,K=we;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var q=F[0],K=F.pop();if(K!==q){F[0]=K;e:for(var we=0,Ee=F.length,Yn=Ee>>>1;we<Yn;){var on=2*(we+1)-1,bs=F[on],Xn=on+1,dr=F[Xn];if(0>i(bs,K))Xn<Ee&&0>i(dr,bs)?(F[we]=dr,F[Xn]=K,we=Xn):(F[we]=bs,F[on]=K,we=on);else if(Xn<Ee&&0>i(dr,K))F[we]=dr,F[Xn]=K,we=Xn;else break e}}return q}function i(F,q){var K=F.sortIndex-q.sortIndex;return K!==0?K:F.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=F)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function I(F){if(m=!1,y(F),!p)if(n(l)!==null)p=!0,qt(E);else{var q=n(u);q!==null&&Le(I,q.startTime-F)}}function E(F,q){p=!1,m&&(m=!1,_(b),b=-1),f=!0;var K=h;try{for(y(q),d=n(l);d!==null&&(!(d.expirationTime>q)||F&&!J());){var we=d.callback;if(typeof we=="function"){d.callback=null,h=d.priorityLevel;var Ee=we(d.expirationTime<=q);q=t.unstable_now(),typeof Ee=="function"?d.callback=Ee:d===n(l)&&r(l),y(q)}else r(l);d=n(l)}if(d!==null)var Yn=!0;else{var on=n(u);on!==null&&Le(I,on.startTime-q),Yn=!1}return Yn}finally{d=null,h=K,f=!1}}var T=!1,R=null,b=-1,U=5,M=-1;function J(){return!(t.unstable_now()-M<U)}function he(){if(R!==null){var F=t.unstable_now();M=F;var q=!0;try{q=R(!0,F)}finally{q?ee():(T=!1,R=null)}}else T=!1}var ee;if(typeof g=="function")ee=function(){g(he)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,_n=je.port2;je.port1.onmessage=he,ee=function(){_n.postMessage(null)}}else ee=function(){v(he,0)};function qt(F){R=F,T||(T=!0,ee())}function Le(F,q){b=v(function(){F(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,qt(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var K=h;h=q;try{return F()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=h;h=F;try{return q()}finally{h=K}},t.unstable_scheduleCallback=function(F,q,K){var we=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?we+K:we):K=we,F){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=K+Ee,F={id:c++,callback:q,priorityLevel:F,startTime:K,expirationTime:Ee,sortIndex:-1},K>we?(F.sortIndex=K,e(u,F),n(l)===null&&F===n(u)&&(m?(_(b),b=-1):m=!0,Le(I,K-we))):(F.sortIndex=Ee,e(l,F),p||f||(p=!0,qt(E))),F},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(F){var q=h;return function(){var K=h;h=q;try{return F.apply(this,arguments)}finally{h=K}}}})(PR);AR.exports=PR;var BD=AR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bR=A,Pn=BD;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CR=new Set,Du={};function Eo(t,e){Aa(t,e),Aa(t+"Capture",e)}function Aa(t,e){for(Du[t]=e,t=0;t<e.length;t++)CR.add(e[t])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),my=Object.prototype.hasOwnProperty,zD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JE={},ZE={};function WD(t){return my.call(ZE,t)?!0:my.call(JE,t)?!1:zD.test(t)?ZE[t]=!0:(JE[t]=!0,!1)}function qD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HD(t,e,n,r){if(e===null||typeof e>"u"||qD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pv=/[\-:]([a-z])/g;function bv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pv,bv);Dt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pv,bv);Dt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pv,bv);Dt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cv(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HD(e,n,i,r)&&(n=null),r||i===null?WD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pi=bR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cd=Symbol.for("react.element"),Xo=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),gy=Symbol.for("react.profiler"),kR=Symbol.for("react.provider"),xR=Symbol.for("react.context"),xv=Symbol.for("react.forward_ref"),yy=Symbol.for("react.suspense"),_y=Symbol.for("react.suspense_list"),Ov=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),OR=Symbol.for("react.offscreen"),eI=Symbol.iterator;function bl(t){return t===null||typeof t!="object"?null:(t=eI&&t[eI]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,lg;function Jl(t){if(lg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lg=e&&e[1]||""}return`
`+lg+t}var ug=!1;function cg(t,e){if(!t||ug)return"";ug=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ug=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jl(t):""}function KD(t){switch(t.tag){case 5:return Jl(t.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 2:case 15:return t=cg(t.type,!1),t;case 11:return t=cg(t.type.render,!1),t;case 1:return t=cg(t.type,!0),t;default:return""}}function vy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jo:return"Fragment";case Xo:return"Portal";case gy:return"Profiler";case kv:return"StrictMode";case yy:return"Suspense";case _y:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xR:return(t.displayName||"Context")+".Consumer";case kR:return(t._context.displayName||"Context")+".Provider";case xv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ov:return e=t.displayName||null,e!==null?e:vy(t.type)||"Memo";case xi:e=t._payload,t=t._init;try{return vy(t(e))}catch{}}return null}function GD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vy(e);case 8:return e===kv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function es(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function NR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QD(t){var e=NR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kd(t){t._valueTracker||(t._valueTracker=QD(t))}function DR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=NR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wy(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=es(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LR(t,e){e=e.checked,e!=null&&Cv(t,"checked",e,!1)}function Ey(t,e){LR(t,e);var n=es(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Iy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Iy(t,e.type,es(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Iy(t,e,n){(e!=="number"||qh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zl=Array.isArray;function da(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+es(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ty(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Zl(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:es(n)}}function VR(t,e){var n=es(e.value),r=es(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function MR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?MR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xd,FR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xd=xd||document.createElement("div"),xd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YD=["Webkit","ms","Moz","O"];Object.keys(du).forEach(function(t){YD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),du[e]=du[t]})});function $R(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||du.hasOwnProperty(t)&&du[t]?(""+e).trim():e+"px"}function UR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$R(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var XD=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ry(t,e){if(e){if(XD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Ay(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=null;function Nv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var by=null,ha=null,fa=null;function sI(t){if(t=Mc(t)){if(typeof by!="function")throw Error(O(280));var e=t.stateNode;e&&(e=lp(e),by(t.stateNode,t.type,e))}}function jR(t){ha?fa?fa.push(t):fa=[t]:ha=t}function BR(){if(ha){var t=ha,e=fa;if(fa=ha=null,sI(t),e)for(t=0;t<e.length;t++)sI(e[t])}}function zR(t,e){return t(e)}function WR(){}var dg=!1;function qR(t,e,n){if(dg)return t(e,n);dg=!0;try{return zR(t,e,n)}finally{dg=!1,(ha!==null||fa!==null)&&(WR(),BR())}}function Vu(t,e){var n=t.stateNode;if(n===null)return null;var r=lp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Cy=!1;if(si)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){Cy=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{Cy=!1}function JD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var hu=!1,Hh=null,Kh=!1,ky=null,ZD={onError:function(t){hu=!0,Hh=t}};function e2(t,e,n,r,i,s,o,a,l){hu=!1,Hh=null,JD.apply(ZD,arguments)}function t2(t,e,n,r,i,s,o,a,l){if(e2.apply(this,arguments),hu){if(hu){var u=Hh;hu=!1,Hh=null}else throw Error(O(198));Kh||(Kh=!0,ky=u)}}function Io(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oI(t){if(Io(t)!==t)throw Error(O(188))}function n2(t){var e=t.alternate;if(!e){if(e=Io(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return oI(i),t;if(s===r)return oI(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function KR(t){return t=n2(t),t!==null?GR(t):null}function GR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GR(t);if(e!==null)return e;t=t.sibling}return null}var QR=Pn.unstable_scheduleCallback,aI=Pn.unstable_cancelCallback,r2=Pn.unstable_shouldYield,i2=Pn.unstable_requestPaint,Ze=Pn.unstable_now,s2=Pn.unstable_getCurrentPriorityLevel,Dv=Pn.unstable_ImmediatePriority,YR=Pn.unstable_UserBlockingPriority,Gh=Pn.unstable_NormalPriority,o2=Pn.unstable_LowPriority,XR=Pn.unstable_IdlePriority,ip=null,kr=null;function a2(t){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(ip,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:c2,l2=Math.log,u2=Math.LN2;function c2(t){return t>>>=0,t===0?32:31-(l2(t)/u2|0)|0}var Od=64,Nd=4194304;function eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=eu(a):(s&=o,s!==0&&(r=eu(s)))}else o=n&~i,o!==0?r=eu(o):s!==0&&(r=eu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),i=1<<n,r|=t[n],e&=~i;return r}function d2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-sr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=d2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function xy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JR(){var t=Od;return Od<<=1,!(Od&4194240)&&(Od=64),t}function hg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function f2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-sr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Lv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var me=0;function ZR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eA,Vv,tA,nA,rA,Oy=!1,Dd=[],zi=null,Wi=null,qi=null,Mu=new Map,Fu=new Map,Ni=[],p2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lI(t,e){switch(t){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Mu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(e.pointerId)}}function kl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Mc(e),e!==null&&Vv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function m2(t,e,n,r,i){switch(e){case"focusin":return zi=kl(zi,t,e,n,r,i),!0;case"dragenter":return Wi=kl(Wi,t,e,n,r,i),!0;case"mouseover":return qi=kl(qi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Mu.set(s,kl(Mu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fu.set(s,kl(Fu.get(s)||null,t,e,n,r,i)),!0}return!1}function iA(t){var e=zs(t.target);if(e!==null){var n=Io(e);if(n!==null){if(e=n.tag,e===13){if(e=HR(n),e!==null){t.blockedOn=e,rA(t.priority,function(){tA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ny(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Py=r,n.target.dispatchEvent(r),Py=null}else return e=Mc(n),e!==null&&Vv(e),t.blockedOn=n,!1;e.shift()}return!0}function uI(t,e,n){hh(t)&&n.delete(e)}function g2(){Oy=!1,zi!==null&&hh(zi)&&(zi=null),Wi!==null&&hh(Wi)&&(Wi=null),qi!==null&&hh(qi)&&(qi=null),Mu.forEach(uI),Fu.forEach(uI)}function xl(t,e){t.blockedOn===e&&(t.blockedOn=null,Oy||(Oy=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,g2)))}function $u(t){function e(i){return xl(i,t)}if(0<Dd.length){xl(Dd[0],t);for(var n=1;n<Dd.length;n++){var r=Dd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zi!==null&&xl(zi,t),Wi!==null&&xl(Wi,t),qi!==null&&xl(qi,t),Mu.forEach(e),Fu.forEach(e),n=0;n<Ni.length;n++)r=Ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ni.length&&(n=Ni[0],n.blockedOn===null);)iA(n),n.blockedOn===null&&Ni.shift()}var pa=pi.ReactCurrentBatchConfig,Yh=!0;function y2(t,e,n,r){var i=me,s=pa.transition;pa.transition=null;try{me=1,Mv(t,e,n,r)}finally{me=i,pa.transition=s}}function _2(t,e,n,r){var i=me,s=pa.transition;pa.transition=null;try{me=4,Mv(t,e,n,r)}finally{me=i,pa.transition=s}}function Mv(t,e,n,r){if(Yh){var i=Ny(t,e,n,r);if(i===null)Ig(t,e,r,Xh,n),lI(t,r);else if(m2(i,t,e,n,r))r.stopPropagation();else if(lI(t,r),e&4&&-1<p2.indexOf(t)){for(;i!==null;){var s=Mc(i);if(s!==null&&eA(s),s=Ny(t,e,n,r),s===null&&Ig(t,e,r,Xh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ig(t,e,r,null,n)}}var Xh=null;function Ny(t,e,n,r){if(Xh=null,t=Nv(r),t=zs(t),t!==null)if(e=Io(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xh=t,null}function sA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s2()){case Dv:return 1;case YR:return 4;case Gh:case o2:return 16;case XR:return 536870912;default:return 16}default:return 16}}var Fi=null,Fv=null,fh=null;function oA(){if(fh)return fh;var t,e=Fv,n=e.length,r,i="value"in Fi?Fi.value:Fi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return fh=i.slice(t,1<r?1-r:void 0)}function ph(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ld(){return!0}function cI(){return!1}function xn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ld:cI,this.isPropagationStopped=cI,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ld)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ld)},persist:function(){},isPersistent:Ld}),e}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$v=xn(el),Vc=$e({},el,{view:0,detail:0}),v2=xn(Vc),fg,pg,Ol,sp=$e({},Vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ol&&(Ol&&t.type==="mousemove"?(fg=t.screenX-Ol.screenX,pg=t.screenY-Ol.screenY):pg=fg=0,Ol=t),fg)},movementY:function(t){return"movementY"in t?t.movementY:pg}}),dI=xn(sp),w2=$e({},sp,{dataTransfer:0}),E2=xn(w2),I2=$e({},Vc,{relatedTarget:0}),mg=xn(I2),T2=$e({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),S2=xn(T2),R2=$e({},el,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A2=xn(R2),P2=$e({},el,{data:0}),hI=xn(P2),b2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=k2[t])?!!e[t]:!1}function Uv(){return x2}var O2=$e({},Vc,{key:function(t){if(t.key){var e=b2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ph(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?C2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uv,charCode:function(t){return t.type==="keypress"?ph(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ph(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),N2=xn(O2),D2=$e({},sp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fI=xn(D2),L2=$e({},Vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uv}),V2=xn(L2),M2=$e({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),F2=xn(M2),$2=$e({},sp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U2=xn($2),j2=[9,13,27,32],jv=si&&"CompositionEvent"in window,fu=null;si&&"documentMode"in document&&(fu=document.documentMode);var B2=si&&"TextEvent"in window&&!fu,aA=si&&(!jv||fu&&8<fu&&11>=fu),pI=" ",mI=!1;function lA(t,e){switch(t){case"keyup":return j2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zo=!1;function z2(t,e){switch(t){case"compositionend":return uA(e);case"keypress":return e.which!==32?null:(mI=!0,pI);case"textInput":return t=e.data,t===pI&&mI?null:t;default:return null}}function W2(t,e){if(Zo)return t==="compositionend"||!jv&&lA(t,e)?(t=oA(),fh=Fv=Fi=null,Zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aA&&e.locale!=="ko"?null:e.data;default:return null}}var q2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q2[t.type]:e==="textarea"}function cA(t,e,n,r){jR(r),e=Jh(e,"onChange"),0<e.length&&(n=new $v("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pu=null,Uu=null;function H2(t){EA(t,0)}function op(t){var e=na(t);if(DR(e))return t}function K2(t,e){if(t==="change")return e}var dA=!1;if(si){var gg;if(si){var yg="oninput"in document;if(!yg){var yI=document.createElement("div");yI.setAttribute("oninput","return;"),yg=typeof yI.oninput=="function"}gg=yg}else gg=!1;dA=gg&&(!document.documentMode||9<document.documentMode)}function _I(){pu&&(pu.detachEvent("onpropertychange",hA),Uu=pu=null)}function hA(t){if(t.propertyName==="value"&&op(Uu)){var e=[];cA(e,Uu,t,Nv(t)),qR(H2,e)}}function G2(t,e,n){t==="focusin"?(_I(),pu=e,Uu=n,pu.attachEvent("onpropertychange",hA)):t==="focusout"&&_I()}function Q2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return op(Uu)}function Y2(t,e){if(t==="click")return op(e)}function X2(t,e){if(t==="input"||t==="change")return op(e)}function J2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:J2;function ju(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!my.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function vI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wI(t,e){var n=vI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vI(n)}}function fA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pA(){for(var t=window,e=qh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qh(t.document)}return e}function Bv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Z2(t){var e=pA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fA(n.ownerDocument.documentElement,n)){if(r!==null&&Bv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wI(n,s);var o=wI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eL=si&&"documentMode"in document&&11>=document.documentMode,ea=null,Dy=null,mu=null,Ly=!1;function EI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ly||ea==null||ea!==qh(r)||(r=ea,"selectionStart"in r&&Bv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mu&&ju(mu,r)||(mu=r,r=Jh(Dy,"onSelect"),0<r.length&&(e=new $v("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ea)))}function Vd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ta={animationend:Vd("Animation","AnimationEnd"),animationiteration:Vd("Animation","AnimationIteration"),animationstart:Vd("Animation","AnimationStart"),transitionend:Vd("Transition","TransitionEnd")},_g={},mA={};si&&(mA=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function ap(t){if(_g[t])return _g[t];if(!ta[t])return t;var e=ta[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mA)return _g[t]=e[n];return t}var gA=ap("animationend"),yA=ap("animationiteration"),_A=ap("animationstart"),vA=ap("transitionend"),wA=new Map,II="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(t,e){wA.set(t,e),Eo(e,[t])}for(var vg=0;vg<II.length;vg++){var wg=II[vg],tL=wg.toLowerCase(),nL=wg[0].toUpperCase()+wg.slice(1);gs(tL,"on"+nL)}gs(gA,"onAnimationEnd");gs(yA,"onAnimationIteration");gs(_A,"onAnimationStart");gs("dblclick","onDoubleClick");gs("focusin","onFocus");gs("focusout","onBlur");gs(vA,"onTransitionEnd");Aa("onMouseEnter",["mouseout","mouseover"]);Aa("onMouseLeave",["mouseout","mouseover"]);Aa("onPointerEnter",["pointerout","pointerover"]);Aa("onPointerLeave",["pointerout","pointerover"]);Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rL=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function TI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,t2(r,e,void 0,t),t.currentTarget=null}function EA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;TI(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;TI(i,a,u),s=l}}}if(Kh)throw t=ky,Kh=!1,ky=null,t}function Se(t,e){var n=e[Uy];n===void 0&&(n=e[Uy]=new Set);var r=t+"__bubble";n.has(r)||(IA(e,t,2,!1),n.add(r))}function Eg(t,e,n){var r=0;e&&(r|=4),IA(n,t,r,e)}var Md="_reactListening"+Math.random().toString(36).slice(2);function Bu(t){if(!t[Md]){t[Md]=!0,CR.forEach(function(n){n!=="selectionchange"&&(rL.has(n)||Eg(n,!1,t),Eg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Md]||(e[Md]=!0,Eg("selectionchange",!1,e))}}function IA(t,e,n,r){switch(sA(e)){case 1:var i=y2;break;case 4:i=_2;break;default:i=Mv}n=i.bind(null,e,n,t),i=void 0,!Cy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ig(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}qR(function(){var u=s,c=Nv(n),d=[];e:{var h=wA.get(t);if(h!==void 0){var f=$v,p=t;switch(t){case"keypress":if(ph(n)===0)break e;case"keydown":case"keyup":f=N2;break;case"focusin":p="focus",f=mg;break;case"focusout":p="blur",f=mg;break;case"beforeblur":case"afterblur":f=mg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=dI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=E2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=V2;break;case gA:case yA:case _A:f=S2;break;case vA:f=F2;break;case"scroll":f=v2;break;case"wheel":f=U2;break;case"copy":case"cut":case"paste":f=A2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=fI}var m=(e&4)!==0,v=!m&&t==="scroll",_=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,y;g!==null;){y=g;var I=y.stateNode;if(y.tag===5&&I!==null&&(y=I,_!==null&&(I=Vu(g,_),I!=null&&m.push(zu(g,I,y)))),v)break;g=g.return}0<m.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Py&&(p=n.relatedTarget||n.fromElement)&&(zs(p)||p[oi]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?zs(p):null,p!==null&&(v=Io(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=dI,I="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=fI,I="onPointerLeave",_="onPointerEnter",g="pointer"),v=f==null?h:na(f),y=p==null?h:na(p),h=new m(I,g+"leave",f,n,c),h.target=v,h.relatedTarget=y,I=null,zs(c)===u&&(m=new m(_,g+"enter",p,n,c),m.target=y,m.relatedTarget=v,I=m),v=I,f&&p)t:{for(m=f,_=p,g=0,y=m;y;y=Do(y))g++;for(y=0,I=_;I;I=Do(I))y++;for(;0<g-y;)m=Do(m),g--;for(;0<y-g;)_=Do(_),y--;for(;g--;){if(m===_||_!==null&&m===_.alternate)break t;m=Do(m),_=Do(_)}m=null}else m=null;f!==null&&SI(d,h,f,m,!1),p!==null&&v!==null&&SI(d,v,p,m,!0)}}e:{if(h=u?na(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var E=K2;else if(gI(h))if(dA)E=X2;else{E=Q2;var T=G2}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Y2);if(E&&(E=E(t,u))){cA(d,E,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Iy(h,"number",h.value)}switch(T=u?na(u):window,t){case"focusin":(gI(T)||T.contentEditable==="true")&&(ea=T,Dy=u,mu=null);break;case"focusout":mu=Dy=ea=null;break;case"mousedown":Ly=!0;break;case"contextmenu":case"mouseup":case"dragend":Ly=!1,EI(d,n,c);break;case"selectionchange":if(eL)break;case"keydown":case"keyup":EI(d,n,c)}var R;if(jv)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zo?lA(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(aA&&n.locale!=="ko"&&(Zo||b!=="onCompositionStart"?b==="onCompositionEnd"&&Zo&&(R=oA()):(Fi=c,Fv="value"in Fi?Fi.value:Fi.textContent,Zo=!0)),T=Jh(u,b),0<T.length&&(b=new hI(b,t,null,n,c),d.push({event:b,listeners:T}),R?b.data=R:(R=uA(n),R!==null&&(b.data=R)))),(R=B2?z2(t,n):W2(t,n))&&(u=Jh(u,"onBeforeInput"),0<u.length&&(c=new hI("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}EA(d,e)})}function zu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vu(t,n),s!=null&&r.unshift(zu(t,s,i)),s=Vu(t,e),s!=null&&r.push(zu(t,s,i))),t=t.return}return r}function Do(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function SI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Vu(n,s),l!=null&&o.unshift(zu(n,l,a))):i||(l=Vu(n,s),l!=null&&o.push(zu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var iL=/\r\n?/g,sL=/\u0000|\uFFFD/g;function RI(t){return(typeof t=="string"?t:""+t).replace(iL,`
`).replace(sL,"")}function Fd(t,e,n){if(e=RI(e),RI(t)!==e&&n)throw Error(O(425))}function Zh(){}var Vy=null,My=null;function Fy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $y=typeof setTimeout=="function"?setTimeout:void 0,oL=typeof clearTimeout=="function"?clearTimeout:void 0,AI=typeof Promise=="function"?Promise:void 0,aL=typeof queueMicrotask=="function"?queueMicrotask:typeof AI<"u"?function(t){return AI.resolve(null).then(t).catch(lL)}:$y;function lL(t){setTimeout(function(){throw t})}function Tg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$u(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$u(e)}function Hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function PI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tl=Math.random().toString(36).slice(2),gr="__reactFiber$"+tl,Wu="__reactProps$"+tl,oi="__reactContainer$"+tl,Uy="__reactEvents$"+tl,uL="__reactListeners$"+tl,cL="__reactHandles$"+tl;function zs(t){var e=t[gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oi]||n[gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=PI(t);t!==null;){if(n=t[gr])return n;t=PI(t)}return e}t=n,n=t.parentNode}return null}function Mc(t){return t=t[gr]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function lp(t){return t[Wu]||null}var jy=[],ra=-1;function ys(t){return{current:t}}function be(t){0>ra||(t.current=jy[ra],jy[ra]=null,ra--)}function Ie(t,e){ra++,jy[ra]=t.current,t.current=e}var ts={},Wt=ys(ts),pn=ys(!1),ro=ts;function Pa(t,e){var n=t.type.contextTypes;if(!n)return ts;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mn(t){return t=t.childContextTypes,t!=null}function ef(){be(pn),be(Wt)}function bI(t,e,n){if(Wt.current!==ts)throw Error(O(168));Ie(Wt,e),Ie(pn,n)}function TA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,GD(t)||"Unknown",i));return $e({},n,r)}function tf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ts,ro=Wt.current,Ie(Wt,t),Ie(pn,pn.current),!0}function CI(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=TA(t,e,ro),r.__reactInternalMemoizedMergedChildContext=t,be(pn),be(Wt),Ie(Wt,t)):be(pn),Ie(pn,n)}var qr=null,up=!1,Sg=!1;function SA(t){qr===null?qr=[t]:qr.push(t)}function dL(t){up=!0,SA(t)}function _s(){if(!Sg&&qr!==null){Sg=!0;var t=0,e=me;try{var n=qr;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qr=null,up=!1}catch(i){throw qr!==null&&(qr=qr.slice(t+1)),QR(Dv,_s),i}finally{me=e,Sg=!1}}return null}var ia=[],sa=0,nf=null,rf=0,Dn=[],Ln=0,io=null,Gr=1,Qr="";function Ns(t,e){ia[sa++]=rf,ia[sa++]=nf,nf=t,rf=e}function RA(t,e,n){Dn[Ln++]=Gr,Dn[Ln++]=Qr,Dn[Ln++]=io,io=t;var r=Gr;t=Qr;var i=32-sr(r)-1;r&=~(1<<i),n+=1;var s=32-sr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gr=1<<32-sr(e)+i|n<<i|r,Qr=s+t}else Gr=1<<s|n<<i|r,Qr=t}function zv(t){t.return!==null&&(Ns(t,1),RA(t,1,0))}function Wv(t){for(;t===nf;)nf=ia[--sa],ia[sa]=null,rf=ia[--sa],ia[sa]=null;for(;t===io;)io=Dn[--Ln],Dn[Ln]=null,Qr=Dn[--Ln],Dn[Ln]=null,Gr=Dn[--Ln],Dn[Ln]=null}var Rn=null,Tn=null,ke=!1,ir=null;function AA(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rn=t,Tn=Hi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rn=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=io!==null?{id:Gr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rn=t,Tn=null,!0):!1;default:return!1}}function By(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zy(t){if(ke){var e=Tn;if(e){var n=e;if(!kI(t,e)){if(By(t))throw Error(O(418));e=Hi(n.nextSibling);var r=Rn;e&&kI(t,e)?AA(r,n):(t.flags=t.flags&-4097|2,ke=!1,Rn=t)}}else{if(By(t))throw Error(O(418));t.flags=t.flags&-4097|2,ke=!1,Rn=t}}}function xI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function $d(t){if(t!==Rn)return!1;if(!ke)return xI(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fy(t.type,t.memoizedProps)),e&&(e=Tn)){if(By(t))throw PA(),Error(O(418));for(;e;)AA(t,e),e=Hi(e.nextSibling)}if(xI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=Hi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=Rn?Hi(t.stateNode.nextSibling):null;return!0}function PA(){for(var t=Tn;t;)t=Hi(t.nextSibling)}function ba(){Tn=Rn=null,ke=!1}function qv(t){ir===null?ir=[t]:ir.push(t)}var hL=pi.ReactCurrentBatchConfig;function nr(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var sf=ys(null),of=null,oa=null,Hv=null;function Kv(){Hv=oa=of=null}function Gv(t){var e=sf.current;be(sf),t._currentValue=e}function Wy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ma(t,e){of=t,Hv=oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cn=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(Hv!==t)if(t={context:t,memoizedValue:e,next:null},oa===null){if(of===null)throw Error(O(308));oa=t,of.dependencies={lanes:0,firstContext:t}}else oa=oa.next=t;return e}var Ws=null;function Qv(t){Ws===null?Ws=[t]:Ws.push(t)}function bA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Qv(e)):(n.next=i.next,i.next=n),e.interleaved=n,ai(t,r)}function ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oi=!1;function Yv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ai(t,n)}return i=r.interleaved,i===null?(e.next=e,Qv(r)):(e.next=i.next,i.next=e),r.interleaved=e,ai(t,n)}function mh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lv(t,n)}}function OI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function af(t,e,n,r){var i=t.updateQueue;Oi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=$e({},d,h);break e;case 2:Oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);oo|=o,t.lanes=o,t.memoizedState=d}}function NI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var kA=new bR.Component().refs;function qy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cp={isMounted:function(t){return(t=t._reactInternals)?Io(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),i=Qi(t),s=ti(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ki(t,s,i),e!==null&&(or(e,t,i,r),mh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),i=Qi(t),s=ti(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ki(t,s,i),e!==null&&(or(e,t,i,r),mh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=Qi(t),i=ti(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ki(t,i,r),e!==null&&(or(e,t,r,n),mh(e,t,r))}};function DI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ju(n,r)||!ju(i,s):!0}function xA(t,e,n){var r=!1,i=ts,s=e.contextType;return typeof s=="object"&&s!==null?s=Wn(s):(i=mn(e)?ro:Wt.current,r=e.contextTypes,s=(r=r!=null)?Pa(t,i):ts),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function LI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cp.enqueueReplaceState(e,e.state,null)}function Hy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=kA,Yv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wn(s):(s=mn(e)?ro:Wt.current,i.context=Pa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cp.enqueueReplaceState(i,i.state,null),af(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Nl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===kA&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Ud(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VI(t){var e=t._init;return e(t._payload)}function OA(t){function e(_,g){if(t){var y=_.deletions;y===null?(_.deletions=[g],_.flags|=16):y.push(g)}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function r(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function i(_,g){return _=Yi(_,g),_.index=0,_.sibling=null,_}function s(_,g,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<g?(_.flags|=2,g):y):(_.flags|=2,g)):(_.flags|=1048576,g)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,g,y,I){return g===null||g.tag!==6?(g=xg(y,_.mode,I),g.return=_,g):(g=i(g,y),g.return=_,g)}function l(_,g,y,I){var E=y.type;return E===Jo?c(_,g,y.props.children,I,y.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xi&&VI(E)===g.type)?(I=i(g,y.props),I.ref=Nl(_,g,y),I.return=_,I):(I=Eh(y.type,y.key,y.props,null,_.mode,I),I.ref=Nl(_,g,y),I.return=_,I)}function u(_,g,y,I){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Og(y,_.mode,I),g.return=_,g):(g=i(g,y.children||[]),g.return=_,g)}function c(_,g,y,I,E){return g===null||g.tag!==7?(g=Js(y,_.mode,I,E),g.return=_,g):(g=i(g,y),g.return=_,g)}function d(_,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=xg(""+g,_.mode,y),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cd:return y=Eh(g.type,g.key,g.props,null,_.mode,y),y.ref=Nl(_,null,g),y.return=_,y;case Xo:return g=Og(g,_.mode,y),g.return=_,g;case xi:var I=g._init;return d(_,I(g._payload),y)}if(Zl(g)||bl(g))return g=Js(g,_.mode,y,null),g.return=_,g;Ud(_,g)}return null}function h(_,g,y,I){var E=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(_,g,""+y,I);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cd:return y.key===E?l(_,g,y,I):null;case Xo:return y.key===E?u(_,g,y,I):null;case xi:return E=y._init,h(_,g,E(y._payload),I)}if(Zl(y)||bl(y))return E!==null?null:c(_,g,y,I,null);Ud(_,y)}return null}function f(_,g,y,I,E){if(typeof I=="string"&&I!==""||typeof I=="number")return _=_.get(y)||null,a(g,_,""+I,E);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Cd:return _=_.get(I.key===null?y:I.key)||null,l(g,_,I,E);case Xo:return _=_.get(I.key===null?y:I.key)||null,u(g,_,I,E);case xi:var T=I._init;return f(_,g,y,T(I._payload),E)}if(Zl(I)||bl(I))return _=_.get(y)||null,c(g,_,I,E,null);Ud(g,I)}return null}function p(_,g,y,I){for(var E=null,T=null,R=g,b=g=0,U=null;R!==null&&b<y.length;b++){R.index>b?(U=R,R=null):U=R.sibling;var M=h(_,R,y[b],I);if(M===null){R===null&&(R=U);break}t&&R&&M.alternate===null&&e(_,R),g=s(M,g,b),T===null?E=M:T.sibling=M,T=M,R=U}if(b===y.length)return n(_,R),ke&&Ns(_,b),E;if(R===null){for(;b<y.length;b++)R=d(_,y[b],I),R!==null&&(g=s(R,g,b),T===null?E=R:T.sibling=R,T=R);return ke&&Ns(_,b),E}for(R=r(_,R);b<y.length;b++)U=f(R,_,b,y[b],I),U!==null&&(t&&U.alternate!==null&&R.delete(U.key===null?b:U.key),g=s(U,g,b),T===null?E=U:T.sibling=U,T=U);return t&&R.forEach(function(J){return e(_,J)}),ke&&Ns(_,b),E}function m(_,g,y,I){var E=bl(y);if(typeof E!="function")throw Error(O(150));if(y=E.call(y),y==null)throw Error(O(151));for(var T=E=null,R=g,b=g=0,U=null,M=y.next();R!==null&&!M.done;b++,M=y.next()){R.index>b?(U=R,R=null):U=R.sibling;var J=h(_,R,M.value,I);if(J===null){R===null&&(R=U);break}t&&R&&J.alternate===null&&e(_,R),g=s(J,g,b),T===null?E=J:T.sibling=J,T=J,R=U}if(M.done)return n(_,R),ke&&Ns(_,b),E;if(R===null){for(;!M.done;b++,M=y.next())M=d(_,M.value,I),M!==null&&(g=s(M,g,b),T===null?E=M:T.sibling=M,T=M);return ke&&Ns(_,b),E}for(R=r(_,R);!M.done;b++,M=y.next())M=f(R,_,b,M.value,I),M!==null&&(t&&M.alternate!==null&&R.delete(M.key===null?b:M.key),g=s(M,g,b),T===null?E=M:T.sibling=M,T=M);return t&&R.forEach(function(he){return e(_,he)}),ke&&Ns(_,b),E}function v(_,g,y,I){if(typeof y=="object"&&y!==null&&y.type===Jo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Cd:e:{for(var E=y.key,T=g;T!==null;){if(T.key===E){if(E=y.type,E===Jo){if(T.tag===7){n(_,T.sibling),g=i(T,y.props.children),g.return=_,_=g;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xi&&VI(E)===T.type){n(_,T.sibling),g=i(T,y.props),g.ref=Nl(_,T,y),g.return=_,_=g;break e}n(_,T);break}else e(_,T);T=T.sibling}y.type===Jo?(g=Js(y.props.children,_.mode,I,y.key),g.return=_,_=g):(I=Eh(y.type,y.key,y.props,null,_.mode,I),I.ref=Nl(_,g,y),I.return=_,_=I)}return o(_);case Xo:e:{for(T=y.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(_,g.sibling),g=i(g,y.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=Og(y,_.mode,I),g.return=_,_=g}return o(_);case xi:return T=y._init,v(_,g,T(y._payload),I)}if(Zl(y))return p(_,g,y,I);if(bl(y))return m(_,g,y,I);Ud(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(_,g.sibling),g=i(g,y),g.return=_,_=g):(n(_,g),g=xg(y,_.mode,I),g.return=_,_=g),o(_)):n(_,g)}return v}var Ca=OA(!0),NA=OA(!1),Fc={},xr=ys(Fc),qu=ys(Fc),Hu=ys(Fc);function qs(t){if(t===Fc)throw Error(O(174));return t}function Xv(t,e){switch(Ie(Hu,e),Ie(qu,t),Ie(xr,Fc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sy(e,t)}be(xr),Ie(xr,e)}function ka(){be(xr),be(qu),be(Hu)}function DA(t){qs(Hu.current);var e=qs(xr.current),n=Sy(e,t.type);e!==n&&(Ie(qu,t),Ie(xr,n))}function Jv(t){qu.current===t&&(be(xr),be(qu))}var Ve=ys(0);function lf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rg=[];function Zv(){for(var t=0;t<Rg.length;t++)Rg[t]._workInProgressVersionPrimary=null;Rg.length=0}var gh=pi.ReactCurrentDispatcher,Ag=pi.ReactCurrentBatchConfig,so=0,Me=null,ht=null,gt=null,uf=!1,gu=!1,Ku=0,fL=0;function Vt(){throw Error(O(321))}function e0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function t0(t,e,n,r,i,s){if(so=s,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gh.current=t===null||t.memoizedState===null?yL:_L,t=n(r,i),gu){s=0;do{if(gu=!1,Ku=0,25<=s)throw Error(O(301));s+=1,gt=ht=null,e.updateQueue=null,gh.current=vL,t=n(r,i)}while(gu)}if(gh.current=cf,e=ht!==null&&ht.next!==null,so=0,gt=ht=Me=null,uf=!1,e)throw Error(O(300));return t}function n0(){var t=Ku!==0;return Ku=0,t}function fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Me.memoizedState=gt=t:gt=gt.next=t,gt}function qn(){if(ht===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=gt===null?Me.memoizedState:gt.next;if(e!==null)gt=e,ht=t;else{if(t===null)throw Error(O(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},gt===null?Me.memoizedState=gt=t:gt=gt.next=t}return gt}function Gu(t,e){return typeof e=="function"?e(t):e}function Pg(t){var e=qn(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((so&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Me.lanes|=c,oo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ar(r,e.memoizedState)||(cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Me.lanes|=s,oo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bg(t){var e=qn(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ar(s,e.memoizedState)||(cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function LA(){}function VA(t,e){var n=Me,r=qn(),i=e(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,cn=!0),r=r.queue,r0($A.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Qu(9,FA.bind(null,n,r,i,e),void 0,null),_t===null)throw Error(O(349));so&30||MA(n,e,i)}return i}function MA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FA(t,e,n,r){e.value=n,e.getSnapshot=r,UA(e)&&jA(t)}function $A(t,e,n){return n(function(){UA(e)&&jA(t)})}function UA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function jA(t){var e=ai(t,1);e!==null&&or(e,t,1,-1)}function MI(t){var e=fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:t},e.queue=t,t=t.dispatch=gL.bind(null,Me,t),[e.memoizedState,t]}function Qu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BA(){return qn().memoizedState}function yh(t,e,n,r){var i=fr();Me.flags|=t,i.memoizedState=Qu(1|e,n,void 0,r===void 0?null:r)}function dp(t,e,n,r){var i=qn();r=r===void 0?null:r;var s=void 0;if(ht!==null){var o=ht.memoizedState;if(s=o.destroy,r!==null&&e0(r,o.deps)){i.memoizedState=Qu(e,n,s,r);return}}Me.flags|=t,i.memoizedState=Qu(1|e,n,s,r)}function FI(t,e){return yh(8390656,8,t,e)}function r0(t,e){return dp(2048,8,t,e)}function zA(t,e){return dp(4,2,t,e)}function WA(t,e){return dp(4,4,t,e)}function qA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HA(t,e,n){return n=n!=null?n.concat([t]):null,dp(4,4,qA.bind(null,e,t),n)}function i0(){}function KA(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&e0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function GA(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&e0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QA(t,e,n){return so&21?(ar(n,e)||(n=JR(),Me.lanes|=n,oo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cn=!0),t.memoizedState=n)}function pL(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=Ag.transition;Ag.transition={};try{t(!1),e()}finally{me=n,Ag.transition=r}}function YA(){return qn().memoizedState}function mL(t,e,n){var r=Qi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XA(t))JA(e,n);else if(n=bA(t,e,n,r),n!==null){var i=Jt();or(n,t,r,i),ZA(n,e,r)}}function gL(t,e,n){var r=Qi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XA(t))JA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=e.interleaved;l===null?(i.next=i,Qv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=bA(t,e,i,r),n!==null&&(i=Jt(),or(n,t,r,i),ZA(n,e,r))}}function XA(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function JA(t,e){gu=uf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lv(t,n)}}var cf={readContext:Wn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},yL={readContext:Wn,useCallback:function(t,e){return fr().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:FI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yh(4194308,4,qA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yh(4194308,4,t,e)},useInsertionEffect:function(t,e){return yh(4,2,t,e)},useMemo:function(t,e){var n=fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mL.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=fr();return t={current:t},e.memoizedState=t},useState:MI,useDebugValue:i0,useDeferredValue:function(t){return fr().memoizedState=t},useTransition:function(){var t=MI(!1),e=t[0];return t=pL.bind(null,t[1]),fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,i=fr();if(ke){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),_t===null)throw Error(O(349));so&30||MA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,FI($A.bind(null,r,s,t),[t]),r.flags|=2048,Qu(9,FA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fr(),e=_t.identifierPrefix;if(ke){var n=Qr,r=Gr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ku++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_L={readContext:Wn,useCallback:KA,useContext:Wn,useEffect:r0,useImperativeHandle:HA,useInsertionEffect:zA,useLayoutEffect:WA,useMemo:GA,useReducer:Pg,useRef:BA,useState:function(){return Pg(Gu)},useDebugValue:i0,useDeferredValue:function(t){var e=qn();return QA(e,ht.memoizedState,t)},useTransition:function(){var t=Pg(Gu)[0],e=qn().memoizedState;return[t,e]},useMutableSource:LA,useSyncExternalStore:VA,useId:YA,unstable_isNewReconciler:!1},vL={readContext:Wn,useCallback:KA,useContext:Wn,useEffect:r0,useImperativeHandle:HA,useInsertionEffect:zA,useLayoutEffect:WA,useMemo:GA,useReducer:bg,useRef:BA,useState:function(){return bg(Gu)},useDebugValue:i0,useDeferredValue:function(t){var e=qn();return ht===null?e.memoizedState=t:QA(e,ht.memoizedState,t)},useTransition:function(){var t=bg(Gu)[0],e=qn().memoizedState;return[t,e]},useMutableSource:LA,useSyncExternalStore:VA,useId:YA,unstable_isNewReconciler:!1};function xa(t,e){try{var n="",r=e;do n+=KD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ky(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wL=typeof WeakMap=="function"?WeakMap:Map;function eP(t,e,n){n=ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hf||(hf=!0,r_=r),Ky(t,e)},n}function tP(t,e,n){n=ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ky(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ky(t,e),typeof r!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $I(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DL.bind(null,t,e,n),e.then(t,t))}function UI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ti(-1,1),e.tag=2,Ki(n,e,1))),n.lanes|=1),t)}var EL=pi.ReactCurrentOwner,cn=!1;function Gt(t,e,n,r){e.child=t===null?NA(e,null,n,r):Ca(e,t.child,n,r)}function BI(t,e,n,r,i){n=n.render;var s=e.ref;return ma(e,i),r=t0(t,e,n,r,s,i),n=n0(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(ke&&n&&zv(e),e.flags|=1,Gt(t,e,r,i),e.child)}function zI(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!h0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,nP(t,e,s,r,i)):(t=Eh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ju,n(o,r)&&t.ref===e.ref)return li(t,e,i)}return e.flags|=1,t=Yi(s,r),t.ref=e.ref,t.return=e,e.child=t}function nP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ju(s,r)&&t.ref===e.ref)if(cn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(cn=!0);else return e.lanes=t.lanes,li(t,e,i)}return Gy(t,e,n,r,i)}function rP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(la,vn),vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(la,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(la,vn),vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(la,vn),vn|=r;return Gt(t,e,i,n),e.child}function iP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gy(t,e,n,r,i){var s=mn(n)?ro:Wt.current;return s=Pa(e,s),ma(e,i),n=t0(t,e,n,r,s,i),r=n0(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(ke&&r&&zv(e),e.flags|=1,Gt(t,e,n,i),e.child)}function WI(t,e,n,r,i){if(mn(n)){var s=!0;tf(e)}else s=!1;if(ma(e,i),e.stateNode===null)_h(t,e),xA(e,n,r),Hy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wn(u):(u=mn(n)?ro:Wt.current,u=Pa(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&LI(e,o,r,u),Oi=!1;var h=e.memoizedState;o.state=h,af(e,r,o,i),l=e.memoizedState,a!==r||h!==l||pn.current||Oi?(typeof c=="function"&&(qy(e,n,c,r),l=e.memoizedState),(a=Oi||DI(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CA(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:nr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=mn(n)?ro:Wt.current,l=Pa(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&LI(e,o,r,l),Oi=!1,h=e.memoizedState,o.state=h,af(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||pn.current||Oi?(typeof f=="function"&&(qy(e,n,f,r),p=e.memoizedState),(u=Oi||DI(e,n,u,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Qy(t,e,n,r,s,i)}function Qy(t,e,n,r,i,s){iP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&CI(e,n,!1),li(t,e,s);r=e.stateNode,EL.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ca(e,t.child,null,s),e.child=Ca(e,null,a,s)):Gt(t,e,a,s),e.memoizedState=r.state,i&&CI(e,n,!0),e.child}function sP(t){var e=t.stateNode;e.pendingContext?bI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bI(t,e.context,!1),Xv(t,e.containerInfo)}function qI(t,e,n,r,i){return ba(),qv(i),e.flags|=256,Gt(t,e,n,r),e.child}var Yy={dehydrated:null,treeContext:null,retryLane:0};function Xy(t){return{baseLanes:t,cachePool:null,transitions:null}}function oP(t,e,n){var r=e.pendingProps,i=Ve.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Ve,i&1),t===null)return zy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pp(o,r,0,null),t=Js(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xy(n),e.memoizedState=Yy,t):s0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IL(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Yi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Yi(a,s):(s=Js(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Yy,r}return s=t.child,t=s.sibling,r=Yi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function s0(t,e){return e=pp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jd(t,e,n,r){return r!==null&&qv(r),Ca(e,t.child,null,n),t=s0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IL(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cg(Error(O(422))),jd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pp({mode:"visible",children:r.children},i,0,null),s=Js(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ca(e,t.child,null,o),e.child.memoizedState=Xy(o),e.memoizedState=Yy,s);if(!(e.mode&1))return jd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=Cg(s,r,void 0),jd(t,e,o,r)}if(a=(o&t.childLanes)!==0,cn||a){if(r=_t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ai(t,i),or(r,t,i,-1))}return d0(),r=Cg(Error(O(421))),jd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Tn=Hi(i.nextSibling),Rn=e,ke=!0,ir=null,t!==null&&(Dn[Ln++]=Gr,Dn[Ln++]=Qr,Dn[Ln++]=io,Gr=t.id,Qr=t.overflow,io=e),e=s0(e,r.children),e.flags|=4096,e)}function HI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wy(t.return,e,n)}function kg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&HI(t,n,e);else if(t.tag===19)HI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&lf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kg(e,!0,n,null,s);break;case"together":kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _h(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Yi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TL(t,e,n){switch(e.tag){case 3:sP(e),ba();break;case 5:DA(e);break;case 1:mn(e.type)&&tf(e);break;case 4:Xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(sf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?oP(t,e,n):(Ie(Ve,Ve.current&1),t=li(t,e,n),t!==null?t.sibling:null);Ie(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,rP(t,e,n)}return li(t,e,n)}var lP,Jy,uP,cP;lP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jy=function(){};uP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qs(xr.current);var s=null;switch(n){case"input":i=wy(t,i),r=wy(t,r),s=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),s=[];break;case"textarea":i=Ty(t,i),r=Ty(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zh)}Ry(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Du.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Du.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Se("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};cP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dl(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SL(t,e,n){var r=e.pendingProps;switch(Wv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return mn(e.type)&&ef(),Mt(e),null;case 3:return r=e.stateNode,ka(),be(pn),be(Wt),Zv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($d(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(o_(ir),ir=null))),Jy(t,e),Mt(e),null;case 5:Jv(e);var i=qs(Hu.current);if(n=e.type,t!==null&&e.stateNode!=null)uP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Mt(e),null}if(t=qs(xr.current),$d(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[gr]=e,r[Wu]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<tu.length;i++)Se(tu[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":tI(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":rI(r,s),Se("invalid",r)}Ry(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fd(r.textContent,a,t),i=["children",""+a]):Du.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":kd(r),nI(r,s,!0);break;case"textarea":kd(r),iI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=MR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gr]=e,t[Wu]=r,lP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ay(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<tu.length;i++)Se(tu[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":tI(t,r),i=wy(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Se("invalid",t);break;case"textarea":rI(t,r),i=Ty(t,r),Se("invalid",t);break;default:i=r}Ry(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?UR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FR(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lu(t,l):typeof l=="number"&&Lu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Du.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Se("scroll",t):l!=null&&Cv(t,s,l,o))}switch(n){case"input":kd(t),nI(t,r,!1);break;case"textarea":kd(t),iI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+es(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?da(t,!!r.multiple,s,!1):r.defaultValue!=null&&da(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)cP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=qs(Hu.current),qs(xr.current),$d(e)){if(r=e.stateNode,n=e.memoizedProps,r[gr]=e,(s=r.nodeValue!==n)&&(t=Rn,t!==null))switch(t.tag){case 3:Fd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gr]=e,e.stateNode=r}return Mt(e),null;case 13:if(be(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&Tn!==null&&e.mode&1&&!(e.flags&128))PA(),ba(),e.flags|=98560,s=!1;else if(s=$d(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[gr]=e}else ba(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),s=!1}else ir!==null&&(o_(ir),ir=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?ft===0&&(ft=3):d0())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return ka(),Jy(t,e),t===null&&Bu(e.stateNode.containerInfo),Mt(e),null;case 10:return Gv(e.type._context),Mt(e),null;case 17:return mn(e.type)&&ef(),Mt(e),null;case 19:if(be(Ve),s=e.memoizedState,s===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Dl(s,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lf(t),o!==null){for(e.flags|=128,Dl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Ve,Ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ze()>Oa&&(e.flags|=128,r=!0,Dl(s,!1),e.lanes=4194304)}else{if(!r)if(t=lf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return Mt(e),null}else 2*Ze()-s.renderingStartTime>Oa&&n!==1073741824&&(e.flags|=128,r=!0,Dl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ze(),e.sibling=null,n=Ve.current,Ie(Ve,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return c0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function RL(t,e){switch(Wv(e),e.tag){case 1:return mn(e.type)&&ef(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ka(),be(pn),be(Wt),Zv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jv(e),null;case 13:if(be(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));ba()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Ve),null;case 4:return ka(),null;case 10:return Gv(e.type._context),null;case 22:case 23:return c0(),null;case 24:return null;default:return null}}var Bd=!1,jt=!1,AL=typeof WeakSet=="function"?WeakSet:Set,j=null;function aa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function Zy(t,e,n){try{n()}catch(r){qe(t,e,r)}}var KI=!1;function PL(t,e){if(Vy=Yh,t=pA(),Bv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(My={focusedElem:t,selectionRange:n},Yh=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?m:nr(e.type,m),v);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(I){qe(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return p=KI,KI=!1,p}function yu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zy(e,n,s)}i=i.next}while(i!==r)}}function hp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function e_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dP(t){var e=t.alternate;e!==null&&(t.alternate=null,dP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gr],delete e[Wu],delete e[Uy],delete e[uL],delete e[cL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hP(t){return t.tag===5||t.tag===3||t.tag===4}function GI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function t_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zh));else if(r!==4&&(t=t.child,t!==null))for(t_(t,e,n),t=t.sibling;t!==null;)t_(t,e,n),t=t.sibling}function n_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(n_(t,e,n),t=t.sibling;t!==null;)n_(t,e,n),t=t.sibling}var At=null,rr=!1;function Ii(t,e,n){for(n=n.child;n!==null;)fP(t,e,n),n=n.sibling}function fP(t,e,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(ip,n)}catch{}switch(n.tag){case 5:jt||aa(n,e);case 6:var r=At,i=rr;At=null,Ii(t,e,n),At=r,rr=i,At!==null&&(rr?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(rr?(t=At,n=n.stateNode,t.nodeType===8?Tg(t.parentNode,n):t.nodeType===1&&Tg(t,n),$u(t)):Tg(At,n.stateNode));break;case 4:r=At,i=rr,At=n.stateNode.containerInfo,rr=!0,Ii(t,e,n),At=r,rr=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Zy(n,e,o),i=i.next}while(i!==r)}Ii(t,e,n);break;case 1:if(!jt&&(aa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,e,a)}Ii(t,e,n);break;case 21:Ii(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Ii(t,e,n),jt=r):Ii(t,e,n);break;default:Ii(t,e,n)}}function QI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AL),e.forEach(function(r){var i=VL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,rr=!1;break e;case 3:At=a.stateNode.containerInfo,rr=!0;break e;case 4:At=a.stateNode.containerInfo,rr=!0;break e}a=a.return}if(At===null)throw Error(O(160));fP(s,o,i),At=null,rr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pP(e,t),e=e.sibling}function pP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),hr(t),r&4){try{yu(3,t,t.return),hp(3,t)}catch(m){qe(t,t.return,m)}try{yu(5,t,t.return)}catch(m){qe(t,t.return,m)}}break;case 1:Zn(e,t),hr(t),r&512&&n!==null&&aa(n,n.return);break;case 5:if(Zn(e,t),hr(t),r&512&&n!==null&&aa(n,n.return),t.flags&32){var i=t.stateNode;try{Lu(i,"")}catch(m){qe(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&LR(i,s),Ay(a,o);var u=Ay(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?UR(i,d):c==="dangerouslySetInnerHTML"?FR(i,d):c==="children"?Lu(i,d):Cv(i,c,d,u)}switch(a){case"input":Ey(i,s);break;case"textarea":VR(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?da(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?da(i,!!s.multiple,s.defaultValue,!0):da(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wu]=s}catch(m){qe(t,t.return,m)}}break;case 6:if(Zn(e,t),hr(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){qe(t,t.return,m)}}break;case 3:if(Zn(e,t),hr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$u(e.containerInfo)}catch(m){qe(t,t.return,m)}break;case 4:Zn(e,t),hr(t);break;case 13:Zn(e,t),hr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(l0=Ze())),r&4&&QI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(u=jt)||c,Zn(e,t),jt=u):Zn(e,t),hr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(j=t,c=t.child;c!==null;){for(d=j=c;j!==null;){switch(h=j,f=h.child,h.tag){case 0:case 11:case 14:case 15:yu(4,h,h.return);break;case 1:aa(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){qe(r,n,m)}}break;case 5:aa(h,h.return);break;case 22:if(h.memoizedState!==null){XI(d);continue}}f!==null?(f.return=h,j=f):XI(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$R("display",o))}catch(m){qe(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){qe(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zn(e,t),hr(t),r&4&&QI(t);break;case 21:break;default:Zn(e,t),hr(t)}}function hr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hP(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lu(i,""),r.flags&=-33);var s=GI(t);n_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=GI(t);t_(t,a,o);break;default:throw Error(O(161))}}catch(l){qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bL(t,e,n){j=t,mP(t)}function mP(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Bd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jt;a=Bd;var u=jt;if(Bd=o,(jt=l)&&!u)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?JI(i):l!==null?(l.return=o,j=l):JI(i);for(;s!==null;)j=s,mP(s),s=s.sibling;j=i,Bd=a,jt=u}YI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):YI(t)}}function YI(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||hp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&NI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}NI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&$u(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}jt||e.flags&512&&e_(e)}catch(h){qe(e,e.return,h)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function XI(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function JI(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hp(4,e)}catch(l){qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qe(e,i,l)}}var s=e.return;try{e_(e)}catch(l){qe(e,s,l)}break;case 5:var o=e.return;try{e_(e)}catch(l){qe(e,o,l)}}}catch(l){qe(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var CL=Math.ceil,df=pi.ReactCurrentDispatcher,o0=pi.ReactCurrentOwner,Bn=pi.ReactCurrentBatchConfig,le=0,_t=null,lt=null,xt=0,vn=0,la=ys(0),ft=0,Yu=null,oo=0,fp=0,a0=0,_u=null,un=null,l0=0,Oa=1/0,Wr=null,hf=!1,r_=null,Gi=null,zd=!1,$i=null,ff=0,vu=0,i_=null,vh=-1,wh=0;function Jt(){return le&6?Ze():vh!==-1?vh:vh=Ze()}function Qi(t){return t.mode&1?le&2&&xt!==0?xt&-xt:hL.transition!==null?(wh===0&&(wh=JR()),wh):(t=me,t!==0||(t=window.event,t=t===void 0?16:sA(t.type)),t):1}function or(t,e,n,r){if(50<vu)throw vu=0,i_=null,Error(O(185));Lc(t,n,r),(!(le&2)||t!==_t)&&(t===_t&&(!(le&2)&&(fp|=n),ft===4&&Di(t,xt)),gn(t,r),n===1&&le===0&&!(e.mode&1)&&(Oa=Ze()+500,up&&_s()))}function gn(t,e){var n=t.callbackNode;h2(t,e);var r=Qh(t,t===_t?xt:0);if(r===0)n!==null&&aI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&aI(n),e===1)t.tag===0?dL(ZI.bind(null,t)):SA(ZI.bind(null,t)),aL(function(){!(le&6)&&_s()}),n=null;else{switch(ZR(r)){case 1:n=Dv;break;case 4:n=YR;break;case 16:n=Gh;break;case 536870912:n=XR;break;default:n=Gh}n=TP(n,gP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gP(t,e){if(vh=-1,wh=0,le&6)throw Error(O(327));var n=t.callbackNode;if(ga()&&t.callbackNode!==n)return null;var r=Qh(t,t===_t?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pf(t,r);else{e=r;var i=le;le|=2;var s=_P();(_t!==t||xt!==e)&&(Wr=null,Oa=Ze()+500,Xs(t,e));do try{OL();break}catch(a){yP(t,a)}while(!0);Kv(),df.current=s,le=i,lt!==null?e=0:(_t=null,xt=0,e=ft)}if(e!==0){if(e===2&&(i=xy(t),i!==0&&(r=i,e=s_(t,i))),e===1)throw n=Yu,Xs(t,0),Di(t,r),gn(t,Ze()),n;if(e===6)Di(t,r);else{if(i=t.current.alternate,!(r&30)&&!kL(i)&&(e=pf(t,r),e===2&&(s=xy(t),s!==0&&(r=s,e=s_(t,s))),e===1))throw n=Yu,Xs(t,0),Di(t,r),gn(t,Ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Ds(t,un,Wr);break;case 3:if(Di(t,r),(r&130023424)===r&&(e=l0+500-Ze(),10<e)){if(Qh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$y(Ds.bind(null,t,un,Wr),e);break}Ds(t,un,Wr);break;case 4:if(Di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-sr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CL(r/1960))-r,10<r){t.timeoutHandle=$y(Ds.bind(null,t,un,Wr),r);break}Ds(t,un,Wr);break;case 5:Ds(t,un,Wr);break;default:throw Error(O(329))}}}return gn(t,Ze()),t.callbackNode===n?gP.bind(null,t):null}function s_(t,e){var n=_u;return t.current.memoizedState.isDehydrated&&(Xs(t,e).flags|=256),t=pf(t,e),t!==2&&(e=un,un=n,e!==null&&o_(e)),t}function o_(t){un===null?un=t:un.push.apply(un,t)}function kL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e){for(e&=~a0,e&=~fp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function ZI(t){if(le&6)throw Error(O(327));ga();var e=Qh(t,0);if(!(e&1))return gn(t,Ze()),null;var n=pf(t,e);if(t.tag!==0&&n===2){var r=xy(t);r!==0&&(e=r,n=s_(t,r))}if(n===1)throw n=Yu,Xs(t,0),Di(t,e),gn(t,Ze()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ds(t,un,Wr),gn(t,Ze()),null}function u0(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(Oa=Ze()+500,up&&_s())}}function ao(t){$i!==null&&$i.tag===0&&!(le&6)&&ga();var e=le;le|=1;var n=Bn.transition,r=me;try{if(Bn.transition=null,me=1,t)return t()}finally{me=r,Bn.transition=n,le=e,!(le&6)&&_s()}}function c0(){vn=la.current,be(la)}function Xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oL(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(Wv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ef();break;case 3:ka(),be(pn),be(Wt),Zv();break;case 5:Jv(r);break;case 4:ka();break;case 13:be(Ve);break;case 19:be(Ve);break;case 10:Gv(r.type._context);break;case 22:case 23:c0()}n=n.return}if(_t=t,lt=t=Yi(t.current,null),xt=vn=e,ft=0,Yu=null,a0=fp=oo=0,un=_u=null,Ws!==null){for(e=0;e<Ws.length;e++)if(n=Ws[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ws=null}return t}function yP(t,e){do{var n=lt;try{if(Kv(),gh.current=cf,uf){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uf=!1}if(so=0,gt=ht=Me=null,gu=!1,Ku=0,o0.current=null,n===null||n.return===null){ft=1,Yu=e,lt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=UI(o);if(f!==null){f.flags&=-257,jI(f,o,a,s,e),f.mode&1&&$I(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){$I(s,u,e),d0();break e}l=Error(O(426))}}else if(ke&&a.mode&1){var v=UI(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),jI(v,o,a,s,e),qv(xa(l,a));break e}}s=l=xa(l,a),ft!==4&&(ft=2),_u===null?_u=[s]:_u.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=eP(s,l,e);OI(s,_);break e;case 1:a=l;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gi===null||!Gi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=tP(s,a,e);OI(s,I);break e}}s=s.return}while(s!==null)}wP(n)}catch(E){e=E,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function _P(){var t=df.current;return df.current=cf,t===null?cf:t}function d0(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(oo&268435455)&&!(fp&268435455)||Di(_t,xt)}function pf(t,e){var n=le;le|=2;var r=_P();(_t!==t||xt!==e)&&(Wr=null,Xs(t,e));do try{xL();break}catch(i){yP(t,i)}while(!0);if(Kv(),le=n,df.current=r,lt!==null)throw Error(O(261));return _t=null,xt=0,ft}function xL(){for(;lt!==null;)vP(lt)}function OL(){for(;lt!==null&&!r2();)vP(lt)}function vP(t){var e=IP(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?wP(t):lt=e,o0.current=null}function wP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RL(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,lt=null;return}}else if(n=SL(n,e,vn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);ft===0&&(ft=5)}function Ds(t,e,n){var r=me,i=Bn.transition;try{Bn.transition=null,me=1,NL(t,e,n,r)}finally{Bn.transition=i,me=r}return null}function NL(t,e,n,r){do ga();while($i!==null);if(le&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(f2(t,s),t===_t&&(lt=_t=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zd||(zd=!0,TP(Gh,function(){return ga(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Bn.transition,Bn.transition=null;var o=me;me=1;var a=le;le|=4,o0.current=null,PL(t,n),pP(n,t),Z2(My),Yh=!!Vy,My=Vy=null,t.current=n,bL(n),i2(),le=a,me=o,Bn.transition=s}else t.current=n;if(zd&&(zd=!1,$i=t,ff=i),s=t.pendingLanes,s===0&&(Gi=null),a2(n.stateNode),gn(t,Ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hf)throw hf=!1,t=r_,r_=null,t;return ff&1&&t.tag!==0&&ga(),s=t.pendingLanes,s&1?t===i_?vu++:(vu=0,i_=t):vu=0,_s(),null}function ga(){if($i!==null){var t=ZR(ff),e=Bn.transition,n=me;try{if(Bn.transition=null,me=16>t?16:t,$i===null)var r=!1;else{if(t=$i,$i=null,ff=0,le&6)throw Error(O(331));var i=le;for(le|=4,j=t.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:yu(8,c,s)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var h=c.sibling,f=c.return;if(dP(c),c===u){j=null;break}if(h!==null){h.return=f,j=h;break}j=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yu(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,j=_;break e}j=s.return}}var g=t.current;for(j=g;j!==null;){o=j;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,j=y;else e:for(o=g;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hp(9,a)}}catch(E){qe(a,a.return,E)}if(a===o){j=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,j=I;break e}j=a.return}}if(le=i,_s(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(ip,t)}catch{}r=!0}return r}finally{me=n,Bn.transition=e}}return!1}function eT(t,e,n){e=xa(n,e),e=eP(t,e,1),t=Ki(t,e,1),e=Jt(),t!==null&&(Lc(t,1,e),gn(t,e))}function qe(t,e,n){if(t.tag===3)eT(t,t,n);else for(;e!==null;){if(e.tag===3){eT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gi===null||!Gi.has(r))){t=xa(n,t),t=tP(e,t,1),e=Ki(e,t,1),t=Jt(),e!==null&&(Lc(e,1,t),gn(e,t));break}}e=e.return}}function DL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(xt&n)===n&&(ft===4||ft===3&&(xt&130023424)===xt&&500>Ze()-l0?Xs(t,0):a0|=n),gn(t,e)}function EP(t,e){e===0&&(t.mode&1?(e=Nd,Nd<<=1,!(Nd&130023424)&&(Nd=4194304)):e=1);var n=Jt();t=ai(t,e),t!==null&&(Lc(t,e,n),gn(t,n))}function LL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EP(t,n)}function VL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),EP(t,n)}var IP;IP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cn=!1,TL(t,e,n);cn=!!(t.flags&131072)}else cn=!1,ke&&e.flags&1048576&&RA(e,rf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_h(t,e),t=e.pendingProps;var i=Pa(e,Wt.current);ma(e,n),i=t0(null,e,r,t,i,n);var s=n0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(s=!0,tf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yv(e),i.updater=cp,e.stateNode=i,i._reactInternals=e,Hy(e,r,t,n),e=Qy(null,e,r,!0,s,n)):(e.tag=0,ke&&s&&zv(e),Gt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_h(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=FL(r),t=nr(r,t),i){case 0:e=Gy(null,e,r,t,n);break e;case 1:e=WI(null,e,r,t,n);break e;case 11:e=BI(null,e,r,t,n);break e;case 14:e=zI(null,e,r,nr(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),Gy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),WI(t,e,r,i,n);case 3:e:{if(sP(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,CA(t,e),af(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xa(Error(O(423)),e),e=qI(t,e,r,n,i);break e}else if(r!==i){i=xa(Error(O(424)),e),e=qI(t,e,r,n,i);break e}else for(Tn=Hi(e.stateNode.containerInfo.firstChild),Rn=e,ke=!0,ir=null,n=NA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ba(),r===i){e=li(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return DA(e),t===null&&zy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Fy(r,i)?o=null:s!==null&&Fy(r,s)&&(e.flags|=32),iP(t,e),Gt(t,e,o,n),e.child;case 6:return t===null&&zy(e),null;case 13:return oP(t,e,n);case 4:return Xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ca(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),BI(t,e,r,i,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(sf,r._currentValue),r._currentValue=o,s!==null)if(ar(s.value,o)){if(s.children===i.children&&!pn.current){e=li(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ti(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ma(e,n),i=Wn(i),r=r(i),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,i=nr(r,e.pendingProps),i=nr(r.type,i),zI(t,e,r,i,n);case 15:return nP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),_h(t,e),e.tag=1,mn(r)?(t=!0,tf(e)):t=!1,ma(e,n),xA(e,r,i),Hy(e,r,i,n),Qy(null,e,r,!0,t,n);case 19:return aP(t,e,n);case 22:return rP(t,e,n)}throw Error(O(156,e.tag))};function TP(t,e){return QR(t,e)}function ML(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new ML(t,e,n,r)}function h0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FL(t){if(typeof t=="function")return h0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xv)return 11;if(t===Ov)return 14}return 2}function Yi(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Eh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")h0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jo:return Js(n.children,i,s,e);case kv:o=8,i|=8;break;case gy:return t=Fn(12,n,e,i|2),t.elementType=gy,t.lanes=s,t;case yy:return t=Fn(13,n,e,i),t.elementType=yy,t.lanes=s,t;case _y:return t=Fn(19,n,e,i),t.elementType=_y,t.lanes=s,t;case OR:return pp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kR:o=10;break e;case xR:o=9;break e;case xv:o=11;break e;case Ov:o=14;break e;case xi:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Fn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Js(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function pp(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=OR,t.lanes=n,t.stateNode={isHidden:!1},t}function xg(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function Og(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $L(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hg(0),this.expirationTimes=hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function f0(t,e,n,r,i,s,o,a,l){return t=new $L(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yv(s),t}function UL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SP(t){if(!t)return ts;t=t._reactInternals;e:{if(Io(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(mn(n))return TA(t,n,e)}return e}function RP(t,e,n,r,i,s,o,a,l){return t=f0(n,r,!0,t,i,s,o,a,l),t.context=SP(null),n=t.current,r=Jt(),i=Qi(n),s=ti(r,i),s.callback=e??null,Ki(n,s,i),t.current.lanes=i,Lc(t,i,r),gn(t,r),t}function mp(t,e,n,r){var i=e.current,s=Jt(),o=Qi(i);return n=SP(n),e.context===null?e.context=n:e.pendingContext=n,e=ti(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ki(i,e,o),t!==null&&(or(t,i,o,s),mh(t,i,o)),o}function mf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function p0(t,e){tT(t,e),(t=t.alternate)&&tT(t,e)}function jL(){return null}var AP=typeof reportError=="function"?reportError:function(t){console.error(t)};function m0(t){this._internalRoot=t}gp.prototype.render=m0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));mp(t,e,null,null)};gp.prototype.unmount=m0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ao(function(){mp(null,t,null,null)}),e[oi]=null}};function gp(t){this._internalRoot=t}gp.prototype.unstable_scheduleHydration=function(t){if(t){var e=nA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ni.length&&e!==0&&e<Ni[n].priority;n++);Ni.splice(n,0,t),n===0&&iA(t)}};function g0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nT(){}function BL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=mf(o);s.call(u)}}var o=RP(e,r,t,0,null,!1,!1,"",nT);return t._reactRootContainer=o,t[oi]=o.current,Bu(t.nodeType===8?t.parentNode:t),ao(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=mf(l);a.call(u)}}var l=f0(t,0,!1,null,null,!1,!1,"",nT);return t._reactRootContainer=l,t[oi]=l.current,Bu(t.nodeType===8?t.parentNode:t),ao(function(){mp(e,l,n,r)}),l}function _p(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=mf(o);a.call(l)}}mp(e,o,t,i)}else o=BL(n,e,t,i,r);return mf(o)}eA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eu(e.pendingLanes);n!==0&&(Lv(e,n|1),gn(e,Ze()),!(le&6)&&(Oa=Ze()+500,_s()))}break;case 13:ao(function(){var r=ai(t,1);if(r!==null){var i=Jt();or(r,t,1,i)}}),p0(t,1)}};Vv=function(t){if(t.tag===13){var e=ai(t,134217728);if(e!==null){var n=Jt();or(e,t,134217728,n)}p0(t,134217728)}};tA=function(t){if(t.tag===13){var e=Qi(t),n=ai(t,e);if(n!==null){var r=Jt();or(n,t,e,r)}p0(t,e)}};nA=function(){return me};rA=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};by=function(t,e,n){switch(e){case"input":if(Ey(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lp(r);if(!i)throw Error(O(90));DR(r),Ey(r,i)}}}break;case"textarea":VR(t,n);break;case"select":e=n.value,e!=null&&da(t,!!n.multiple,e,!1)}};zR=u0;WR=ao;var zL={usingClientEntryPoint:!1,Events:[Mc,na,lp,jR,BR,u0]},Ll={findFiberByHostInstance:zs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},WL={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KR(t),t===null?null:t.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||jL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{ip=Wd.inject(WL),kr=Wd}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zL;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g0(e))throw Error(O(200));return UL(t,e,null,n)};kn.createRoot=function(t,e){if(!g0(t))throw Error(O(299));var n=!1,r="",i=AP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=f0(t,1,!1,null,null,n,!1,r,i),t[oi]=e.current,Bu(t.nodeType===8?t.parentNode:t),new m0(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=KR(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return ao(t)};kn.hydrate=function(t,e,n){if(!yp(e))throw Error(O(200));return _p(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!g0(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=AP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RP(e,null,t,1,n??null,i,!1,s,o),t[oi]=e.current,Bu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gp(e)};kn.render=function(t,e,n){if(!yp(e))throw Error(O(200));return _p(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!yp(t))throw Error(O(40));return t._reactRootContainer?(ao(function(){_p(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1};kn.unstable_batchedUpdates=u0;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yp(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return _p(t,e,n,!1,r)};kn.version="18.2.0-next-9e3b772b8-20220608";function PP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PP)}catch(t){console.error(t)}}PP(),RR.exports=kn;var qL=RR.exports,rT=qL;py.createRoot=rT.createRoot,py.hydrateRoot=rT.hydrateRoot;const mi=A.createContext(),HL=({children:t,reducer:e,initialState:n})=>w.jsx(mi.Provider,{value:A.useReducer(e,n),children:t}),$n={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER"};var iT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},CP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new GL;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QL=function(t){const e=bP(t);return CP.encodeByteArray(e,!0)},gf=function(t){return QL(t).replace(/\./g,"")},kP=function(t){try{return CP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!YL(n)||(t[n]=yf(t[n],e[n]));return t}function YL(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=()=>XL().__FIREBASE_DEFAULTS__,ZL=()=>{if(typeof process>"u"||typeof iT>"u")return;const t=iT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kP(t[1]);return e&&JSON.parse(e)},vp=()=>{try{return JL()||ZL()||eV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tV=t=>{var e,n;return(n=(e=vp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xP=()=>{var t;return(t=vp())===null||t===void 0?void 0:t.config},OP=t=>{var e;return(e=vp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gf(JSON.stringify(n)),gf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function y0(){var t;const e=(t=vp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sV(){return typeof self=="object"&&self.self===self}function NP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DP(){const t=De();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LP(){return!y0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xu(){try{return typeof indexedDB=="object"}catch{return!1}}function oV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="FirebaseError";class Zt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aV,Object.setPrototypeOf(this,Zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,To.prototype.create)}}class To{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?lV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Zt(i,a,r)}}function lV(t,e){return t.replace(uV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function cV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Na(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(oT(s)&&oT(o)){if(!Na(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ua(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VP(t,e){const n=new dV(t,e);return n.subscribe.bind(n)}class dV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ng),i.error===void 0&&(i.error=Ng),i.complete===void 0&&(i.complete=Ng);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ng(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t){return t&&t._delegate?t._delegate:t}class Vr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mV(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pV(t){return t===Ls?void 0:t}function mV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=[];var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const MP={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},yV=ne.INFO,_V={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},vV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_V[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wp{constructor(e){this.name=e,this._logLevel=yV,this._logHandler=vV,this._userLogHandler=null,v0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}function wV(t){v0.forEach(e=>{e.setLogLevel(t)})}function EV(t,e){for(const n of v0){let r=null;e&&e.level&&(r=MP[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:ne[s].toLowerCase(),message:a,args:o,type:i.name})}}}const IV=(t,e)=>e.some(n=>t instanceof n);let aT,lT;function TV(){return aT||(aT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SV(){return lT||(lT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FP=new WeakMap,a_=new WeakMap,$P=new WeakMap,Dg=new WeakMap,w0=new WeakMap;function RV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FP.set(n,t)}).catch(()=>{}),w0.set(e,t),e}function AV(t){if(a_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});a_.set(t,e)}let l_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return a_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$P.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PV(t){l_=t(l_)}function bV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lg(this),e,...n);return $P.set(r,e.sort?e.sort():[e]),Xi(r)}:SV().includes(t)?function(...e){return t.apply(Lg(this),e),Xi(FP.get(this))}:function(...e){return Xi(t.apply(Lg(this),e))}}function CV(t){return typeof t=="function"?bV(t):(t instanceof IDBTransaction&&AV(t),IV(t,TV())?new Proxy(t,l_):t)}function Xi(t){if(t instanceof IDBRequest)return RV(t);if(Dg.has(t))return Dg.get(t);const e=CV(t);return e!==t&&(Dg.set(t,e),w0.set(e,t)),e}const Lg=t=>w0.get(t);function kV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Xi(o.result),l.oldVersion,l.newVersion,Xi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const xV=["get","getKey","getAll","getAllKeys","count"],OV=["put","add","delete","clear"],Vg=new Map;function uT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vg.get(e))return Vg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Vg.set(e,s),s}PV(t=>({...t,get:(e,n,r)=>uT(e,n)||t.get(e,n,r),has:(e,n)=>!!uT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const u_="@firebase/app",cT="0.9.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new wp("@firebase/app"),LV="@firebase/app-compat",VV="@firebase/analytics-compat",MV="@firebase/analytics",FV="@firebase/app-check-compat",$V="@firebase/app-check",UV="@firebase/auth",jV="@firebase/auth-compat",BV="@firebase/database",zV="@firebase/database-compat",WV="@firebase/functions",qV="@firebase/functions-compat",HV="@firebase/installations",KV="@firebase/installations-compat",GV="@firebase/messaging",QV="@firebase/messaging-compat",YV="@firebase/performance",XV="@firebase/performance-compat",JV="@firebase/remote-config",ZV="@firebase/remote-config-compat",eM="@firebase/storage",tM="@firebase/storage-compat",nM="@firebase/firestore",rM="@firebase/firestore-compat",iM="firebase",sM="10.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]",oM={[u_]:"fire-core",[LV]:"fire-core-compat",[MV]:"fire-analytics",[VV]:"fire-analytics-compat",[$V]:"fire-app-check",[FV]:"fire-app-check-compat",[UV]:"fire-auth",[jV]:"fire-auth-compat",[BV]:"fire-rtdb",[zV]:"fire-rtdb-compat",[WV]:"fire-fn",[qV]:"fire-fn-compat",[HV]:"fire-iid",[KV]:"fire-iid-compat",[GV]:"fire-fcm",[QV]:"fire-fcm-compat",[YV]:"fire-perf",[XV]:"fire-perf-compat",[JV]:"fire-rc",[ZV]:"fire-rc-compat",[eM]:"fire-gcs",[tM]:"fire-gcs-compat",[nM]:"fire-fst",[rM]:"fire-fst-compat","fire-js":"fire-js",[iM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Map,Ju=new Map;function _f(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function UP(t,e){t.container.addOrOverwriteComponent(e)}function is(t){const e=t.name;if(Ju.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;Ju.set(e,t);for(const n of rs.values())_f(n,t);return!0}function Ep(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function aM(t,e,n=ns){Ep(t,e).clearInstance(n)}function lM(){Ju.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ni=new To("app","Firebase",uM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cM=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=sM;function E0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ns,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ni.create("bad-app-name",{appName:String(i)});if(n||(n=xP()),!n)throw ni.create("no-options");const s=rs.get(i);if(s){if(Na(n,s.options)&&Na(r,s.config))return s;throw ni.create("duplicate-app",{appName:i})}const o=new gV(i);for(const l of Ju.values())o.addComponent(l);const a=new cM(n,r,o);return rs.set(i,a),a}function jP(t=ns){const e=rs.get(t);if(!e&&t===ns&&xP())return E0();if(!e)throw ni.create("no-app",{appName:t});return e}function dM(){return Array.from(rs.values())}async function BP(t){const e=t.name;rs.has(e)&&(rs.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Or(t,e,n){var r;let i=(r=oM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lo.warn(a.join(" "));return}is(new Vr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function zP(t,e){if(t!==null&&typeof t!="function")throw ni.create("invalid-log-argument");EV(t,e)}function WP(t){wV(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="firebase-heartbeat-database",fM=1,Zu="firebase-heartbeat-store";let Mg=null;function qP(){return Mg||(Mg=kV(hM,fM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ni.create("idb-open",{originalErrorMessage:t.message})})),Mg}async function pM(t){try{const n=(await qP()).transaction(Zu),r=await n.objectStore(Zu).get(HP(t));return await n.done,r}catch(e){if(e instanceof Zt)lo.warn(e.message);else{const n=ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lo.warn(n.message)}}}async function dT(t,e){try{const r=(await qP()).transaction(Zu,"readwrite");await r.objectStore(Zu).put(e,HP(t)),await r.done}catch(n){if(n instanceof Zt)lo.warn(n.message);else{const r=ni.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lo.warn(r.message)}}}function HP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=1024,gM=30*24*60*60*1e3;class yM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=gM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hT(),{heartbeatsToSend:r,unsentEntries:i}=_M(this._heartbeatsCache.heartbeats),s=gf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function hT(){return new Date().toISOString().substring(0,10)}function _M(t,e=mM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xu()?oV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fT(t){return gf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){is(new Vr("platform-logger",e=>new NV(e),"PRIVATE")),is(new Vr("heartbeat",e=>new yM(e),"PRIVATE")),Or(u_,cT,t),Or(u_,cT,"esm2017"),Or("fire-js","")}wM("");const EM=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Zt,SDK_VERSION:vs,_DEFAULT_ENTRY_NAME:ns,_addComponent:_f,_addOrOverwriteComponent:UP,_apps:rs,_clearComponents:lM,_components:Ju,_getProvider:Ep,_registerComponent:is,_removeServiceInstance:aM,deleteApp:BP,getApp:jP,getApps:dM,initializeApp:E0,onLog:zP,registerVersion:Or,setLogLevel:WP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n){this._delegate=e,this.firebase=n,_f(e,new Vr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),BP(this._delegate)))}_getService(e,n=ns){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ns){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){_f(this._delegate,e)}_addOrOverwriteComponent(e){UP(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},pT=new To("app-compat","Firebase",TM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Or,setLogLevel:WP,onLog:zP,apps:null,SDK_VERSION:vs,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:EM}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||ns,!sT(e,u))throw pT.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=E0(u,c);if(sT(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(is(u)&&u.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw pT.create("invalid-app-argument",{appName:c});return f[d]()};u.serviceProps!==void 0&&yf(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(){const t=SM(IM);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:KP,extendNamespace:e,createSubscribe:VP,ErrorFactory:To,deepExtend:yf});function e(n){yf(t,n)}return t}const RM=KP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new wp("@firebase/app-compat"),AM="@firebase/app-compat",PM="0.2.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t){Or(AM,PM,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(sV()&&self.firebase!==void 0){mT.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&mT.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const rl=RM;bM();var CM="firebase",kM="10.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rl.registerVersion(CM,kM,"app-compat");function I0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Vl={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Lo={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function GP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OM=xM,NM=GP,QP=new To("auth","Firebase",GP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new wp("@firebase/auth");function DM(t,...e){vf.logLevel<=ne.WARN&&vf.warn(`Auth (${vs}): ${t}`,...e)}function Ih(t,...e){vf.logLevel<=ne.ERROR&&vf.error(`Auth (${vs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,...e){throw T0(t,...e)}function Ot(t,...e){return T0(t,...e)}function YP(t,e,n){const r=Object.assign(Object.assign({},NM()),{[e]:n});return new To("auth","Firebase",r).create(e,{appName:t.name})}function il(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wt(t,"argument-error"),YP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function T0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QP.create(t,...e)}function N(t,e,...n){if(!t)throw T0(e,...n)}function Ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ih(e),new Error(e)}function lr(t,e){t||Ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function S0(){return gT()==="http:"||gT()==="https:"}function gT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S0()||NP()||"connection"in navigator)?navigator.onLine:!0}function VM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=iV()||_0()}get(){return LM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t,e){lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new $c(3e4,6e4);function Ye(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xe(t,e,n,r,i={}){return JP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=nl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),XP.fetch()(ZP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function JP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},MM),e);try{const i=new UM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ru(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ru(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ru(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ru(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw YP(t,c,u);wt(t,c)}}catch(i){if(i instanceof Zt)throw i;wt(t,"network-request-failed",{message:String(i)})}}async function gi(t,e,n,r,i={}){const s=await Xe(t,e,n,r,i);return"mfaPendingCredential"in s&&wt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ZP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?R0(t.config,i):`${t.config.apiScheme}://${i}`}function $M(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ot(this.auth,"network-request-failed")),FM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ru(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ot(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t){return t!==void 0&&t.getResponse!==void 0}function _T(t){return t!==void 0&&t.enterprise!==void 0}class jM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $M(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(t){return(await Xe(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function zM(t,e){return Xe(t,"GET","/v2/recaptchaConfig",Ye(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e){return Xe(t,"POST","/v1/accounts:delete",e)}async function qM(t,e){return Xe(t,"POST","/v1/accounts:update",e)}async function HM(t,e){return Xe(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KM(t,e=!1){const n=W(t),r=await n.getIdToken(e),i=Ip(r);N(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wu(Fg(i.auth_time)),issuedAtTime:wu(Fg(i.iat)),expirationTime:wu(Fg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fg(t){return Number(t)*1e3}function Ip(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const i=kP(n);return i?JSON.parse(i):(Ih("Failed to decode base64 JWT payload"),null)}catch(i){return Ih("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function GM(t){const e=Ip(t);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ui(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zt&&QM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function QM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ui(t,HM(n,{idToken:r}));N(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ZM(s.providerUserInfo):[],a=JM(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eb(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function XM(t){const e=W(t);await tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZM(t){return t.map(e=>{var{providerId:n}=e,r=I0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eF(t,e){const n=await JP(t,{},async()=>{const r=nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ZP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",XP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tF(t,e){return Xe(t,"POST","/v2/accounts:revokeToken",Ye(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return N(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await eF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new nc;return r&&(N(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(N(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(N(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nc,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){N(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=I0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ui(this,this.stsTokenManager.getToken(this.auth,e));return N(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KM(this,e)}reload(){return XM(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ui(this,WM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:I,isAnonymous:E,providerData:T,stsTokenManager:R}=n;N(y&&R,e,"internal-error");const b=nc.fromJSON(this.name,R);N(typeof y=="string",e,"internal-error"),Ti(d,e.name),Ti(h,e.name),N(typeof I=="boolean",e,"internal-error"),N(typeof E=="boolean",e,"internal-error"),Ti(f,e.name),Ti(p,e.name),Ti(m,e.name),Ti(v,e.name),Ti(_,e.name),Ti(g,e.name);const U=new Zs({uid:y,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:E,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:b,createdAt:_,lastLoginAt:g});return T&&Array.isArray(T)&&(U.providerData=T.map(M=>Object.assign({},M))),v&&(U._redirectEventId=v),U}static async _fromIdTokenResponse(e,n,r=!1){const i=new nc;i.updateFromServerResponse(n);const s=new Zs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tc(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;function Sn(t){lr(t instanceof Function,"Expected a class definition");let e=vT.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tb.type="NONE";const Da=tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e,n){return`firebase:${t}:${e}:${n}`}class ya{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=eo(this.userKey,i.apiKey,s),this.fullPersistenceKey=eo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ya(Sn(Da),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Sn(Da);const o=eo(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Zs._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ya(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ya(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sb(e))return"Blackberry";if(ob(e))return"Webos";if(A0(e))return"Safari";if((e.includes("chrome/")||rb(e))&&!e.includes("edge/"))return"Chrome";if(Uc(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nb(t=De()){return/firefox\//i.test(t)}function A0(t=De()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rb(t=De()){return/crios\//i.test(t)}function ib(t=De()){return/iemobile/i.test(t)}function Uc(t=De()){return/android/i.test(t)}function sb(t=De()){return/blackberry/i.test(t)}function ob(t=De()){return/webos/i.test(t)}function sl(t=De()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nF(t=De()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function rF(t=De()){var e;return sl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iF(){return DP()&&document.documentMode===10}function ab(t=De()){return sl(t)||Uc(t)||ob(t)||sb(t)||/windows phone/i.test(t)||ib(t)}function sF(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t,e=[]){let n;switch(t){case"Browser":n=wT(De());break;case"Worker":n=`${wT(De())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e={}){return Xe(t,"GET","/v2/passwordPolicy",Ye(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=6;class uF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ET(this),this.idTokenSubscription=new ET(this),this.beforeStateQueue=new oF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ya.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return N(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?W(e):null;return n&&N(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&N(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Sn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aF(this),n=new uF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new To("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Sn(e)||this._popupRedirectResolver;N(n,this,"argument-error"),this.redirectPersistenceManager=await ya.create(this,[Sn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&DM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ke(t){return W(t)}class ET{constructor(e){this.auth=e,this.observer=null,this.addObserver=VP(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dF(t){jc=t}function P0(t){return jc.loadJS(t)}function hF(){return jc.recaptchaV2Script}function fF(){return jc.recaptchaEnterpriseScript}function pF(){return jc.gapiScript}function ub(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const mF="recaptcha-enterprise",gF="NO_RECAPTCHA";class yF{constructor(e){this.type=mF,this.auth=Ke(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{zM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new jM(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;_T(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(gF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&_T(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=fF();l.length!==0&&(l+=a),P0(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function IT(t,e,n,r=!1){const i=new yF(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function rc(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await IT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await IT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t,e){const n=Ep(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Na(s,e??{}))return i;wt(i,"already-initialized")}return n.initialize({options:e})}function vF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cb(t,e,n){const r=Ke(t);N(r._canInitEmulator,r,"emulator-config-failed"),N(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=db(e),{host:o,port:a}=wF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||EF()}function db(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wF(t){const e=db(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:TT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:TT(o)}}}function TT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,n){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(t,e){return Xe(t,"POST","/v1/accounts:resetPassword",Ye(t,e))}async function IF(t,e){return Xe(t,"POST","/v1/accounts:update",e)}async function TF(t,e){return Xe(t,"POST","/v1/accounts:signUp",e)}async function SF(t,e){return Xe(t,"POST","/v1/accounts:update",Ye(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RF(t,e){return gi(t,"POST","/v1/accounts:signInWithPassword",Ye(t,e))}async function Tp(t,e){return Xe(t,"POST","/v1/accounts:sendOobCode",Ye(t,e))}async function AF(t,e){return Tp(t,e)}async function PF(t,e){return Tp(t,e)}async function bF(t,e){return Tp(t,e)}async function CF(t,e){return Tp(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kF(t,e){return gi(t,"POST","/v1/accounts:signInWithEmailLink",Ye(t,e))}async function xF(t,e){return gi(t,"POST","/v1/accounts:signInWithEmailLink",Ye(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends ol{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ic(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ic(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rc(e,n,"signInWithPassword",RF);case"emailLink":return kF(e,{email:this._email,oobCode:this._password});default:wt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rc(e,r,"signUpPassword",TF);case"emailLink":return xF(e,{idToken:n,email:this._email,oobCode:this._password});default:wt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ri(t,e){return gi(t,"POST","/v1/accounts:signInWithIdp",Ye(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="http://localhost";class Mr extends ol{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=I0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Mr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ri(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ri(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ri(e,n)}buildRequest(){const e={requestUri:OF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(t,e){return Xe(t,"POST","/v1/accounts:sendVerificationCode",Ye(t,e))}async function DF(t,e){return gi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ye(t,e))}async function LF(t,e){const n=await gi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ye(t,e));if(n.temporaryProof)throw ru(t,"account-exists-with-different-credential",n);return n}const VF={USER_NOT_FOUND:"user-not-found"};async function MF(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return gi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ye(t,n),VF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends ol{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new to({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new to({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return DF(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return LF(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return MF(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new to({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $F(t){const e=ua(nu(t)).link,n=e?ua(nu(e)).deep_link_id:null,r=ua(nu(t)).deep_link_id;return(r?ua(nu(r)).link:null)||r||n||e||t}class Sp{constructor(e){var n,r,i,s,o,a;const l=ua(nu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=FF((i=l.mode)!==null&&i!==void 0?i:null);N(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$F(e);try{return new Sp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.providerId=ws.PROVIDER_ID}static credential(e,n){return ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sp.parseLink(n);return N(r,"argument-error"),ic._fromEmailAndCode(e,r.code,r.tenantId)}}ws.PROVIDER_ID="password";ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends yi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _a extends al{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return N("providerId"in n&&"signInMethod"in n,"argument-error"),Mr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return N(e.idToken||e.accessToken,"argument-error"),Mr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return _a.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return _a.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new _a(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends al{constructor(){super("facebook.com")}static credential(e){return Mr._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mr._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _r.credential(n,r)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends al{constructor(){super("github.com")}static credential(e){return Mr._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF="http://localhost";class La extends ol{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ri(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ri(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ri(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new La(r,s)}static _create(e,n){return new La(e,n)}buildRequest(){return{requestUri:UF,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="saml.";class wf extends yi{constructor(e){N(e.startsWith(jF),"argument-error"),super(e)}static credentialFromResult(e){return wf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return wf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=La.fromJSON(e);return N(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return La._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends al{constructor(){super("twitter.com")}static credential(e,n){return Mr._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(t,e){return gi(t,"POST","/v1/accounts:signUp",Ye(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Zs._fromIdTokenResponse(e,r,i),o=ST(r);return new Hn({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ST(r);return new Hn({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ST(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BF(t){var e;const n=Ke(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Hn({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await fb(n,{returnSecureToken:!0}),i=await Hn._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends Zt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ef.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ef(e,n,r,i)}}function pb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ef._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(t,e){const n=W(t);await Rp(!0,n,e);const{providerUserInfo:r}=await qM(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=mb(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function b0(t,e,n=!1){const r=await ui(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hn._forOperation(t,"link",r)}async function Rp(t,e,n){await tc(e);const r=mb(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";N(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ui(t,pb(r,i,e,t),n);N(s.idToken,r,"internal-error");const o=Ip(s.idToken);N(o,r,"internal-error");const{sub:a}=o;return N(t.uid===a,r,"user-mismatch"),Hn._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&wt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(t,e,n=!1){const r="signIn",i=await pb(t,r,e),s=await Hn._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Ap(t,e){return yb(Ke(t),e)}async function _b(t,e){const n=W(t);return await Rp(!1,n,e.providerId),b0(n,e)}async function vb(t,e){return gb(W(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t,e){return gi(t,"POST","/v1/accounts:signInWithCustomToken",Ye(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(t,e){const n=Ke(t),r=await WF(n,{token:e,returnSecureToken:!0}),i=await Hn._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?C0._fromServerResponse(e,n):"totpInfo"in n?k0._fromServerResponse(e,n):wt(e,"internal-error")}}class C0 extends Bc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new C0(n)}}class k0 extends Bc{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new k0(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t,e,n){var r;N(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),N(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(N(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(N(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0(t){const e=Ke(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HF(t,e,n){const r=Ke(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Pp(r,i,n),await rc(r,i,"getOobCode",PF)}async function KF(t,e,n){await hb(W(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&x0(t),r})}async function GF(t,e){await SF(W(t),{oobCode:e})}async function wb(t,e){const n=W(t),r=await hb(n,{oobCode:e}),i=r.requestType;switch(N(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":N(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":N(r.mfaInfo,n,"internal-error");default:N(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Bc._fromServerResponse(Ke(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function QF(t,e){const{data:n}=await wb(W(t),e);return n.email}async function Eb(t,e,n){const r=Ke(t),o=await rc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fb).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&x0(t),l}),a=await Hn._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Ib(t,e,n){return Ap(W(t),ws.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&x0(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(t,e,n){const r=Ke(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){N(a.handleCodeInApp,r,"argument-error"),a&&Pp(r,o,a)}s(i,n),await rc(r,i,"getOobCode",bF)}function XF(t,e){const n=Sp.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function JF(t,e,n){const r=W(t),i=ws.credentialWithLink(e,n||ec());return N(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ap(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZF(t,e){return Xe(t,"POST","/v1/accounts:createAuthUri",Ye(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e$(t,e){const n=S0()?ec():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await ZF(W(t),r);return i||[]}async function t$(t,e){const n=W(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Pp(n.auth,i,e);const{email:s}=await AF(n.auth,i);s!==t.email&&await t.reload()}async function n$(t,e,n){const r=W(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Pp(r.auth,s,n);const{email:o}=await CF(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r$(t,e){return Xe(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i$(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=W(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ui(r,r$(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function s$(t,e){return Tb(W(t),e,null)}function o$(t,e){return Tb(W(t),null,e)}async function Tb(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await ui(t,IF(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=Ip(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new va(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new l$(s,i);case"github.com":return new u$(s,i);case"google.com":return new c$(s,i);case"twitter.com":return new d$(s,i,t.screenName||null);case"custom":case"anonymous":return new va(s,null);default:return new va(s,r,i)}}class va{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class Sb extends va{constructor(e,n,r,i){super(e,n,r),this.username=i}}class l$ extends va{constructor(e,n){super(e,"facebook.com",n)}}class u$ extends Sb{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class c$ extends va{constructor(e,n){super(e,"google.com",n)}}class d$ extends Sb{constructor(e,n,r){super(e,"twitter.com",n,r)}}function h$(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:a$(n)}function f$(t,e,n,r){return W(t).onIdTokenChanged(e,n,r)}function p$(t,e,n){return W(t).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Hs("enroll",e,n)}static _fromMfaPendingCredential(e){return new Hs("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Hs._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Hs._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ke(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Bc._fromServerResponse(r,a));N(i.mfaPendingCredential,r,"internal-error");const o=Hs._fromMfaPendingCredential(i.mfaPendingCredential);return new O0(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await Hn._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return N(n.user,r,"internal-error"),Hn._forOperation(n.user,n.operationType,u);default:wt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function m$(t,e){var n;const r=W(t),i=e;return N(e.customData.operationType,r,"argument-error"),N((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),O0._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t,e){return Xe(t,"POST","/v2/accounts/mfaEnrollment:start",Ye(t,e))}function y$(t,e){return Xe(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ye(t,e))}function _$(t,e){return Xe(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Ye(t,e))}class N0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Bc._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new N0(e)}async getSession(){return Hs._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await ui(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await ui(this.user,_$(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const $g=new WeakMap;function v$(t){const e=W(t);return $g.has(e)||$g.set(e,N0._fromUser(e)),$g.get(e)}const If="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(If,"1"),this.storage.removeItem(If),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(){const t=De();return A0(t)||sl(t)}const E$=1e3,I$=10;class Ab extends Rb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=w$()&&sF(),this.fallbackToPolling=ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);iF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,I$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},E$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ab.type="LOCAL";const bp=Ab;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends Rb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Pb.type="SESSION";const ss=Pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Cp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await T$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=zc("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(){return window}function R$(t){ot().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){return typeof ot().WorkerGlobalScope<"u"&&typeof ot().importScripts=="function"}async function A$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function b$(){return D0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firebaseLocalStorageDb",C$=1,Tf="firebaseLocalStorage",Cb="fbase_key";class Wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kp(t,e){return t.transaction([Tf],e?"readwrite":"readonly").objectStore(Tf)}function k$(){const t=indexedDB.deleteDatabase(bb);return new Wc(t).toPromise()}function c_(){const t=indexedDB.open(bb,C$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tf,{keyPath:Cb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tf)?e(r):(r.close(),await k$(),e(await c_()))})})}async function RT(t,e,n){const r=kp(t,!0).put({[Cb]:e,value:n});return new Wc(r).toPromise()}async function x$(t,e){const n=kp(t,!1).get(e),r=await new Wc(n).toPromise();return r===void 0?null:r.value}function AT(t,e){const n=kp(t,!0).delete(e);return new Wc(n).toPromise()}const O$=800,N$=3;class kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>N$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cp._getInstance(b$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await A$(),!this.activeServiceWorker)return;this.sender=new S$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c_();return await RT(e,If,"1"),await AT(e,If),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>RT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>x$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=kp(i,!1).getAll();return new Wc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kb.type="LOCAL";const Va=kb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t,e){return Xe(t,"POST","/v2/accounts/mfaSignIn:start",Ye(t,e))}function L$(t,e){return Xe(t,"POST","/v2/accounts/mfaSignIn:finalize",Ye(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=500,M$=6e4,qd=1e12;class F${constructor(e){this.auth=e,this.counter=qd,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new $$(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||qd;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||qd;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||qd;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class $${constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;N(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=U$(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},M$)},V$))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function U$(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=ub("rcb"),j$=new $c(3e4,6e4);class B${constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ot().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return N(z$(n),e,"argument-error"),this.shouldResolveImmediately(n)&&yT(ot().grecaptcha)?Promise.resolve(ot().grecaptcha):new Promise((r,i)=>{const s=ot().setTimeout(()=>{i(Ot(e,"network-request-failed"))},j$.get());ot()[Ug]=()=>{ot().clearTimeout(s),delete ot()[Ug];const a=ot().grecaptcha;if(!a||!yT(a)){i(Ot(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${hF()}?${nl({onload:Ug,render:"explicit",hl:n})}`;P0(o).catch(()=>{clearTimeout(s),i(Ot(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=ot().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function z$(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class W${async load(e){return new F$(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="recaptcha",q$={theme:"light",type:"image"};let H$=class{constructor(e,n,r=Object.assign({},q$)){this.parameters=r,this.type=xb,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ke(e),this.isInvisible=this.parameters.size==="invisible",N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;N(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new W$:new B$,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){N(!this.parameters.sitekey,this.auth,"argument-error"),N(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=ot()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){N(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){N(S0()&&!D0(),this.auth,"internal-error"),await K$(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await BM(this.auth);N(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return N(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function K$(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=to._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function G$(t,e,n){const r=Ke(t),i=await xp(r,e,W(n));return new L0(i,s=>Ap(r,s))}async function Q$(t,e,n){const r=W(t);await Rp(!1,r,"phone");const i=await xp(r.auth,e,W(n));return new L0(i,s=>_b(r,s))}async function Y$(t,e,n){const r=W(t),i=await xp(r.auth,e,W(n));return new L0(i,s=>vb(r,s))}async function xp(t,e,n){var r;const i=await n.verify();try{N(typeof i=="string",t,"argument-error"),N(n.type===xb,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return N(o.type==="enroll",t,"internal-error"),(await g$(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{N(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return N(a,t,"missing-multi-factor-info"),(await D$(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await NF(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function X$(t,e){await b0(W(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo=class Th{constructor(e){this.providerId=Th.PROVIDER_ID,this.auth=Ke(e)}verifyPhoneNumber(e,n){return xp(this.auth,e,W(n))}static credential(e,n){return to._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Th.credentialFromTaggedObject(n)}static credentialFromError(e){return Th.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?to._fromTokenResponse(n,r):null}};uo.PROVIDER_ID="phone";uo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){return e?Sn(e):(N(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends ol{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ri(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ri(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ri(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J$(t){return yb(t.auth,new V0(t),t.bypassAuthState)}function Z$(t){const{auth:e,user:n}=t;return N(n,e,"internal-error"),gb(n,new V0(t),t.bypassAuthState)}async function e4(t){const{auth:e,user:n}=t;return N(n,e,"internal-error"),b0(n,new V0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J$;case"linkViaPopup":case"linkViaRedirect":return e4;case"reauthViaPopup":case"reauthViaRedirect":return Z$;default:wt(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new $c(2e3,1e4);async function n4(t,e,n){const r=Ke(t);il(t,e,yi);const i=So(r,n);return new Yr(r,"signInViaPopup",e,i).executeNotNull()}async function r4(t,e,n){const r=W(t);il(r.auth,e,yi);const i=So(r.auth,n);return new Yr(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function i4(t,e,n){const r=W(t);il(r.auth,e,yi);const i=So(r.auth,n);return new Yr(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Yr extends Ob{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Yr.currentPopupAction&&Yr.currentPopupAction.cancel(),Yr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return N(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=zc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ot(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ot(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ot(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t4.get())};e()}}Yr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="pendingRedirect",Eu=new Map;class o4 extends Ob{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Eu.get(this.auth._key());if(!e){try{const r=await a4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Eu.set(this.auth._key(),e)}return this.bypassAuthState||Eu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a4(t,e){const n=Db(e),r=Nb(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function M0(t,e){return Nb(t)._set(Db(e),"true")}function l4(){Eu.clear()}function F0(t,e){Eu.set(t._key(),e)}function Nb(t){return Sn(t._redirectPersistence)}function Db(t){return eo(s4,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t,e,n){return c4(t,e,n)}async function c4(t,e,n){const r=Ke(t);il(t,e,yi),await r._initializationPromise;const i=So(r,n);return await M0(i,r),i._openRedirect(r,e,"signInViaRedirect")}function d4(t,e,n){return h4(t,e,n)}async function h4(t,e,n){const r=W(t);il(r.auth,e,yi),await r.auth._initializationPromise;const i=So(r.auth,n);await M0(i,r.auth);const s=await Lb(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function f4(t,e,n){return p4(t,e,n)}async function p4(t,e,n){const r=W(t);il(r.auth,e,yi),await r.auth._initializationPromise;const i=So(r.auth,n);await Rp(!1,r,e.providerId),await M0(i,r.auth);const s=await Lb(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function m4(t,e){return await Ke(t)._initializationPromise,Op(t,e,!1)}async function Op(t,e,n=!1){const r=Ke(t),i=So(r,e),o=await new o4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function Lb(t){const e=zc(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=10*60*1e3;class Vb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Mb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ot(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g4&&this.cachedEventUids.clear(),this.cachedEventUids.has(PT(e))}saveEventToCache(e){this.cachedEventUids.add(PT(e)),this.lastProcessedEventTime=Date.now()}}function PT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Mb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(t,e={}){return Xe(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v4=/^https?/;async function w4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Fb(t);for(const n of e)try{if(E4(n))return}catch{}wt(t,"unauthorized-domain")}function E4(t){const e=ec(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!v4.test(n))return!1;if(_4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=new $c(3e4,6e4);function bT(){const t=ot().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function T4(t){return new Promise((e,n)=>{var r,i,s;function o(){bT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bT(),n(Ot(t,"network-request-failed"))},timeout:I4.get()})}if(!((i=(r=ot().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ot().gapi)===null||s===void 0)&&s.load)o();else{const a=ub("iframefcb");return ot()[a]=()=>{gapi.load?o():n(Ot(t,"network-request-failed"))},P0(`${pF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function S4(t){return Sh=Sh||T4(t),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new $c(5e3,15e3),A4="__/auth/iframe",P4="emulator/auth/iframe",b4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k4(t){const e=t.config;N(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?R0(e,P4):`https://${t.config.authDomain}/${A4}`,r={apiKey:e.apiKey,appName:t.name,v:vs},i=C4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nl(r).slice(1)}`}async function x4(t){const e=await S4(t),n=ot().gapi;return N(n,t,"internal-error"),e.open({where:document.body,url:k4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ot(t,"network-request-failed"),a=ot().setTimeout(()=>{s(o)},R4.get());function l(){ot().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N4=500,D4=600,L4="_blank",V4="http://localhost";class CT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M4(t,e,n,r=N4,i=D4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},O4),{width:r.toString(),height:i.toString(),top:s,left:o}),u=De().toLowerCase();n&&(a=rb(u)?L4:n),nb(u)&&(e=e||V4,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(rF(u)&&a!=="_self")return F4(e||"",a),new CT(null);const d=window.open(e||"",a,c);N(d,t,"popup-blocked");try{d.focus()}catch{}return new CT(d)}function F4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="__/auth/handler",U4="emulator/auth/handler",j4=encodeURIComponent("fac");async function d_(t,e,n,r,i,s){N(t.config.authDomain,t,"auth-domain-config-required"),N(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vs,eventId:i};if(e instanceof yi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof al){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${j4}=${encodeURIComponent(l)}`:"";return`${B4(t)}?${nl(a).slice(1)}${u}`}function B4({config:t}){return t.emulator?R0(t,U4):`https://${t.authDomain}/${$4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="webStorageSupport";class z4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ss,this._completeRedirectFn=Op,this._overrideRedirectResult=F0}async _openPopup(e,n,r,i){var s;lr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await d_(e,n,r,ec(),i);return M4(e,o,zc())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await d_(e,n,r,ec(),i);return R$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(lr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await x4(e),r=new Vb(e);return n.register("authEvent",i=>(N(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jg,{type:jg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[jg];o!==void 0&&n(!!o),wt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=w4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ab()||A0()||sl()}}const $b=z4;class W4{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Ir("unexpected MultiFactorSessionType")}}}class $0 extends W4{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new $0(e)}_finalizeEnroll(e,n,r){return y$(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return L$(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ub{constructor(){}static assertion(e){return $0._fromCredential(e)}}Ub.FACTOR_ID="phone";var kT="@firebase/auth",xT="1.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K4(t){is(new Vr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;N(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lb(t)},u=new cF(r,i,s,l);return vF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),is(new Vr("auth-internal",e=>{const n=Ke(e.getProvider("auth").getImmediate());return(r=>new q4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(kT,xT,H4(t)),Or(kT,xT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=5*60,Q4=OP("authIdTokenMaxAge")||G4;let OT=null;const Y4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Q4)return;const i=n==null?void 0:n.token;OT!==i&&(OT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function X4(t=jP()){const e=Ep(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_F(t,{popupRedirectResolver:$b,persistence:[Va,bp,ss]}),r=OP("authTokenSyncURL");if(r){const s=Y4(r);p$(n,s,()=>s(n.currentUser)),f$(n,o=>s(o))}const i=tV("auth");return i&&cb(n,`http://${i}`),n}function J4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ot("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",J4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K4("Browser");var Z4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,U0=U0||{},H=Z4||self;function Np(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function qc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function eU(t){return Object.prototype.hasOwnProperty.call(t,Bg)&&t[Bg]||(t[Bg]=++tU)}var Bg="closure_uid_"+(1e9*Math.random()>>>0),tU=0;function nU(t,e,n){return t.call.apply(t.bind,arguments)}function rU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Bt=nU:Bt=rU,Bt.apply(null,arguments)}function Hd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Es(){this.s=this.s,this.o=this.o}var iU=0;Es.prototype.s=!1;Es.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),iU!=0)&&eU(this)};Es.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function j0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function NT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Np(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var sU=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};H.addEventListener("test",n,e),H.removeEventListener("test",n,e)}catch{}return t}();function sc(t){return/^[\s\xa0]*$/.test(t)}function Dp(){var t=H.navigator;return t&&(t=t.userAgent)?t:""}function Er(t){return Dp().indexOf(t)!=-1}function B0(t){return B0[" "](t),t}B0[" "]=function(){};function oU(t,e){var n=JU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var aU=Er("Opera"),Ma=Er("Trident")||Er("MSIE"),Bb=Er("Edge"),h_=Bb||Ma,zb=Er("Gecko")&&!(Dp().toLowerCase().indexOf("webkit")!=-1&&!Er("Edge"))&&!(Er("Trident")||Er("MSIE"))&&!Er("Edge"),lU=Dp().toLowerCase().indexOf("webkit")!=-1&&!Er("Edge");function Wb(){var t=H.document;return t?t.documentMode:void 0}var f_;e:{var zg="",Wg=function(){var t=Dp();if(zb)return/rv:([^\);]+)(\)|;)/.exec(t);if(Bb)return/Edge\/([\d\.]+)/.exec(t);if(Ma)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(lU)return/WebKit\/(\S+)/.exec(t);if(aU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Wg&&(zg=Wg?Wg[1]:""),Ma){var qg=Wb();if(qg!=null&&qg>parseFloat(zg)){f_=String(qg);break e}}f_=zg}var p_;if(H.document&&Ma){var DT=Wb();p_=DT||parseInt(f_,10)||void 0}else p_=void 0;var uU=p_;function oc(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(zb){e:{try{B0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:cU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&oc.$.h.call(this)}}It(oc,zt);var cU={2:"touch",3:"pen",4:"mouse"};oc.prototype.h=function(){oc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Hc="closure_listenable_"+(1e6*Math.random()|0),dU=0;function hU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++dU,this.fa=this.ia=!1}function Lp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function z0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function fU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function qb(t){const e={};for(const n in t)e[n]=t[n];return e}const LT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hb(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<LT.length;s++)n=LT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Vp(t){this.src=t,this.g={},this.h=0}Vp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=g_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new hU(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function m_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=jb(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Lp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function g_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var W0="closure_lm_"+(1e6*Math.random()|0),Hg={};function Kb(t,e,n,r,i){if(r&&r.once)return Qb(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Kb(t,e[s],n,r,i);return null}return n=K0(n),t&&t[Hc]?t.O(e,n,qc(r)?!!r.capture:!!r,i):Gb(t,e,n,!1,r,i)}function Gb(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=qc(i)?!!i.capture:!!i,a=H0(t);if(a||(t[W0]=a=new Vp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=pU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)sU||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Xb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function pU(){function t(n){return e.call(t.src,t.listener,n)}const e=mU;return t}function Qb(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Qb(t,e[s],n,r,i);return null}return n=K0(n),t&&t[Hc]?t.P(e,n,qc(r)?!!r.capture:!!r,i):Gb(t,e,n,!0,r,i)}function Yb(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Yb(t,e[s],n,r,i);else r=qc(r)?!!r.capture:!!r,n=K0(n),t&&t[Hc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=g_(s,n,r,i),-1<n&&(Lp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=H0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=g_(e,n,r,i)),(n=-1<t?e[t]:null)&&q0(n))}function q0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Hc])m_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Xb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=H0(e))?(m_(n,t),n.h==0&&(n.src=null,e[W0]=null)):Lp(t)}}}function Xb(t){return t in Hg?Hg[t]:Hg[t]="on"+t}function mU(t,e){if(t.fa)t=!0;else{e=new oc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&q0(t),t=n.call(r,e)}return t}function H0(t){return t=t[W0],t instanceof Vp?t:null}var Kg="__closure_events_fn_"+(1e9*Math.random()>>>0);function K0(t){return typeof t=="function"?t:(t[Kg]||(t[Kg]=function(e){return t.handleEvent(e)}),t[Kg])}function Et(){Es.call(this),this.i=new Vp(this),this.S=this,this.J=null}It(Et,Es);Et.prototype[Hc]=!0;Et.prototype.removeEventListener=function(t,e,n,r){Yb(this,t,e,n,r)};function Nt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;e=new zt(r,t),Hb(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Kd(o,r,!0,e)&&i}if(o=e.g=t,i=Kd(o,r,!0,e)&&i,i=Kd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Kd(o,r,!1,e)&&i}Et.prototype.N=function(){if(Et.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Lp(n[r]);delete t.g[e],t.h--}}this.J=null};Et.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Et.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Kd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&m_(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var G0=H.JSON.stringify;class gU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function yU(){var t=Q0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class _U{constructor(){this.h=this.g=null}add(e,n){const r=Jb.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Jb=new gU(()=>new vU,t=>t.reset());class vU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function wU(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function EU(t){H.setTimeout(()=>{throw t},0)}let ac,lc=!1,Q0=new _U,Zb=()=>{const t=H.Promise.resolve(void 0);ac=()=>{t.then(IU)}};var IU=()=>{for(var t;t=yU();){try{t.h.call(t.g)}catch(n){EU(n)}var e=Jb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}lc=!1};function Mp(t,e){Et.call(this),this.h=t||1,this.g=e||H,this.j=Bt(this.qb,this),this.l=Date.now()}It(Mp,Et);V=Mp.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nt(this,"tick"),this.ga&&(Y0(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Y0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){Mp.$.N.call(this),Y0(this),delete this.g};function X0(t,e,n){if(typeof t=="function")n&&(t=Bt(t,n));else if(t&&typeof t.handleEvent=="function")t=Bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function eC(t){t.g=X0(()=>{t.g=null,t.i&&(t.i=!1,eC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class TU extends Es{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:eC(this)}N(){super.N(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uc(t){Es.call(this),this.h=t,this.g={}}It(uc,Es);var VT=[];function tC(t,e,n,r){Array.isArray(n)||(n&&(VT[0]=n.toString()),n=VT);for(var i=0;i<n.length;i++){var s=Kb(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function nC(t){z0(t.g,function(e,n){this.g.hasOwnProperty(n)&&q0(e)},t),t.g={}}uc.prototype.N=function(){uc.$.N.call(this),nC(this)};uc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fp(){this.g=!0}Fp.prototype.Ea=function(){this.g=!1};function SU(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function RU(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ca(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+PU(t,n)+(r?" "+r:"")})}function AU(t,e){t.info(function(){return"TIMEOUT: "+e})}Fp.prototype.info=function(){};function PU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return G0(n)}catch{return e}}var Ro={},MT=null;function $p(){return MT=MT||new Et}Ro.Ta="serverreachability";function rC(t){zt.call(this,Ro.Ta,t)}It(rC,zt);function cc(t){const e=$p();Nt(e,new rC(e))}Ro.STAT_EVENT="statevent";function iC(t,e){zt.call(this,Ro.STAT_EVENT,t),this.stat=e}It(iC,zt);function Xt(t){const e=$p();Nt(e,new iC(e,t))}Ro.Ua="timingevent";function sC(t,e){zt.call(this,Ro.Ua,t),this.size=e}It(sC,zt);function Kc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}var Up={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},oC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function J0(){}J0.prototype.h=null;function FT(t){return t.h||(t.h=t.i())}function aC(){}var Gc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Z0(){zt.call(this,"d")}It(Z0,zt);function ew(){zt.call(this,"c")}It(ew,zt);var y_;function jp(){}It(jp,J0);jp.prototype.g=function(){return new XMLHttpRequest};jp.prototype.i=function(){return{}};y_=new jp;function Qc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new uc(this),this.P=bU,t=h_?125:void 0,this.V=new Mp(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new lC}function lC(){this.i=null,this.g="",this.h=!1}var bU=45e3,uC={},__={};V=Qc.prototype;V.setTimeout=function(t){this.P=t};function v_(t,e,n){t.L=1,t.A=zp(ci(e)),t.u=n,t.S=!0,cC(t,null)}function cC(t,e){t.G=Date.now(),Yc(t),t.B=ci(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),_C(n.i,"t",r),t.o=0,n=t.l.J,t.h=new lC,t.g=$C(t.l,n?e:null,!t.u),0<t.O&&(t.M=new TU(Bt(t.Pa,t,t.g),t.O)),tC(t.U,t.g,"readystatechange",t.nb),e=t.I?qb(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),cc(),SU(t.j,t.v,t.B,t.m,t.W,t.u)}V.nb=function(t){t=t.target;const e=this.M;e&&Tr(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{const c=Tr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||h_||this.g&&(this.h.h||this.g.ja()||BT(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?cc(3):cc(2)),Bp(this);var n=this.g.da();this.ca=n;t:if(dC(this)){var r=BT(this.g);t="";var i=r.length,s=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ks(this),Iu(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,RU(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sc(a)){var u=a;break t}}u=null}if(n=u)ca(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,w_(this,n);else{this.i=!1,this.s=3,Xt(12),Ks(this),Iu(this);break e}}this.S?(hC(this,c,o),h_&&this.i&&c==3&&(tC(this.U,this.V,"tick",this.mb),this.V.start())):(ca(this.j,this.m,o,null),w_(this,o)),c==4&&Ks(this),this.i&&!this.J&&(c==4?LC(this.l,this):(this.i=!1,Yc(this)))}else QU(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),Ks(this),Iu(this)}}}catch{}finally{}};function dC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function hC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=CU(t,n),i==__){e==4&&(t.s=4,Xt(14),r=!1),ca(t.j,t.m,null,"[Incomplete Response]");break}else if(i==uC){t.s=4,Xt(15),ca(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ca(t.j,t.m,i,null),w_(t,i);dC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ow(e),e.M=!0,Xt(11))):(ca(t.j,t.m,n,"[Invalid Chunked Response]"),Ks(t),Iu(t))}V.mb=function(){if(this.g){var t=Tr(this.g),e=this.g.ja();this.o<e.length&&(Bp(this),hC(this,t,e),this.i&&t!=4&&Yc(this))}};function CU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?__:(n=Number(e.substring(n,r)),isNaN(n)?uC:(r+=1,r+n>e.length?__:(e=e.slice(r,r+n),t.o=r+n,e)))}V.cancel=function(){this.J=!0,Ks(this)};function Yc(t){t.Y=Date.now()+t.P,fC(t,t.P)}function fC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Kc(Bt(t.lb,t),e)}function Bp(t){t.C&&(H.clearTimeout(t.C),t.C=null)}V.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(AU(this.j,this.B),this.L!=2&&(cc(),Xt(17)),Ks(this),this.s=2,Iu(this)):fC(this,this.Y-t)};function Iu(t){t.l.H==0||t.J||LC(t.l,t)}function Ks(t){Bp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Y0(t.V),nC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function w_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||E_(n.i,t))){if(!t.K&&E_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Af(n),Kp(n);else break e;sw(n),Xt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Kc(Bt(n.ib,n),6e3));if(1>=EC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gs(n,11)}else if((t.K||n.g==t)&&Af(n),!sc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(tw(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Ae(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=FC(r,r.J?r.pa:null,r.Y),o.K){IC(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Bp(a),Yc(a)),r.g=o}else NC(r);0<n.j.length&&Gp(n)}else u[0]!="stop"&&u[0]!="close"||Gs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Gs(n,7):iw(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}cc(4)}catch{}}function kU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Np(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function xU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Np(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function pC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Np(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=xU(t),r=kU(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var mC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function no(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof no){this.h=t.h,Sf(this,t.j),this.s=t.s,this.g=t.g,Rf(this,t.m),this.l=t.l;var e=t.i,n=new dc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$T(this,n),this.o=t.o}else t&&(e=String(t).match(mC))?(this.h=!1,Sf(this,e[1]||"",!0),this.s=iu(e[2]||""),this.g=iu(e[3]||"",!0),Rf(this,e[4]),this.l=iu(e[5]||"",!0),$T(this,e[6]||"",!0),this.o=iu(e[7]||"")):(this.h=!1,this.i=new dc(null,this.h))}no.prototype.toString=function(){var t=[],e=this.j;e&&t.push(su(e,UT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(su(e,UT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(su(n,n.charAt(0)=="/"?LU:DU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",su(n,MU)),t.join("")};function ci(t){return new no(t)}function Sf(t,e,n){t.j=n?iu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $T(t,e,n){e instanceof dc?(t.i=e,FU(t.i,t.h)):(n||(e=su(e,VU)),t.i=new dc(e,t.h))}function Ae(t,e,n){t.i.set(e,n)}function zp(t){return Ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function iu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function su(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,NU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function NU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var UT=/[#\/\?@]/g,DU=/[#\?:]/g,LU=/[#\?]/g,VU=/[#\?@]/g,MU=/#/g;function dc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Is(t){t.g||(t.g=new Map,t.h=0,t.i&&OU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=dc.prototype;V.add=function(t,e){Is(this),this.i=null,t=ll(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function gC(t,e){Is(t),e=ll(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function yC(t,e){return Is(t),e=ll(t,e),t.g.has(e)}V.forEach=function(t,e){Is(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};V.ta=function(){Is(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};V.Z=function(t){Is(this);let e=[];if(typeof t=="string")yC(this,t)&&(e=e.concat(this.g.get(ll(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return Is(this),this.i=null,t=ll(this,t),yC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function _C(t,e,n){gC(t,e),0<n.length&&(t.i=null,t.g.set(ll(t,e),j0(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ll(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FU(t,e){e&&!t.j&&(Is(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gC(this,r),_C(this,i,n))},t)),t.j=e}var $U=class{constructor(t,e){this.g=t,this.map=e}};function vC(t){this.l=t||UU,H.PerformanceNavigationTiming?(t=H.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(H.g&&H.g.Ka&&H.g.Ka()&&H.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var UU=10;function wC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function EC(t){return t.h?1:t.g?t.g.size:0}function E_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function tw(t,e){t.g?t.g.add(e):t.h=e}function IC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}vC.prototype.cancel=function(){if(this.i=TC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function TC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return j0(t.i)}var jU=class{stringify(t){return H.JSON.stringify(t,void 0)}parse(t){return H.JSON.parse(t,void 0)}};function BU(){this.g=new jU}function zU(t,e,n){const r=n||"";try{pC(t,function(i,s){let o=i;qc(i)&&(o=G0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function WU(t,e){const n=new Fp;if(H.Image){const r=new Image;r.onload=Hd(Gd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hd(Gd,n,r,"TestLoadImage: error",!1,e),r.onabort=Hd(Gd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hd(Gd,n,r,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Gd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wp(t){this.l=t.ec||null,this.j=t.ob||!1}It(Wp,J0);Wp.prototype.g=function(){return new qp(this.l,this.j)};Wp.prototype.i=function(t){return function(){return t}}({});function qp(t,e){Et.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=nw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(qp,Et);var nw=0;V=qp.prototype;V.open=function(t,e){if(this.readyState!=nw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,hc(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||H).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xc(this)),this.readyState=nw};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,hc(this)),this.g&&(this.readyState=3,hc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function SC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Xc(this):hc(this),this.readyState==3&&SC(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,Xc(this))};V.Ya=function(t){this.g&&(this.response=t,Xc(this))};V.ka=function(){this.g&&Xc(this)};function Xc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,hc(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function hc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(qp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var qU=H.JSON.parse;function Ge(t){Et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=RC,this.L=this.M=!1}It(Ge,Et);var RC="",HU=/^https?$/i,KU=["POST","PUT"];V=Ge.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():y_.g(),this.C=this.u?FT(this.u):FT(y_),this.g.onreadystatechange=Bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){jT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=H.FormData&&t instanceof H.FormData,!(0<=jb(KU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bC(this),0<this.B&&((this.L=GU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.ua,this)):this.A=X0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jT(this,s)}};function GU(t){return Ma&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof U0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))};function jT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,AC(t),Hp(t)}function AC(t){t.F||(t.F=!0,Nt(t,"complete"),Nt(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),Hp(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hp(this,!0)),Ge.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?PC(this):this.kb())};V.kb=function(){PC(this)};function PC(t){if(t.h&&typeof U0<"u"&&(!t.C[1]||Tr(t)!=4||t.da()!=2)){if(t.v&&Tr(t)==4)X0(t.La,0,t);else if(Nt(t,"readystatechange"),Tr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(mC)[1]||null;!i&&H.self&&H.self.location&&(i=H.self.location.protocol.slice(0,-1)),r=!HU.test(i?i.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var s=2<Tr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",AC(t)}}finally{Hp(t)}}}}function Hp(t,e){if(t.g){bC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function bC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function Tr(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),qU(e)}};function BT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case RC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function QU(t){const e={};t=(t.g&&2<=Tr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(sc(t[r]))continue;var n=wU(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}fU(e,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function CC(t){let e="";return z0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function rw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=CC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ae(t,e,n))}function Ml(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kC(t){this.Ga=0,this.j=[],this.l=new Fp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ml("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ml("baseRetryDelayMs",5e3,t),this.hb=Ml("retryDelaySeedMs",1e4,t),this.eb=Ml("forwardChannelMaxRetries",2,t),this.xa=Ml("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new vC(t&&t.concurrentRequestLimit),this.Ja=new BU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=kC.prototype;V.ra=8;V.H=1;function iw(t){if(xC(t),t.H==3){var e=t.W++,n=ci(t.I);if(Ae(n,"SID",t.K),Ae(n,"RID",e),Ae(n,"TYPE","terminate"),Jc(t,n),e=new Qc(t,t.l,e),e.L=2,e.A=zp(ci(n)),n=!1,H.navigator&&H.navigator.sendBeacon)try{n=H.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&H.Image&&(new Image().src=e.A,n=!0),n||(e.g=$C(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Yc(e)}MC(t)}function Kp(t){t.g&&(ow(t),t.g.cancel(),t.g=null)}function xC(t){Kp(t),t.u&&(H.clearTimeout(t.u),t.u=null),Af(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&H.clearTimeout(t.m),t.m=null)}function Gp(t){if(!wC(t.i)&&!t.m){t.m=!0;var e=t.Na;ac||Zb(),lc||(ac(),lc=!0),Q0.add(e,t),t.C=0}}function YU(t,e){return EC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Kc(Bt(t.Na,t,e),VC(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Qc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=qb(s),Hb(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=OC(this,i,e),n=ci(this.I),Ae(n,"RID",t),Ae(n,"CVER",22),this.F&&Ae(n,"X-HTTP-Session-Id",this.F),Jc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(CC(s)))+"&"+e:this.o&&rw(n,this.o,s)),tw(this.i,i),this.bb&&Ae(n,"TYPE","init"),this.P?(Ae(n,"$req",e),Ae(n,"SID","null"),i.aa=!0,v_(i,n,null)):v_(i,n,e),this.H=2}}else this.H==3&&(t?zT(this,t):this.j.length==0||wC(this.i)||zT(this))};function zT(t,e){var n;e?n=e.m:n=t.W++;const r=ci(t.I);Ae(r,"SID",t.K),Ae(r,"RID",n),Ae(r,"AID",t.V),Jc(t,r),t.o&&t.s&&rw(r,t.o,t.s),n=new Qc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=OC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),tw(t.i,n),v_(n,r,e)}function Jc(t,e){t.na&&z0(t.na,function(n,r){Ae(e,r,n)}),t.h&&pC({},function(n,r){Ae(e,r,n)})}function OC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Bt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{zU(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function NC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ac||Zb(),lc||(ac(),lc=!0),Q0.add(e,t),t.A=0}}function sw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Kc(Bt(t.Ma,t),VC(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,DC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Kc(Bt(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xt(10),Kp(this),DC(this))};function ow(t){t.B!=null&&(H.clearTimeout(t.B),t.B=null)}function DC(t){t.g=new Qc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ci(t.wa);Ae(e,"RID","rpc"),Ae(e,"SID",t.K),Ae(e,"AID",t.V),Ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ae(e,"TO",t.qa),Ae(e,"TYPE","xmlhttp"),Jc(t,e),t.o&&t.s&&rw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=zp(ci(e)),n.u=null,n.S=!0,cC(n,t)}V.ib=function(){this.v!=null&&(this.v=null,Kp(this),sw(this),Xt(19))};function Af(t){t.v!=null&&(H.clearTimeout(t.v),t.v=null)}function LC(t,e){var n=null;if(t.g==e){Af(t),ow(t),t.g=null;var r=2}else if(E_(t.i,e))n=e.F,IC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=$p(),Nt(r,new sC(r,n)),Gp(t)}else NC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&YU(t,e)||r==2&&sw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Gs(t,5);break;case 4:Gs(t,10);break;case 3:Gs(t,6);break;default:Gs(t,2)}}}function VC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Gs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Bt(t.pb,t);n||(n=new no("//www.google.com/images/cleardot.gif"),H.location&&H.location.protocol=="http"||Sf(n,"https"),zp(n)),WU(n.toString(),r)}else Xt(2);t.H=0,t.h&&t.h.za(e),MC(t),xC(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xt(2)):(this.l.info("Failed to ping google.com"),Xt(1))};function MC(t){if(t.H=0,t.ma=[],t.h){const e=TC(t.i);(e.length!=0||t.j.length!=0)&&(NT(t.ma,e),NT(t.ma,t.j),t.i.i.length=0,j0(t.j),t.j.length=0),t.h.ya()}}function FC(t,e,n){var r=n instanceof no?ci(n):new no(n);if(r.g!="")e&&(r.g=e+"."+r.g),Rf(r,r.m);else{var i=H.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new no(null);r&&Sf(s,r),e&&(s.g=e),i&&Rf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ae(r,n,e),Ae(r,"VER",t.ra),Jc(t,r),r}function $C(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ge(new Wp({ob:n})):new Ge(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function UC(){}V=UC.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Pf(){if(Ma&&!(10<=Number(uU)))throw Error("Environmental error: no available transport.")}Pf.prototype.g=function(t,e){return new bn(t,e)};function bn(t,e){Et.call(this),this.g=new kC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!sc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ul(this)}It(bn,Et);bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=FC(t,null,t.Y),Gp(t)};bn.prototype.close=function(){iw(this.g)};bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=G0(t),t=n);e.j.push(new $U(e.fb++,t)),e.H==3&&Gp(e)};bn.prototype.N=function(){this.g.h=null,delete this.j,iw(this.g),delete this.g,bn.$.N.call(this)};function jC(t){Z0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}It(jC,Z0);function BC(){ew.call(this),this.status=1}It(BC,ew);function ul(t){this.g=t}It(ul,UC);ul.prototype.Ba=function(){Nt(this.g,"a")};ul.prototype.Aa=function(t){Nt(this.g,new jC(t))};ul.prototype.za=function(t){Nt(this.g,new BC)};ul.prototype.ya=function(){Nt(this.g,"b")};function XU(){this.blockSize=-1}function ur(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}It(ur,XU);ur.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Gg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ur.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Gg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Gg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Gg(this,r),i=0;break}}this.h=i,this.i+=e};ur.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ge(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var JU={};function aw(t){return-128<=t&&128>t?oU(t,function(e){return new ge([e|0],0>e?-1:0)}):new ge([t|0],0>t?-1:0)}function Sr(t){if(isNaN(t)||!isFinite(t))return wa;if(0>t)return Ct(Sr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=I_;return new ge(e,0)}function zC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ct(zC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sr(Math.pow(e,8)),r=wa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Sr(Math.pow(e,s)),r=r.R(s).add(Sr(o))):(r=r.R(n),r=r.add(Sr(o)))}return r}var I_=4294967296,wa=aw(0),T_=aw(1),WT=aw(16777216);V=ge.prototype;V.ea=function(){if(Mn(this))return-Ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:I_+r)*e,e*=I_}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Xr(this))return"0";if(Mn(this))return"-"+Ct(this).toString(t);for(var e=Sr(Math.pow(t,6)),n=this,r="";;){var i=Cf(n,e).g;n=bf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Xr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Xr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Mn(t){return t.h==-1}V.X=function(t){return t=bf(this,t),Mn(t)?-1:Xr(t)?0:1};function Ct(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ge(n,~t.h).add(T_)}V.abs=function(){return Mn(this)?Ct(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ge(n,n[n.length-1]&-2147483648?-1:0)};function bf(t,e){return t.add(Ct(e))}V.R=function(t){if(Xr(this)||Xr(t))return wa;if(Mn(this))return Mn(t)?Ct(this).R(Ct(t)):Ct(Ct(this).R(t));if(Mn(t))return Ct(this.R(Ct(t)));if(0>this.X(WT)&&0>t.X(WT))return Sr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Qd(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Qd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Qd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Qd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ge(n,0)};function Qd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fl(t,e){this.g=t,this.h=e}function Cf(t,e){if(Xr(e))throw Error("division by zero");if(Xr(t))return new Fl(wa,wa);if(Mn(t))return e=Cf(Ct(t),e),new Fl(Ct(e.g),Ct(e.h));if(Mn(e))return e=Cf(t,Ct(e)),new Fl(Ct(e.g),e.h);if(30<t.g.length){if(Mn(t)||Mn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=T_,r=e;0>=r.X(t);)n=qT(n),r=qT(r);var i=Vo(n,1),s=Vo(r,1);for(r=Vo(r,2),n=Vo(n,2);!Xr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Vo(r,1),n=Vo(n,1)}return e=bf(t,i.R(e)),new Fl(i,e)}for(i=wa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Sr(n),o=s.R(e);Mn(o)||0<o.X(t);)n-=r,s=Sr(n),o=s.R(e);Xr(s)&&(s=T_),i=i.add(s),t=bf(t,o)}return new Fl(i,t)}V.gb=function(t){return Cf(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ge(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ge(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ge(n,this.h^t.h)};function qT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ge(n,t.h)}function Vo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ge(i,t.h)}Pf.prototype.createWebChannel=Pf.prototype.g;bn.prototype.send=bn.prototype.u;bn.prototype.open=bn.prototype.m;bn.prototype.close=bn.prototype.close;Up.NO_ERROR=0;Up.TIMEOUT=8;Up.HTTP_ERROR=6;oC.COMPLETE="complete";aC.EventType=Gc;Gc.OPEN="a";Gc.CLOSE="b";Gc.ERROR="c";Gc.MESSAGE="d";Et.prototype.listen=Et.prototype.O;Ge.prototype.listenOnce=Ge.prototype.P;Ge.prototype.getLastError=Ge.prototype.Sa;Ge.prototype.getLastErrorCode=Ge.prototype.Ia;Ge.prototype.getStatus=Ge.prototype.da;Ge.prototype.getResponseJson=Ge.prototype.Wa;Ge.prototype.getResponseText=Ge.prototype.ja;Ge.prototype.send=Ge.prototype.ha;Ge.prototype.setWithCredentials=Ge.prototype.Oa;ur.prototype.digest=ur.prototype.l;ur.prototype.reset=ur.prototype.reset;ur.prototype.update=ur.prototype.j;ge.prototype.add=ge.prototype.add;ge.prototype.multiply=ge.prototype.R;ge.prototype.modulo=ge.prototype.gb;ge.prototype.compare=ge.prototype.X;ge.prototype.toNumber=ge.prototype.ea;ge.prototype.toString=ge.prototype.toString;ge.prototype.getBits=ge.prototype.D;ge.fromNumber=Sr;ge.fromString=zC;var ZU=function(){return new Pf},ej=function(){return $p()},Qg=Up,tj=oC,nj=Ro,HT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Yd=aC,rj=Ge,ij=ur,Ea=ge;const KT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="10.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new wp("@firebase/firestore");function Ho(){return os.logLevel}function sj(t){os.setLogLevel(t)}function x(t,...e){if(os.logLevel<=ne.DEBUG){const n=e.map(lw);os.debug(`Firestore (${cl}): ${t}`,...n)}}function et(t,...e){if(os.logLevel<=ne.ERROR){const n=e.map(lw);os.error(`Firestore (${cl}): ${t}`,...n)}}function cr(t,...e){if(os.logLevel<=ne.WARN){const n=e.map(lw);os.warn(`Firestore (${cl}): ${t}`,...n)}}function lw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(t="Unexpected state"){const e=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+t;throw et(e),new Error(e)}function B(t,e){t||$()}function oj(t,e){t||$()}function L(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class k extends Zt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class lj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uj{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new vt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B(typeof r.accessToken=="string"),new WC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(e===null||typeof e=="string"),new yt(e)}}class cj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,x("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B(typeof n.token=="string"),this.R=n.token,new hj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function G(t,e){return t<e?-1:t>e?1:0}function Fa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function HC(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new k(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ne(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?G(this.nanoseconds,e.nanoseconds):G(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new Ne(0,0))}static max(){return new z(new Ne(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r){n===void 0?n=0:n>e.length&&$(),r===void 0?r=e.length-n:r>e.length-n&&$(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class re extends fc{construct(e,n,r){return new re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new k(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new re(n)}static emptyPath(){return new re([])}}const mj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xe extends fc{construct(e,n,r){return new xe(e,n,r)}static isValidIdentifier(e){return mj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new k(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new k(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new k(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new k(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xe(n)}static emptyPath(){return new xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this.path=e}static fromPath(e){return new D(re.fromString(e))}static fromName(e){return new D(re.fromString(e).popFirst(5))}static empty(){return new D(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new D(new re(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function S_(t){return t.fields.find(e=>e.kind===2)}function Vs(t){return t.fields.filter(e=>e.kind!==2)}kf.UNKNOWN_ID=-1;class Rh{constructor(e,n){this.fieldPath=e,this.kind=n}}class pc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new pc(0,Cn.min())}}function KC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=z.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Cn(i,D.empty(),e)}function GC(t){return new Cn(t.readTime,t.key,-1)}class Cn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cn(z.min(),D.empty(),-1)}static max(){return new Cn(z.max(),D.empty(),-1)}}function uw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=D.comparator(t.documentKey,e.documentKey),n!==0?n:G(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==QC)throw t;x("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new S((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof S?n:S.resolve(n)}catch(n){return S.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):S.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):S.reject(n)}static resolve(e){return new S((n,r)=>{n(e)})}static reject(e){return new S((n,r)=>{r(e)})}static waitFor(e){return new S((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=S.resolve(!1);for(const r of e)n=n.next(i=>i?S.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new S((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new S((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new vt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Tu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=cw(r.target.error);this.V.reject(new Tu(e,i))}}static open(e,n,r,i){try{return new Qp(n,e.transaction(i,r))}catch(s){throw new Tu(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(x("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new yj(n)}}class Un{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Un.S(De())===12.2&&et("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return x("SimpleDb","Removing database:",e),Ms(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Xu())return!1;if(Un.C())return!0;const e=De(),n=Un.S(e),r=0<n&&n<10,i=Un.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(x("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Tu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new k(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new k(P.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Tu(e,o))},i.onupgradeneeded=s=>{x("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{x("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Qp.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),S.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(x("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class gj{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ms(this.k.delete())}}class Tu extends k{constructor(e,n){super(P.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ss(t){return t.name==="IndexedDbTransactionError"}class yj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(x("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(x("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ms(r)}add(e){return x("SimpleDb","ADD",this.store.name,e,e),Ms(this.store.add(e))}get(e){return Ms(this.store.get(e)).next(n=>(n===void 0&&(n=null),x("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return x("SimpleDb","DELETE",this.store.name,e),Ms(this.store.delete(e))}count(){return x("SimpleDb","COUNT",this.store.name),Ms(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new S((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new S((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){x("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new S((r,i)=>{n.onerror=s=>{const o=cw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new S((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new gj(a),u=n(a.primaryKey,a.value,l);if(u instanceof S){const c=u.catch(d=>(l.done(),S.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>S.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ms(t){return new S((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=cw(r.target.error);n(i)}})}let GT=!1;function cw(t){const e=Un.S(De());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new k("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return GT||(GT=!0,setTimeout(()=>{throw r},0)),r}}return t}class _j{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){x("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{x("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){Ss(n)?x("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ts(n)}await this.ee(6e4)})}}class vj{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return S.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return x("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(x("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=GC(s);uw(o,r)>0&&(r=o)}),new Cn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}dn._e=-1;function Zc(t){return t==null}function mc(t){return t===0&&1/t==-1/0}function XC(t){return typeof t=="number"&&Number.isInteger(t)&&!mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=QT(e)),e=wj(t.get(n),e);return QT(e)}function wj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function QT(t){return t+""}function Rr(t){const e=t.length;if(B(e>=2),e===2)return B(t.charAt(0)===""&&t.charAt(1)===""),re.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&$(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:$()}s=o+2}return new re(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t,e){return[t,en(e)]}function JC(t,e,n){return[t,en(e),n]}const Ej={},Ij=["prefixPath","collectionGroup","readTime","documentId"],Tj=["prefixPath","collectionGroup","documentId"],Sj=["collectionGroup","readTime","prefixPath","documentId"],Rj=["canonicalId","targetId"],Aj=["targetId","path"],Pj=["path","targetId"],bj=["collectionId","parent"],Cj=["indexId","uid"],kj=["uid","sequenceNumber"],xj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Oj=["indexId","uid","orderedDocumentKey"],Nj=["userId","collectionPath","documentId"],Dj=["userId","collectionPath","largestBatchId"],Lj=["userId","collectionGroup","largestBatchId"],ZC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vj=[...ZC,"documentOverlays"],ek=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tk=ek,Mj=[...tk,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_ extends YC{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Tt(t,e){const n=L(t);return Un.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new Te(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JT(this.data.getIterator())}getIteratorFrom(e){return new JT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ve(this.comparator);return n.data=e,n}}class JT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mo(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(xe.comparator)}static empty(){return new hn([])}unionWith(e){let n=new ve(xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rk("Invalid base64 string: "+s):s}}(e);return new pt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return G(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const $j=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(t){if(B(!!t),typeof t=="string"){let e=0;const n=$j.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ls(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dw(t){const e=t.mapValue.fields.__previous_value__;return Yp(e)?dw(e):e}function gc(t){const e=as(t.mapValue.fields.__local_write_time__.timestampValue);return new Ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class us{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new us("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof us&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ph={nullValue:"NULL_VALUE"};function co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yp(t)?4:ik(t)?9007199254740991:10:$()}function Fr(t,e){if(t===e)return!0;const n=co(t);if(n!==co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=as(i.timestampValue),a=as(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ls(i.bytesValue).isEqual(ls(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=He(i.doubleValue),a=He(s.doubleValue);return o===a?mc(o)===mc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Fa(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(XT(o)!==XT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fr(o[l],a[l])))return!1;return!0}(t,e);default:return $()}}function yc(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function cs(t,e){if(t===e)return 0;const n=co(t),r=co(e);if(n!==r)return G(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return G(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=He(s.integerValue||s.doubleValue),l=He(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ZT(t.timestampValue,e.timestampValue);case 4:return ZT(gc(t),gc(e));case 5:return G(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ls(s),l=ls(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=G(a[u],l[u]);if(c!==0)return c}return G(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=G(He(s.latitude),He(o.latitude));return a!==0?a:G(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=cs(a[u],l[u]);if(c)return c}return G(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ui.mapValue&&o===Ui.mapValue)return 0;if(s===Ui.mapValue)return 1;if(o===Ui.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=G(l[d],c[d]);if(h!==0)return h;const f=cs(a[l[d]],u[c[d]]);if(f!==0)return f}return G(l.length,c.length)}(t.mapValue,e.mapValue);default:throw $()}}function ZT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return G(t,e);const n=as(t),r=as(e),i=G(n.seconds,r.seconds);return i!==0?i:G(n.nanos,r.nanos)}function $a(t){return A_(t)}function A_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=as(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return D.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=A_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${A_(n.fields[o])}`;return i+"}"}(t.mapValue):$()}function ho(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function P_(t){return!!t&&"integerValue"in t}function _c(t){return!!t&&"arrayValue"in t}function e1(t){return!!t&&"nullValue"in t}function t1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bh(t){return!!t&&"mapValue"in t}function Su(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Su(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Su(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ik(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function jj(t){return"nullValue"in t?Ph:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ho(us.empty(),D.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:$()}function Bj(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ho(us.empty(),D.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ui:$()}function n1(t,e){const n=cs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function r1(t,e){const n=cs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(n)}setAll(e){let n=xe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Su(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new kt(Su(this.value))}}function sk(t){const e=[];return Ao(t.fields,(n,r)=>{const i=new xe([n]);if(bh(r)){const s=sk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pe(e,0,z.min(),z.min(),z.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new Pe(e,1,n,z.min(),r,i,0)}static newNoDocument(e,n){return new Pe(e,2,n,z.min(),z.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new Pe(e,3,n,z.min(),z.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n){this.position=e,this.inclusive=n}}function i1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=D.comparator(D.fromName(o.referenceValue),n.key):r=cs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function s1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n="asc"){this.field=e,this.dir=n}}function zj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{}class ie extends ok{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Wj(e,n,r):n==="array-contains"?new Kj(e,r):n==="in"?new hk(e,r):n==="not-in"?new Gj(e,r):n==="array-contains-any"?new Qj(e,r):new ie(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qj(e,r):new Hj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cs(n,this.value)):n!==null&&co(this.value)===co(n)&&this.matchesComparison(cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pe extends ok{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new pe(e,n)}matches(e){return Ua(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ua(t){return t.op==="and"}function b_(t){return t.op==="or"}function hw(t){return ak(t)&&Ua(t)}function ak(t){for(const e of t.filters)if(e instanceof pe)return!1;return!0}function C_(t){if(t instanceof ie)return t.field.canonicalString()+t.op.toString()+$a(t.value);if(hw(t))return t.filters.map(e=>C_(e)).join(",");{const e=t.filters.map(n=>C_(n)).join(",");return`${t.op}(${e})`}}function lk(t,e){return t instanceof ie?function(r,i){return i instanceof ie&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(t,e):t instanceof pe?function(r,i){return i instanceof pe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&lk(o,i.filters[a]),!0):!1}(t,e):void $()}function uk(t,e){const n=t.filters.concat(e);return pe.create(n,t.op)}function ck(t){return t instanceof ie?function(n){return`${n.field.canonicalString()} ${n.op} ${$a(n.value)}`}(t):t instanceof pe?function(n){return n.op.toString()+" {"+n.getFilters().map(ck).join(" ,")+"}"}(t):"Filter"}class Wj extends ie{constructor(e,n,r){super(e,n,r),this.key=D.fromName(r.referenceValue)}matches(e){const n=D.comparator(e.key,this.key);return this.matchesComparison(n)}}class qj extends ie{constructor(e,n){super(e,"in",n),this.keys=dk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Hj extends ie{constructor(e,n){super(e,"not-in",n),this.keys=dk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>D.fromName(r.referenceValue))}class Kj extends ie{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _c(n)&&yc(n.arrayValue,this.value)}}class hk extends ie{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yc(this.value.arrayValue,n)}}class Gj extends ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yc(this.value.arrayValue,n)}}class Qj extends ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_c(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function k_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Yj(t,e,n,r,i,s,o)}function fo(t){const e=L(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>C_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$a(r)).join(",")),e.ce=n}return e.ce}function ed(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s1(t.startAt,e.startAt)&&s1(t.endAt,e.endAt)}function xf(t){return D.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Of(t,e){return t.filters.filter(n=>n instanceof ie&&n.field.isEqual(e))}function o1(t,e,n){let r=Ph,i=!0;for(const s of Of(t,e)){let o=Ph,a=!0;switch(s.op){case"<":case"<=":o=jj(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Ph}n1({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];n1({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function a1(t,e,n){let r=Ui,i=!0;for(const s of Of(t,e)){let o=Ui,a=!0;switch(s.op){case">=":case">":o=Bj(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ui}r1({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];r1({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function fk(t,e,n,r,i,s,o,a){return new _i(t,e,n,r,i,s,o,a)}function dl(t){return new _i(t)}function l1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fw(t){return t.collectionGroup!==null}function Ia(t){const e=L(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ve(xe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new vc(s,r))}),n.has(xe.keyField().canonicalString())||e.le.push(new vc(xe.keyField(),r))}return e.le}function tn(t){const e=L(t);return e.he||(e.he=Xj(e,Ia(t))),e.he}function Xj(t,e){if(t.limitType==="F")return k_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new vc(i.field,s)});const n=t.endAt?new ds(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ds(t.startAt.position,t.startAt.inclusive):null;return k_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function x_(t,e){const n=t.filters.concat([e]);return new _i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Nf(t,e,n){return new _i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function td(t,e){return ed(tn(t),tn(e))&&t.limitType===e.limitType}function pk(t){return`${fo(tn(t))}|lt:${t.limitType}`}function Ko(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ck(i)).join(", ")}]`),Zc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$a(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$a(i)).join(",")),`Target(${r})`}(tn(t))}; limitType=${t.limitType})`}function nd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):D.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ia(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=i1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ia(r),i)||r.endAt&&!function(o,a,l){const u=i1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ia(r),i))}(t,e)}function mk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gk(t){return(e,n)=>{let r=!1;for(const i of Ia(t)){const s=Jj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Jj(t,e,n){const r=t.field.isKeyField()?D.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?cs(l,u):$()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new Te(D.comparator);function fn(){return Zj}const yk=new Te(D.comparator);function ou(...t){let e=yk;for(const n of t)e=e.insert(n.key,n);return e}function _k(t){let e=yk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ar(){return Ru()}function vk(){return Ru()}function Ru(){return new Rs(t=>t.toString(),(t,e)=>t.isEqual(e))}const e3=new Te(D.comparator),t3=new ve(D.comparator);function Q(...t){let e=t3;for(const n of t)e=e.add(n);return e}const n3=new ve(G);function pw(){return n3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function Ek(t){return{integerValue:""+t}}function Ik(t,e){return XC(e)?Ek(e):wk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this._=void 0}}function r3(t,e,n){return t instanceof ja?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Yp(s)&&(s=dw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof po?Sk(t,e):t instanceof mo?Rk(t,e):function(i,s){const o=Tk(i,s),a=u1(o)+u1(i.Ie);return P_(o)&&P_(i.Ie)?Ek(a):wk(i.serializer,a)}(t,e)}function i3(t,e,n){return t instanceof po?Sk(t,e):t instanceof mo?Rk(t,e):n}function Tk(t,e){return t instanceof Ba?function(r){return P_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ja extends Xp{}class po extends Xp{constructor(e){super(),this.elements=e}}function Sk(t,e){const n=Ak(e);for(const r of t.elements)n.some(i=>Fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class mo extends Xp{constructor(e){super(),this.elements=e}}function Rk(t,e){let n=Ak(e);for(const r of t.elements)n=n.filter(i=>!Fr(i,r));return{arrayValue:{values:n}}}class Ba extends Xp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function u1(t){return He(t.integerValue||t.doubleValue)}function Ak(t){return _c(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.field=e,this.transform=n}}function s3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof po&&i instanceof po||r instanceof mo&&i instanceof mo?Fa(r.elements,i.elements,Fr):r instanceof Ba&&i instanceof Ba?Fr(r.Ie,i.Ie):r instanceof ja&&i instanceof ja}(t.transform,e.transform)}class o3{constructor(e,n){this.version=e,this.transformResults=n}}class Oe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oe}static exists(e){return new Oe(void 0,e)}static updateTime(e){return new Oe(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jp{}function Pk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fl(t.key,Oe.none()):new hl(t.key,t.data,Oe.none());{const n=t.data,r=kt.empty();let i=new ve(xe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new vi(t.key,r,new hn(i.toArray()),Oe.none())}}function a3(t,e,n){t instanceof hl?function(i,s,o){const a=i.value.clone(),l=d1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vi?function(i,s,o){if(!Ch(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=d1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(bk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Au(t,e,n,r){return t instanceof hl?function(s,o,a,l){if(!Ch(s.precondition,o))return a;const u=s.value.clone(),c=h1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof vi?function(s,o,a,l){if(!Ch(s.precondition,o))return a;const u=h1(s.fieldTransforms,l,o),c=o.data;return c.setAll(bk(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Ch(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function l3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Tk(r.transform,i||null);s!=null&&(n===null&&(n=kt.empty()),n.set(r.field,s))}return n||null}function c1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fa(r,i,(s,o)=>s3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hl extends Jp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vi extends Jp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d1(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,i3(o,a,n[i]))}return r}function h1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,r3(s,o,e))}return r}class fl extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mw extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&a3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Au(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Au(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Pk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Q())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(n,r)=>c1(n,r))&&Fa(this.baseMutations,e.baseMutations,(n,r)=>c1(n,r))}}class yw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){B(e.mutations.length===r.length);let i=function(){return e3}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new yw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,oe;function Ck(t){switch(t){default:return $();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function kk(t){if(t===void 0)return et("GRPC error has no .code"),P.UNKNOWN;switch(t){case st.OK:return P.OK;case st.CANCELLED:return P.CANCELLED;case st.UNKNOWN:return P.UNKNOWN;case st.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case st.INTERNAL:return P.INTERNAL;case st.UNAVAILABLE:return P.UNAVAILABLE;case st.UNAUTHENTICATED:return P.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case st.NOT_FOUND:return P.NOT_FOUND;case st.ALREADY_EXISTS:return P.ALREADY_EXISTS;case st.PERMISSION_DENIED:return P.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case st.ABORTED:return P.ABORTED;case st.OUT_OF_RANGE:return P.OUT_OF_RANGE;case st.UNIMPLEMENTED:return P.UNIMPLEMENTED;case st.DATA_LOSS:return P.DATA_LOSS;default:return $()}}(oe=st||(st={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=new Ea([4294967295,4294967295],0);function f1(t){const e=xk().encode(t),n=new ij;return n.update(e),new Uint8Array(n.digest())}function p1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ea([n,r],0),new Ea([i,s],0)]}class vw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ea.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ea.fromNumber(r)));return i.compare(c3)===1&&(i=new Ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=f1(e),[r,i]=p1(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new vw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=f1(e),[r,i]=p1(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new id(z.min(),i,new Te(G),fn(),Q())}}class sd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sd(r,n,Q(),Q(),Q())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Ok{constructor(e,n){this.targetId=e,this.fe=n}}class Nk{constructor(e,n,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class m1{constructor(){this.ge=0,this.pe=y1(),this.ye=pt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Q(),n=Q(),r=Q();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$()}}),new sd(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=y1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,B(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class d3{constructor(e){this.Le=e,this.ke=new Map,this.qe=fn(),this.Qe=g1(),this.Ke=new Te(G)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:$()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(xf(s))if(r===0){const o=new D(s.path);this.We(n,o,Pe.newNoDocument(o,z.min()))}else B(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ls(r).toUint8Array()}catch(l){if(l instanceof rk)return cr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new vw(o,i,s)}catch(l){return cr(l instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&xf(a.target)){const l=new D(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Pe.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Q();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new id(e,n,this.Ke,this.qe,r);return this.qe=fn(),this.Qe=g1(),this.Ke=new Te(G),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new m1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ve(G),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||x("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new m1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function g1(){return new Te(D.comparator)}function y1(){return new Te(D.comparator)}const h3={asc:"ASCENDING",desc:"DESCENDING"},f3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p3={and:"AND",or:"OR"};class m3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function O_(t,e){return t.useProto3Json||Zc(e)?e:{value:e}}function za(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g3(t,e){return za(t,e.toTimestamp())}function tt(t){return B(!!t),z.fromTimestamp(function(n){const r=as(n);return new Ne(r.seconds,r.nanos)}(t))}function ww(t,e){return N_(t,e).canonicalString()}function N_(t,e){const n=function(i){return new re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Lk(t){const e=re.fromString(t);return B(qk(e)),e}function wc(t,e){return ww(t.databaseId,e.path)}function Nr(t,e){const n=Lk(e);if(n.get(1)!==t.databaseId.projectId)throw new k(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new D(Fk(n))}function Vk(t,e){return ww(t.databaseId,e)}function Mk(t){const e=Lk(t);return e.length===4?re.emptyPath():Fk(e)}function D_(t){return new re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fk(t){return B(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _1(t,e,n){return{name:wc(t,e),fields:n.value.mapValue.fields}}function $k(t,e,n){const r=Nr(t,e.name),i=tt(e.updateTime),s=e.createTime?tt(e.createTime):z.min(),o=new kt({mapValue:{fields:e.fields}}),a=Pe.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function y3(t,e){return"found"in e?function(r,i){B(!!i.found),i.found.name,i.found.updateTime;const s=Nr(r,i.found.name),o=tt(i.found.updateTime),a=i.found.createTime?tt(i.found.createTime):z.min(),l=new kt({mapValue:{fields:i.found.fields}});return Pe.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){B(!!i.missing),B(!!i.readTime);const s=Nr(r,i.missing),o=tt(i.readTime);return Pe.newNoDocument(s,o)}(t,e):$()}function _3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:$()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(B(c===void 0||typeof c=="string"),pt.fromBase64String(c||"")):(B(c===void 0||c instanceof Uint8Array),pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?P.UNKNOWN:kk(u.code);return new k(c,u.message||"")}(o);n=new Nk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Nr(t,r.document.name),s=tt(r.document.updateTime),o=r.document.createTime?tt(r.document.createTime):z.min(),a=new kt({mapValue:{fields:r.document.fields}}),l=Pe.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new kh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Nr(t,r.document),s=r.readTime?tt(r.readTime):z.min(),o=Pe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new kh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Nr(t,r.document),s=r.removedTargetIds||[];n=new kh([],s,i,null)}else{if(!("filter"in e))return $();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new u3(i,s),a=r.targetId;n=new Ok(a,o)}}return n}function Ec(t,e){let n;if(e instanceof hl)n={update:_1(t,e.key,e.value)};else if(e instanceof fl)n={delete:wc(t,e.key)};else if(e instanceof vi)n={update:_1(t,e.key,e.data),updateMask:S3(e.fieldMask)};else{if(!(e instanceof mw))return $();n={verify:wc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ja)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof po)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ba)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw $()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:g3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$()}(t,e.precondition)),n}function L_(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Oe.updateTime(tt(s.updateTime)):s.exists!==void 0?Oe.exists(s.exists):Oe.none()}(e.currentDocument):Oe.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)B(a.setToServerValue==="REQUEST_TIME"),l=new ja;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new po(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new mo(c)}else"increment"in a?l=new Ba(o,a.increment):$();const u=xe.fromServerFormat(a.fieldPath);return new rd(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Nr(t,e.update.name),s=new kt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new hn(u.map(c=>xe.fromServerFormat(c)))}(e.updateMask);return new vi(i,s,o,n,r)}return new hl(i,s,n,r)}if(e.delete){const i=Nr(t,e.delete);return new fl(i,n)}if(e.verify){const i=Nr(t,e.verify);return new mw(i,n)}return $()}function v3(t,e){return t&&t.length>0?(B(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?tt(i.updateTime):tt(s);return o.isEqual(z.min())&&(o=tt(s)),new o3(o,i.transformResults||[])}(n,e))):[]}function Uk(t,e){return{documents:[Vk(t,e.path)]}}function jk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Vk(t,i);const s=function(u){if(u.length!==0)return Wk(pe.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Go(h.field),direction:E3(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=O_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function Bk(t){let e=Mk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=zk(d);return h instanceof pe&&hw(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new vc(Qo(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Zc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new ds(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new ds(f,h)}(n.endAt)),fk(e,i,o,s,a,"F",l,u)}function w3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qo(n.unaryFilter.field);return ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qo(n.unaryFilter.field);return ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qo(n.unaryFilter.field);return ie.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qo(n.unaryFilter.field);return ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(t):t.fieldFilter!==void 0?function(n){return ie.create(Qo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pe.create(n.compositeFilter.filters.map(r=>zk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $()}}(n.compositeFilter.op))}(t):$()}function E3(t){return h3[t]}function I3(t){return f3[t]}function T3(t){return p3[t]}function Go(t){return{fieldPath:t.canonicalString()}}function Qo(t){return xe.fromServerFormat(t.fieldPath)}function Wk(t){return t instanceof ie?function(n){if(n.op==="=="){if(t1(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NAN"}};if(e1(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t1(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NAN"}};if(e1(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(n.field),op:I3(n.op),value:n.value}}}(t):t instanceof pe?function(n){const r=n.getFilters().map(i=>Wk(i));return r.length===1?r[0]:{compositeFilter:{op:T3(n.op),filters:r}}}(t):$()}function S3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,i,s=z.min(),o=z.min(),a=pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.ct=e}}function R3(t,e){let n;if(e.document)n=$k(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=D.fromSegments(e.noDocument.path),i=yo(e.noDocument.readTime);n=Pe.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return $();{const r=D.fromSegments(e.unknownDocument.path),i=yo(e.unknownDocument.version);n=Pe.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Ne(i[0],i[1]);return z.fromTimestamp(s)}(e.readTime)),n}function v1(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Df(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:wc(s,o.key),fields:o.data.value.mapValue.fields,updateTime:za(s,o.version.toTimestamp()),createTime:za(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:go(e.version)};else{if(!e.isUnknownDocument())return $();r.unknownDocument={path:n.path.toArray(),version:go(e.version)}}return r}function Df(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function go(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yo(t){const e=new Ne(t.seconds,t.nanoseconds);return z.fromTimestamp(e)}function Fs(t,e){const n=(e.baseMutations||[]).map(s=>L_(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>L_(t.ct,s)),i=Ne.fromMillis(e.localWriteTimeMs);return new gw(e.batchId,i,n,r)}function lu(t){const e=yo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?yo(t.lastLimboFreeSnapshotVersion):z.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return B(s.documents.length===1),tn(dl(Mk(s.documents[0])))}(t.query):function(s){return tn(Bk(s))}(t.query),new Jr(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,pt.fromBase64String(t.resumeToken))}function Kk(t,e){const n=go(e.snapshotVersion),r=go(e.lastLimboFreeSnapshotVersion);let i;i=xf(e.target)?Uk(t.ct,e.target):jk(t.ct,e.target).ut;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ew(t){const e=Bk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nf(e,e.limit,"L"):e}function Yg(t,e){return new _w(e.largestBatchId,L_(t.ct,e.overlayMutation))}function w1(t,e){const n=e.path.lastSegment();return[t,en(e.path.popLast()),n]}function E1(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:go(r.readTime),documentKey:en(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{getBundleMetadata(e,n){return I1(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:yo(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return I1(e).put(function(i){return{bundleId:i.id,createTime:go(tt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return T1(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:Ew(s.bundledQuery),readTime:yo(s.readTime)}}(r)})}saveNamedQuery(e,n){return T1(e).put(function(i){return{name:i.name,readTime:go(tt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function I1(t){return Tt(t,"bundles")}function T1(t){return Tt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Zp(e,r)}getOverlay(e,n){return $l(e).get(w1(this.userId,n)).next(r=>r?Yg(this.serializer,r):null)}getOverlays(e,n){const r=Ar();return S.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new _w(n,o);i.push(this.ht(e,a))}),S.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(en(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push($l(e).H("collectionPathOverlayIndex",a))}),S.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ar(),s=en(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return $l(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Yg(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Ar();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return $l(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=Yg(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}ht(e,n){return $l(e).put(function(i,s,o){const[a,l,u]=w1(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ec(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function $l(t){return Tt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(He(e.integerValue));else if("doubleValue"in e){const r=He(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),mc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ls(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?ik(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):$()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),D.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}$s.bt=new $s;function P3(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function S1(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=P3(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class b3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Bt(e){const n=this.Lt(e),r=S1(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Lt(e),r=S1(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class C3{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class k3{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ul{constructor(){this.Gt=new b3,this.zt=new C3(this.Gt),this.jt=new k3(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Us(this.indexId,this.documentKey,this.arrayValue,r)}}function Si(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=R1(t.arrayValue,e.arrayValue),n!==0?n:(n=R1(t.directionalValue,e.directionalValue),n!==0?n:D.comparator(t.documentKey,e.documentKey)))}function R1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.Yt=new ve((n,r)=>xe.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(B(e.collectionGroup===this.collectionId),this.en)return!1;const n=S_(e);if(n!==void 0&&!this.nn(n))return!1;const r=Vs(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new ve(xe.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Rh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Rh(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Rh(r.field,r.dir==="asc"?0:1)));return new kf(kf.UNKNOWN_ID,this.collectionId,n,pc.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t){var e,n;if(B(t instanceof ie||t instanceof pe),t instanceof ie){if(t instanceof hk){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ie.create(t.field,"==",s)))||[];return pe.create(i,"or")}return t}const r=t.filters.map(i=>Gk(i));return pe.create(r,t.op)}function x3(t){if(t.getFilters().length===0)return[];const e=F_(Gk(t));return B(Qk(e)),V_(e)||M_(e)?[e]:e.getFilters()}function V_(t){return t instanceof ie}function M_(t){return t instanceof pe&&hw(t)}function Qk(t){return V_(t)||M_(t)||function(n){if(n instanceof pe&&b_(n)){for(const r of n.getFilters())if(!V_(r)&&!M_(r))return!1;return!0}return!1}(t)}function F_(t){if(B(t instanceof ie||t instanceof pe),t instanceof ie)return t;if(t.filters.length===1)return F_(t.filters[0]);const e=t.filters.map(r=>F_(r));let n=pe.create(e,t.op);return n=Lf(n),Qk(n)?n:(B(n instanceof pe),B(Ua(n)),B(n.filters.length>1),n.filters.reduce((r,i)=>Iw(r,i)))}function Iw(t,e){let n;return B(t instanceof ie||t instanceof pe),B(e instanceof ie||e instanceof pe),n=t instanceof ie?e instanceof ie?function(i,s){return pe.create([i,s],"and")}(t,e):P1(t,e):e instanceof ie?P1(e,t):function(i,s){if(B(i.filters.length>0&&s.filters.length>0),Ua(i)&&Ua(s))return uk(i,s.getFilters());const o=b_(i)?i:s,a=b_(i)?s:i,l=o.filters.map(u=>Iw(u,a));return pe.create(l,"or")}(t,e),Lf(n)}function P1(t,e){if(Ua(e))return uk(e,t.getFilters());{const n=e.filters.map(r=>Iw(t,r));return pe.create(n,"or")}}function Lf(t){if(B(t instanceof ie||t instanceof pe),t instanceof ie)return t;const e=t.getFilters();if(e.length===1)return Lf(e[0]);if(ak(t))return t;const n=e.map(i=>Lf(i)),r=[];return n.forEach(i=>{i instanceof ie?r.push(i):i instanceof pe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:pe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this._n=new Tw}addToCollectionParentIndex(e,n){return this._n.add(n),S.resolve()}getCollectionParents(e,n){return S.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return S.resolve()}deleteFieldIndex(e,n){return S.resolve()}deleteAllFieldIndexes(e){return S.resolve()}createTargetIndexes(e,n){return S.resolve()}getDocumentsMatchingTarget(e,n){return S.resolve(null)}getIndexType(e,n){return S.resolve(0)}getFieldIndexes(e,n){return S.resolve([])}getNextCollectionGroupToUpdate(e){return S.resolve(null)}getMinOffset(e,n){return S.resolve(Cn.min())}getMinOffsetFromCollectionGroup(e,n){return S.resolve(Cn.min())}updateCollectionGroup(e,n,r){return S.resolve()}updateIndexEntries(e,n){return S.resolve()}}class Tw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ve(re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ve(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Uint8Array(0);class N3{constructor(e,n){this.databaseId=n,this.an=new Tw,this.un=new Rs(r=>fo(r),(r,i)=>ed(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:en(i)};return b1(e).put(s)}return S.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[HC(n),""],!1,!0);return b1(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Rr(o.parent))}return r})}addFieldIndex(e,n){const r=jl(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=$o(e);return s.next(a=>{o.put(E1(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=jl(e),i=$o(e),s=Fo(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=jl(e),r=Fo(e),i=$o(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return S.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new A1(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Fo(e);let i=!0;const s=new Map;return S.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Q();const a=[];return S.forEach(s,(l,u)=>{x("IndexedDbIndexManager",`Using index ${function(y){return`id=${y.indexId}|cg=${y.collectionGroup}|f=${y.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`}(l)} to execute ${fo(n)}`);const c=function(y,I){const E=S_(I);if(E===void 0)return null;for(const T of Of(y,E.fieldPath))switch(T.op){case"array-contains-any":return T.value.arrayValue.values||[];case"array-contains":return[T.value]}return null}(u,l),d=function(y,I){const E=new Map;for(const T of Vs(I))for(const R of Of(y,T.fieldPath))switch(R.op){case"==":case"in":E.set(T.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return E.set(T.fieldPath.canonicalString(),R.value),Array.from(E.values())}return null}(u,l),h=function(y,I){const E=[];let T=!0;for(const R of Vs(I)){const b=R.kind===0?o1(y,R.fieldPath,y.startAt):a1(y,R.fieldPath,y.startAt);E.push(b.value),T&&(T=b.inclusive)}return new ds(E,T)}(u,l),f=function(y,I){const E=[];let T=!0;for(const R of Vs(I)){const b=R.kind===0?a1(y,R.fieldPath,y.endAt):o1(y,R.fieldPath,y.endAt);E.push(b.value),T&&(T=b.inclusive)}return new ds(E,T)}(u,l),p=this.hn(l,u,h),m=this.hn(l,u,f),v=this.Pn(l,u,d),_=this.In(l.indexId,c,p,h.inclusive,m,f.inclusive,v);return S.forEach(_,g=>r.j(g,n.limit).next(y=>{y.forEach(I=>{const E=D.fromSegments(I.documentKey);o.has(E)||(o=o.add(E),a.push(E))})}))}).next(()=>a)}return S.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=x3(pe.create(e.filters,"and")).map(r=>k_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.Tn(n[d/u]):Jd,f=this.En(e,h,r[d%u],i),p=this.dn(e,h,s[d%u],o),m=a.map(v=>this.En(e,h,v,!0));c.push(...this.createRange(f,p,m))}return c}En(e,n,r,i){const s=new Us(e,D.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Us(e,D.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new A1(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return S.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new ve(xe.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new Ul;for(const i of Vs(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);$s.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new Ul;return $s.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new Ul;return $s.bt.Pt(ho(this.databaseId,n),r.Ht(function(s){const o=Vs(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new Ul);let s=0;for(const o of Vs(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&_c(a))i=this.mn(i,o,a);else{const u=l.Ht(o.kind);$s.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Ul;l.seed(a.Wt()),$s.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof ie&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=jl(e),i=$o(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return S.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new pc(d.sequenceNumber,new Cn(yo(d.readTime),new D(Rr(d.documentKey)),d.largestBatchId)):pc.empty(),f=c.fields.map(([p,m])=>new Rh(xe.fromServerFormat(p),m));return new kf(c.indexId,c.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:G(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=jl(e),s=$o(e);return this.gn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>S.forEach(a,l=>s.put(E1(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return S.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?S.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),S.forEach(a,l=>this.pn(e,i,l).next(u=>{const c=this.yn(s,l);return u.isEqual(c)?S.resolve():this.wn(e,s,l,u,c)}))))})}Sn(e,n,r,i){return Fo(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Fo(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=Fo(e);let s=new ve(Si);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Us(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new ve(Si);const i=this.An(n,e);if(i==null)return r;const s=S_(n);if(s!=null){const o=e.data.field(s.fieldPath);if(_c(o))for(const a of o.arrayValue.values||[])r=r.add(new Us(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Us(n.indexId,e.key,Jd,i));return r}wn(e,n,r,i,s){x("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const f=l.getIterator(),p=u.getIterator();let m=Mo(f),v=Mo(p);for(;m||v;){let _=!1,g=!1;if(m&&v){const y=c(m,v);y<0?g=!0:y>0&&(_=!0)}else m!=null?g=!0:_=!0;_?(d(v),v=Mo(p)):g?(h(m),m=Mo(f)):(m=Mo(f),v=Mo(p))}}(i,s,Si,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),S.waitFor(o)}gn(e){let n=1;return $o(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Si(o,a)).filter((o,a,l)=>!a||Si(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Si(o,e),l=Si(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Jd,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Jd,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return Si(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(C1)}getMinOffset(e,n){return S.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||$())).next(C1)}}function b1(t){return Tt(t,"collectionParents")}function Fo(t){return Tt(t,"indexEntries")}function jl(t){return Tt(t,"indexConfiguration")}function $o(t){return Tt(t,"indexState")}function C1(t){B(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;uw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Cn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class an{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{B(a===1)}));const u=[];for(const c of n.mutations){const d=JC(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return S.waitFor(s).next(()=>u)}function Vf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw $();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(41943040,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);class em{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){B(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new em(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ri(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Yo(e),o=Ri(e);return o.add({}).next(a=>{B(typeof a=="number");const l=new gw(a,n,r,i),u=function(f,p,m){const v=m.baseMutations.map(g=>Ec(f.ct,g)),_=m.mutations.map(g=>Ec(f.ct,g));return{userId:p,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:v,mutations:_}}(this.serializer,this.userId,l),c=[];let d=new ve((h,f)=>G(h.canonicalString(),f.canonicalString()));for(const h of i){const f=JC(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,Ej))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),S.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Ri(e).get(n).next(r=>r?(B(r.userId===this.userId),Fs(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?S.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ri(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(B(a.batchId>=r),s=Fs(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ri(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ri(e).W("userMutationsIndex",n).next(r=>r.map(i=>Fs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Ah(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Yo(e).Y({range:i},(o,a,l)=>{const[u,c,d]=o,h=Rr(c);if(u===this.userId&&n.path.isEqual(h))return Ri(e).get(d).next(f=>{if(!f)throw $();B(f.userId===this.userId),s.push(Fs(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ve(G);const i=[];return n.forEach(s=>{const o=Ah(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Yo(e).Y({range:a},(u,c,d)=>{const[h,f,p]=u,m=Rr(f);h===this.userId&&s.path.isEqual(m)?r=r.add(p):d.done()});i.push(l)}),S.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Ah(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new ve(G);return Yo(e).Y({range:o},(l,u,c)=>{const[d,h,f]=l,p=Rr(h);d===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(f)):c.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ri(e).get(s).next(o=>{if(o===null)throw $();B(o.userId===this.userId),r.push(Fs(this.serializer,o))}))}),S.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Yk(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),S.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return S.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Yo(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Rr(s[1]);i.push(l)}else a.done()}).next(()=>{B(i.length===0)})})}containsKey(e,n){return Xk(e,this.userId,n)}xn(e){return Jk(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xk(t,e,n){const r=Ah(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Yo(t).Y({range:s,J:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Ri(t){return Tt(t,"mutations")}function Yo(t){return Tt(t,"documentMutations")}function Jk(t){return Tt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new _o(0)}static Bn(){return new _o(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Ln(e).next(n=>{const r=new _o(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(n=>z.fromTimestamp(new Ne(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Ln(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Ln(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Uo(e).delete(n.targetId)).next(()=>this.Ln(e)).next(r=>(B(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Uo(e).Y((o,a)=>{const l=lu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>S.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Uo(e).Y((r,i)=>{const s=lu(i);n(s)})}Ln(e){return x1(e).get("targetGlobalKey").next(n=>(B(n!==null),n))}kn(e,n){return x1(e).put("targetGlobalKey",n)}qn(e,n){return Uo(e).put(Kk(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ln(e).next(n=>n.targetCount)}getTargetData(e,n){const r=fo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Uo(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=lu(a);ed(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Li(e);return n.forEach(o=>{const a=en(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),S.waitFor(i)}removeMatchingKeys(e,n,r){const i=Li(e);return S.forEach(n,s=>{const o=en(s.path);return S.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Li(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Li(e);let s=Q();return i.Y({range:r,J:!0},(o,a,l)=>{const u=Rr(o[1]),c=new D(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=en(n.path),i=IDBKeyRange.bound([r],[HC(r)],!1,!0);let s=0;return Li(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}_t(e,n){return Uo(e).get(n).next(r=>r?lu(r):null)}}function Uo(t){return Tt(t,"targets")}function x1(t){return Tt(t,"targetGlobal")}function Li(t){return Tt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1([t,e],[n,r]){const i=G(t,n);return i===0?G(e,r):i}class L3{constructor(e){this.Kn=e,this.buffer=new ve(O1),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();O1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class V3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){x("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ss(n)?x("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ts(n)}await this.zn(3e5)})}}class M3{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return S.resolve(dn._e);const r=new L3(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(x("LruGarbageCollector","Garbage collection skipped; disabled"),S.resolve(k1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(x("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k1):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(x("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Ho()<=ne.DEBUG&&x("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),S.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function F3(t,e){return new M3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n){this.db=e,this.garbageCollector=F3(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return Zd(e,r)}removeReference(e,n,r){return Zd(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Zd(e,n)}er(e,n){return function(i,s){let o=!1;return Jk(i).Z(a=>Xk(i,a,s).next(l=>(l&&(o=!0),S.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,z.min()),Li(e).delete(function(d){return[0,en(d.path)]}(o))))});i.push(l)}}).next(()=>S.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Zd(e,n)}Xn(e,n){const r=Li(e);let i,s=dn._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==dn._e&&n(new D(Rr(i)),s),s=u,i=l):s=dn._e}).next(()=>{s!==dn._e&&n(new D(Rr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zd(t,e){return Li(t).put(function(r,i){return{targetId:0,path:en(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.changes=new Rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?S.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ks(e).put(r)}removeEntry(e,n,r){return ks(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Df(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Pe.newInvalidDocument(n);return ks(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Bl(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:Pe.newInvalidDocument(n)};return ks(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Bl(n))},(i,s)=>{r={document:this.nr(n,s),size:Vf(s)}}).next(()=>r)}getEntries(e,n){let r=fn();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=fn(),i=new Te(D.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,Vf(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return S.resolve();let i=new ve(L1);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Bl(i.first()),Bl(i.last())),o=i.getIterator();let a=o.getNext();return ks(e).Y({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=D.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&L1(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.U(Bl(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Df(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ks(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let c=fn();for(const d of u){const h=this.nr(D.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(nd(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=fn();const o=D1(n,r),a=D1(n,Cn.max());return ks(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.nr(D.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new j3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return N1(e).get("remoteDocumentGlobalKey").next(n=>(B(!!n),n))}tr(e,n){return N1(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=R3(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(z.min())))return r}return Pe.newInvalidDocument(e)}}function ex(t){return new U3(t)}class j3 extends Zk{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Rs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new ve((s,o)=>G(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=v1(this.ar.serializer,o);i=i.add(s.path.popLast());const u=Vf(l);r+=u-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=v1(this.ar.serializer,o.convertToNoDocument(z.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),S.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function N1(t){return Tt(t,"remoteDocumentGlobal")}function ks(t){return Tt(t,"remoteDocumentsV14")}function Bl(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function D1(t,e){const n=e.documentKey.path.toArray();return[t,Df(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function L1(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=G(n[s],r[s]),i)return i;return i=G(n.length,r.length),i||(i=G(n[n.length-2],r[r.length-2]),i||G(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Au(r.mutation,i,hn.empty(),Ne.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Q()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Q()){const i=Ar();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ou();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Q()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fn();const o=Ru(),a=function(){return Ru()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof vi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Au(c.mutation,u,c.mutation.getFieldMask(),Ne.now())):o.set(u.key,hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new B3(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ru();let i=new Te((o,a)=>o-a),s=Q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||hn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Q()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=vk();c.forEach(h=>{if(!s.has(h)){const f=Pk(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return S.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return D.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):S.resolve(Ar());let a=-1,l=s;return o.next(u=>S.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?S.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Q())).next(c=>({batchId:a,changes:_k(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new D(n)).next(r=>{let i=ou();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ou();return this.indexManager.getCollectionParents(e,s).next(a=>S.forEach(a,l=>{const u=function(d,h){return new _i(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Pe.newInvalidDocument(c)))});let a=ou();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Au(c.mutation,u,hn.empty(),Ne.now()),nd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return S.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tt(i.createTime)}}(n)),S.resolve()}getNamedQuery(e,n){return S.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Ew(i.bundledQuery),readTime:tt(i.readTime)}}(n)),S.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.overlays=new Te(D.comparator),this.hr=new Map}getOverlay(e,n){return S.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ar();return S.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),S.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),S.resolve()}getOverlaysForCollection(e,n,r){const i=Ar(),s=n.length+1,o=new D(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return S.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Te((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ar(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ar(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return S.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _w(n,r));let s=this.hr.get(n);s===void 0&&(s=Q(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.Pr=new ve(mt.Ir),this.Tr=new ve(mt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new mt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new D(new re([])),r=new mt(n,e),i=new mt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new D(new re([])),r=new mt(n,e),i=new mt(n,e+1);let s=Q();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return D.comparator(e.key,n.key)||G(e.pr,n.pr)}static Er(e,n){return G(e.pr,n.pr)||D.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ve(mt.Ir)}checkEmpty(e){return S.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return S.resolve(o)}lookupMutationBatch(e,n){return S.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return S.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return S.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),S.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ve(G);return n.forEach(i=>{const s=new mt(i,0),o=new mt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),S.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;D.isDocumentKey(s)||(s=s.child(""));const o=new mt(new D(s),0);let a=new ve(G);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),S.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){B(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return S.forEach(n.mutations,i=>{const s=new mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new mt(n,0),i=this.wr.firstAfterOrEqual(r);return S.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,S.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.vr=e,this.docs=function(){return new Te(D.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return S.resolve(r?r.document.mutableCopy():Pe.newInvalidDocument(n))}getEntries(e,n){let r=fn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pe.newInvalidDocument(i))}),S.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fn();const o=n.path,a=new D(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||uw(GC(c),r)<=0||(i.has(c.key)||nd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return S.resolve(s)}getAllFromCollectionGroup(e,n,r,i){$()}Fr(e,n){return S.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new K3(this)}getSize(e){return S.resolve(this.size)}}class K3 extends Zk{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),S.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.persistence=e,this.Mr=new Rs(n=>fo(n),ed),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Sw,this.targetCount=0,this.Br=_o.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),S.resolve()}getLastRemoteSnapshotVersion(e){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return S.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),S.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,S.resolve()}updateTargetData(e,n){return this.qn(n),S.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,S.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),S.waitFor(s).next(()=>i)}getTargetCount(e){return S.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return S.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),S.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),S.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),S.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return S.resolve(r)}containsKey(e,n){return S.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.Lr={},this.overlays={},this.kr=new dn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new G3(this),this.indexManager=new O3,this.remoteDocumentCache=function(i){return new H3(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Hk(n),this.$r=new z3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new q3(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){x("MemoryPersistence","Starting transaction:",e);const i=new Q3(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return S.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class Q3 extends YC{constructor(e){super(),this.currentSequenceNumber=e}}class tm{constructor(e){this.persistence=e,this.zr=new Sw,this.jr=null}static Hr(e){return new tm(e)}get Jr(){if(this.jr)return this.jr;throw $()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),S.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),S.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),S.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.Jr,r=>{const i=D.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,z.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return S.or([()=>S.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.serializer=e}N(e,n,r,i){const s=new Qp("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",YT,{unique:!0}),l.createObjectStore("documentMutations")}(e),V1(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=S.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),V1(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:z.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").W().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",YT,{unique:!0});const d=u.store("mutations"),h=c.map(f=>d.put(f));return S.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Nj});u.createIndex("collectionPathOverlayIndex",Dj,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Lj,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:Ij});u.createIndex("documentKeyIndex",Tj),u.createIndex("collectionGroupIndex",Sj)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Cj}).createIndex("sequenceNumberIndex",kj,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:xj}).createIndex("documentKeyIndex",Oj,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Vf(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>S.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>S.forEach(a,l=>{B(l.userId===s.userId);const u=Fs(this.serializer,l);return Yk(e,s.userId,u).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new re(o),u=function(d){return[0,en(d)]}(l);s.push(n.get(u).next(c=>c?S.resolve():(d=>n.put({targetId:0,path:en(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>S.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:bj});const r=n.store("collectionParents"),i=new Tw,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:en(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new re(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],u)=>{const c=Rr(a);return s(c.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const s=lu(i),o=Kk(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new D(re.fromString(d.document.name).popFirst(5)):d.noDocument?D.fromSegments(d.noDocument.path):d.unknownDocument?D.fromSegments(d.unknownDocument.path):$()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>S.waitFor(i))}si(e,n){const r=n.store("mutations"),i=ex(this.serializer),s=new nx(tm.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:Q();Fs(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),S.forEach(a,(l,u)=>{const c=new yt(u),d=Zp.lt(this.serializer,c),h=s.getIndexManager(c),f=em.lt(c,this.serializer,h,s.referenceDelegate);return new tx(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new R_(n,dn._e),l).next()})})}}function V1(t){t.createObjectStore("targetDocuments",{keyPath:Aj}).createIndex("documentTargetsIndex",Pj,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Rj,{unique:!0}),t.createObjectStore("targetGlobal")}const Xg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Rw{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=u,this.ai=c,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=h=>Promise.resolve(),!Rw.D())throw new k(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $3(this,i),this.Ti=n+"main",this.serializer=new Hk(l),this.Ei=new Un(this.Ti,this.ui,new Y3(this.serializer)),this.Qr=new D3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ex(this.serializer),this.$r=new A3,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,c===!1&&et("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new k(P.FAILED_PRECONDITION,Xg);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new dn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>eh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Ss(e))return x("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return x("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return zl(e).get("owner").next(n=>S.resolve(this.Si(n)))}bi(e){return eh(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Tt(n,"clientMetadata");return r.W().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return S.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?S.resolve(!0):zl(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new k(P.FAILED_PRECONDITION,Xg);return!1}}return!(!this.networkEnabled||!this.inForeground)||eh(e).W().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&x("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new R_(e,dn._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Bi()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>eh(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return em.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new N3(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Zp.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){x("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?Mj:l===14?tk:l===13?ek:l===12?Vj:l===11?ZC:void $()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new R_(a,this.kr?this.kr.next():dn._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw et(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new k(P.FAILED_PRECONDITION,QC);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return zl(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new k(P.FAILED_PRECONDITION,Xg)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zl(e).put("owner",n)}static D(){return Un.D()}yi(e){const n=zl(e);return n.get("owner").next(r=>this.Si(r)?(x("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):S.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(et(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;LP()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return x("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return et("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){et("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zl(t){return Tt(t,"owner")}function eh(t){return Tt(t,"clientMetadata")}function Aw(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Q(),i=Q();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Pw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return LP()?8:Un.v(De())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new X3;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ho()<=ne.DEBUG&&x("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),S.resolve()):(Ho()<=ne.DEBUG&&x("QueryEngine","Query:",Ko(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ho()<=ne.DEBUG&&x("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tn(n))):S.resolve())}ji(e,n){if(l1(n))return S.resolve(null);let r=tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Nf(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Q(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,Nf(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return l1(n)||i.isEqual(z.min())?S.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?S.resolve(null):(Ho()<=ne.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ko(n)),this.es(e,o,n,KC(i,-1)).next(a=>a))})}Zi(e,n){let r=new ve(gk(e));return n.forEach((i,s)=>{nd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ho()<=ne.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.zi.getDocumentsMatchingQuery(e,n,Cn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Te(G),this.rs=new Rs(s=>fo(s),ed),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tx(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function ix(t,e,n,r){return new J3(t,e,n,r)}async function sx(t,e){const n=L(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Q();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function Z3(t,e){const n=L(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=S.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(m=>{const v=u.docVersions.get(p);B(v!==null),m.version.compareTo(v)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Q();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ox(t){const e=L(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function e5(t,e){const n=L(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(pt.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(m,v,_){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,f,c)&&a.push(n.Qr.updateTargetData(s,f))});let l=fn(),u=Q();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(ax(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(z.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return S.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function ax(t,e,n){let r=Q(),i=Q();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):x("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function t5(t,e){const n=L(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wa(t,e){const n=L(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,S.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Jr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function qa(t,e,n){const r=L(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ss(o))throw o;x("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Mf(t,e,n){const r=L(t);let i=z.min(),s=Q();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=L(l),h=d.rs.get(c);return h!==void 0?S.resolve(d.ns.get(h)):d.Qr.getTargetData(u,c)}(r,o,tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:z.min(),n?s:Q())).next(a=>(cx(r,mk(e),a),{documents:a,hs:s})))}function lx(t,e){const n=L(t),r=L(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function ux(t,e){const n=L(t),r=n.ss.get(e)||z.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,KC(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(cx(n,e,i),i))}function cx(t,e,n){let r=t.ss.get(e)||z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}async function n5(t,e,n,r){const i=L(t);let s=Q(),o=fn();for(const u of n){const c=e.Ps(u.metadata.name);u.document&&(s=s.add(c));const d=e.Is(u);d.setReadTime(e.Ts(u.metadata.readTime)),o=o.insert(c,d)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await Wa(i,function(c){return tn(dl(re.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>ax(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Qr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.cs,c.ls)).next(()=>c.cs)))}async function r5(t,e,n=Q()){const r=await Wa(t,tn(Ew(e.bundledQuery))),i=L(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=tt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(pt.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}function M1(t,e){return`firestore_clients_${t}_${e}`}function F1(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Jg(t,e){return`firestore_targets_${t}_${e}`}class Ff{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new k(i.error.code,i.error.message))),o?new Ff(e,n,i.state,s):(et("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new k(r.error.code,r.error.message))),s?new Pu(e,r.state,i):(et("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $f{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=pw();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=XC(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new $f(e,s):(et("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class bw{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new bw(n.clientId,n.onlineState):(et("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $_{constructor(){this.activeTargetIds=pw()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zg{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Te(G),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=M1(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new $_),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const r of e){if(r===this.Vs)continue;const i=this.getItem(M1(this.persistenceKey,r));if(i){const s=$f.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const r=this.xs(n);r&&this.Os(r)}for(const r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,n,r){this.Bs(e,n,r),this.Ls(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Jg(this.persistenceKey,e));if(r){const i=Pu.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jg(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Ls(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return x("SharedClientState","READ",e,n),n}setItem(e,n){x("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){x("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if(x("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void et("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const r=this.$s(n.key);return this.Us(r,null)}{const r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){const r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){const r=function(s){let o=dn._e;if(s!=null)try{const a=JSON.parse(s);B(typeof a=="number"),o=a}catch(a){et("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==dn._e&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){const r=this.Js(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,n,r){const i=new Ff(this.currentUser,e,n,r),s=F1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Ls(e){const n=F1(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){const i=Jg(this.persistenceKey,e),s=new Pu(e,n,r);this.setItem(i,s.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return $f.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Ff.Es(new yt(s),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return Pu.Es(i,n)}xs(e){return bw.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);x("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=pw();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class dx{constructor(){this.no=new $_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new $_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function ey(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class a5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=ey(),l=this.bo(n,r.toUriEncodedString());x("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(x("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw cr("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=s5[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=ey();return new Promise((o,a)=>{const l=new rj;l.setWithCredentials(!0),l.listenOnce(tj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qg.NO_ERROR:const c=l.getResponseJson();x(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Qg.TIMEOUT:x(Ft,`RPC '${e}' ${s} timed out`),a(new k(P.DEADLINE_EXCEEDED,"Request time out"));break;case Qg.HTTP_ERROR:const d=l.getStatus();if(x(Ft,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(_)>=0?_:P.UNKNOWN}(f.status);a(new k(p,f.message))}else a(new k(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new k(P.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{x(Ft,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);x(Ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=ey(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZU(),a=ej(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");x(Ft,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new o5({lo:v=>{f?x(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(x(Ft,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),x(Ft,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},ho:()=>d.close()}),m=(v,_,g)=>{v.listen(_,y=>{try{g(y)}catch(I){setTimeout(()=>{throw I},0)}})};return m(d,Yd.EventType.OPEN,()=>{f||x(Ft,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Yd.EventType.CLOSE,()=>{f||(f=!0,x(Ft,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),m(d,Yd.EventType.ERROR,v=>{f||(f=!0,cr(Ft,`RPC '${e}' stream ${i} transport errored:`,v),p.Vo(new k(P.UNAVAILABLE,"The operation could not be completed")))}),m(d,Yd.EventType.MESSAGE,v=>{var _;if(!f){const g=v.data[0];B(!!g);const y=g,I=y.error||((_=y[0])===null||_===void 0?void 0:_.error);if(I){x(Ft,`RPC '${e}' stream ${i} received error:`,I);const E=I.status;let T=function(U){const M=st[U];if(M!==void 0)return kk(M)}(E),R=I.message;T===void 0&&(T=P.INTERNAL,R="Unknown error status: "+E+" with message "+I.message),f=!0,p.Vo(new k(T,R)),d.close()}else x(Ft,`RPC '${e}' stream ${i} received:`,g),p.mo(g)}}),m(a,nj.STAT_EVENT,v=>{v.stat===HT.PROXY?x(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===HT.NOPROXY&&x(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){return typeof window<"u"?window:null}function xh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){return new m3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&x("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Cw(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(et(n.toString()),et("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new k(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return x("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l5 extends fx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=_3(this.serializer,e),r=function(s){if(!("targetChange"in s))return z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?z.min():o.readTime?tt(o.readTime):z.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=D_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=xf(l)?{documents:Uk(s,l)}:{query:jk(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Dk(s,o.resumeToken);const u=O_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(z.min())>0){a.readTime=za(s,o.snapshotVersion.toTimestamp());const u=O_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=w3(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=D_(this.serializer),n.removeTarget=e,this.t_(n)}}class u5 extends fx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=v3(e.writeResults,e.commitTime),r=tt(e.commitTime);return this.listener.T_(r,n)}return B(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=D_(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ec(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new k(P.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,N_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(P.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,N_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new k(P.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class d5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(et(n),this.g_=!1):x("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{As(this)&&(x("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=L(l);u.v_.add(4),await pl(u),u.x_.set("Unknown"),u.v_.delete(4),await ad(u)}(this))})}),this.x_=new d5(r,i)}}async function ad(t){if(As(t))for(const e of t.F_)await e(!0)}async function pl(t){for(const e of t.F_)await e(!1)}function nm(t,e){const n=L(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Ow(n)?xw(n):gl(n).Jo()&&kw(n,e))}function Ic(t,e){const n=L(t),r=gl(n);n.C_.delete(e),r.Jo()&&px(n,e),n.C_.size===0&&(r.Jo()?r.Xo():As(n)&&n.x_.set("Unknown"))}function kw(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(t).c_(e)}function px(t,e){t.O_.Oe(e),gl(t).l_(e)}function xw(t){t.O_=new d3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.x_.p_()}function Ow(t){return As(t)&&!gl(t).Ho()&&t.C_.size>0}function As(t){return L(t).v_.size===0}function mx(t){t.O_=void 0}async function f5(t){t.C_.forEach((e,n)=>{kw(t,e)})}async function p5(t,e){mx(t),Ow(t)?(t.x_.S_(e),xw(t)):t.x_.set("Unknown")}async function m5(t,e,n){if(t.x_.set("Online"),e instanceof Nk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){x("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uf(t,r)}else if(e instanceof kh?t.O_.$e(e):e instanceof Ok?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(z.min()))try{const r=await ox(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(pt.EMPTY_BYTE_STRING,c.snapshotVersion)),px(s,l);const d=new Jr(c.target,l,u,c.sequenceNumber);kw(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){x("RemoteStore","Failed to raise snapshot:",r),await Uf(t,r)}}async function Uf(t,e,n){if(!Ss(e))throw e;t.v_.add(1),await pl(t),t.x_.set("Offline"),n||(n=()=>ox(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{x("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await ad(t)})}function gx(t,e){return e().catch(n=>Uf(t,n,e))}async function ml(t){const e=L(t),n=hs(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;g5(e);)try{const i=await t5(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,y5(e,i)}catch(i){await Uf(e,i)}yx(e)&&_x(e)}function g5(t){return As(t)&&t.D_.length<10}function y5(t,e){t.D_.push(e);const n=hs(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function yx(t){return As(t)&&!hs(t).Ho()&&t.D_.length>0}function _x(t){hs(t).start()}async function _5(t){hs(t).d_()}async function v5(t){const e=hs(t);for(const n of t.D_)e.I_(n.mutations)}async function w5(t,e,n){const r=t.D_.shift(),i=yw.from(r,e,n);await gx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ml(t)}async function E5(t,e){e&&hs(t).P_&&await async function(r,i){if(function(o){return Ck(o)&&o!==P.ABORTED}(i.code)){const s=r.D_.shift();hs(r).Zo(),await gx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ml(r)}}(t,e),yx(t)&&_x(t)}async function U1(t,e){const n=L(t);n.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");const r=As(n);n.v_.add(3),await pl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await ad(n)}async function U_(t,e){const n=L(t);e?(n.v_.delete(2),await ad(n)):e||(n.v_.add(2),await pl(n),n.x_.set("Unknown"))}function gl(t){return t.N_||(t.N_=function(n,r,i){const s=L(n);return s.R_(),new l5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:f5.bind(null,t),To:p5.bind(null,t),u_:m5.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Ow(t)?xw(t):t.x_.set("Unknown")):(await t.N_.stop(),mx(t))})),t.N_}function hs(t){return t.B_||(t.B_=function(n,r,i){const s=L(n);return s.R_(),new u5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:_5.bind(null,t),To:E5.bind(null,t),E_:v5.bind(null,t),T_:w5.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await ml(t)):(await t.B_.stop(),t.D_.length>0&&(x("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Nw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yl(t,e){if(et("AsyncQueue",`${e}: ${t}`),Ss(t))return new k(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.comparator=e?(n,r)=>e(n,r)||D.comparator(n.key,r.key):(n,r)=>D.comparator(n.key,r.key),this.keyedMap=ou(),this.sortedSet=new Te(this.comparator)}static emptySet(e){return new Ta(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.L_=new Te(D.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):$():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ha{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ha(e,n,Ta.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.q_=void 0,this.Q_=[]}}class T5{constructor(){this.queries=new Rs(e=>pk(e),td),this.onlineState="Unknown",this.K_=new Set}}async function Dw(t,e){const n=L(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new I5),i)try{s.q_=await n.onListen(r)}catch(o){const a=yl(o,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&Vw(n)}async function Lw(t,e){const n=L(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function S5(t,e){const n=L(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&Vw(n)}function R5(t,e,n){const r=L(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function Vw(t){t.K_.forEach(e=>{e.next()})}class Mw{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.serializer=e}Ps(e){return Nr(this.serializer,e)}Is(e){return e.metadata.exists?$k(this.serializer,e.document,!1):Pe.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return tt(e)}}class P5{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vx(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=re.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new B1(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Q()).add(s);n.set(o,a)}}return n}async complete(){const e=await n5(this.localStore,new B1(this.serializer),this.documents,this.ta.id),n=this.ra(this.documents);for(const r of this.queries)await r5(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function vx(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.key=e}}class Ex{constructor(e){this.key=e}}class Ix{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Q(),this.mutatedKeys=Q(),this.ua=gk(e),this.ca=new Ta(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new j1,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=nd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),v=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),v=!0,(l&&this.ua(f,l)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(f?(o=o.add(f),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,d)=>function(f,p){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return m(f)-m(p)}(c.type,d.type)||this.ua(c.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,o.length!==0||u?{snapshot:new Ha(this.query,e.ca,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new j1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Q(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new Ex(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new wx(r))}),n}Ra(e){this.oa=e.hs,this.aa=Q();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Ha.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class b5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class C5{constructor(e){this.key=e,this.ma=!1}}class k5{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Rs(a=>pk(a),td),this.pa=new Map,this.ya=new Set,this.wa=new Te(D.comparator),this.Sa=new Map,this.ba=new Sw,this.Da={},this.Ca=new Map,this.va=_o.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function x5(t,e){const n=Bw(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await Wa(n.localStore,tn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Fw(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&nm(n.remoteStore,o)}return i}async function Fw(t,e,n,r,i){t.Ma=(d,h,f)=>async function(m,v,_,g){let y=v.view.ha(_);y.Xi&&(y=await Mf(m.localStore,v.query,!1).then(({documents:R})=>v.view.ha(R,y)));const I=g&&g.targetChanges.get(v.targetId),E=g&&g.targetMismatches.get(v.targetId)!=null,T=v.view.applyChanges(y,m.isPrimaryClient,I,E);return j_(m,v.targetId,T.da),T.snapshot}(t,d,h,f);const s=await Mf(t.localStore,e,!0),o=new Ix(e,s.hs),a=o.ha(s.documents),l=sd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);j_(t,n,u.da);const c=new b5(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function O5(t,e){const n=L(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!td(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await qa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ic(n.remoteStore,r.targetId),Ka(n,r.targetId)}).catch(Ts)):(Ka(n,r.targetId),await qa(n.localStore,r.targetId,!0))}async function N5(t,e,n){const r=zw(t);try{const i=await function(o,a){const l=L(o),u=Ne.now(),c=a.reduce((f,p)=>f.add(p.key),Q());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=fn(),m=Q();return l.os.getEntries(f,c).next(v=>{p=v,p.forEach((_,g)=>{g.isValidDocument()||(m=m.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(v=>{d=v;const _=[];for(const g of a){const y=l3(g,d.get(g.key).overlayedDocument);y!=null&&_.push(new vi(g.key,y,sk(y.value.mapValue),Oe.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,_,a)}).next(v=>{h=v;const _=v.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,v.batchId,_)})}).then(()=>({batchId:h.batchId,changes:_k(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new Te(G)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await wi(r,i.changes),await ml(r.remoteStore)}catch(i){const s=yl(i,"Failed to persist write");n.reject(s)}}async function Tx(t,e){const n=L(t);try{const r=await e5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?B(o.ma):i.removedDocuments.size>0&&(B(o.ma),o.ma=!1))}),await wi(n,r,e)}catch(r){await Ts(r)}}function z1(t,e,n){const r=L(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=L(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Q_)h.U_(a)&&(u=!0)}),u&&Vw(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D5(t,e,n){const r=L(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Te(D.comparator);o=o.insert(s,Pe.newNoDocument(s,z.min()));const a=Q().add(s),l=new id(z.min(),new Map,new Te(G),o,a);await Tx(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),jw(r)}else await qa(r.localStore,e,!1).then(()=>Ka(r,e,n)).catch(Ts)}async function L5(t,e){const n=L(t),r=e.batch.batchId;try{const i=await Z3(n.localStore,e);Uw(n,r,null),$w(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wi(n,i)}catch(i){await Ts(i)}}async function V5(t,e,n){const r=L(t);try{const i=await function(o,a){const l=L(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(B(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);Uw(r,e,n),$w(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wi(r,i)}catch(i){await Ts(i)}}async function M5(t,e){const n=L(t);As(n.remoteStore)||x("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=L(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=yl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function $w(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function Uw(t,e,n){const r=L(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Ka(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||Sx(t,r)})}function Sx(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(Ic(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),jw(t))}function j_(t,e,n){for(const r of n)r instanceof wx?(t.ba.addReference(r.key,e),F5(t,r)):r instanceof Ex?(x("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||Sx(t,r.key)):$()}function F5(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(x("SyncEngine","New document in limbo: "+n),t.ya.add(r),jw(t))}function jw(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new D(re.fromString(e)),r=t.va.next();t.Sa.set(r,new C5(n)),t.wa=t.wa.insert(n,r),nm(t.remoteStore,new Jr(tn(dl(n.path)),r,"TargetPurposeLimboResolution",dn._e))}}async function wi(t,e,n){const r=L(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Pw.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,u){const c=L(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>S.forEach(u,h=>S.forEach(h.qi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>S.forEach(h.Qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ss(d))throw d;x("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ns.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(h,m)}}}(r.localStore,s))}async function $5(t,e){const n=L(t);if(!n.currentUser.isEqual(e)){x("SyncEngine","User change. New user:",e.toKey());const r=await sx(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new k(P.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wi(n,r.us)}}function U5(t,e){const n=L(t),r=n.Sa.get(e);if(r&&r.ma)return Q().add(r.key);{let i=Q();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}async function j5(t,e){const n=L(t),r=await Mf(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&j_(n,e.targetId,i.da),i}async function B5(t,e){const n=L(t);return ux(n.localStore,e).then(r=>wi(n,r))}async function z5(t,e,n,r){const i=L(t),s=await function(a,l){const u=L(a),c=L(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.vn(d,l).next(h=>h?u.localDocuments.getDocuments(d,h):S.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await ml(i.remoteStore):n==="acknowledged"||n==="rejected"?(Uw(i,e,r||null),$w(i,e),function(a,l){L(L(a).mutationQueue).Mn(l)}(i.localStore,e)):$(),await wi(i,s)):x("SyncEngine","Cannot apply mutation batch with id: "+e)}async function W5(t,e){const n=L(t);if(Bw(n),zw(n),e===!0&&n.Fa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await W1(n,r.toArray());n.Fa=!0,await U_(n.remoteStore,!0);for(const s of i)nm(n.remoteStore,s)}else if(e===!1&&n.Fa!==!1){const r=[];let i=Promise.resolve();n.pa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Ka(n,o),qa(n.localStore,o,!0))),Ic(n.remoteStore,o)}),await i,await W1(n,r),function(o){const a=L(o);a.Sa.forEach((l,u)=>{Ic(a.remoteStore,u)}),a.ba.mr(),a.Sa=new Map,a.wa=new Te(D.comparator)}(n),n.Fa=!1,await U_(n.remoteStore,!1)}}async function W1(t,e,n){const r=L(t),i=[],s=[];for(const o of e){let a;const l=r.pa.get(o);if(l&&l.length!==0){a=await Wa(r.localStore,tn(l[0]));for(const u of l){const c=r.ga.get(u),d=await j5(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await lx(r.localStore,o);a=await Wa(r.localStore,u),await Fw(r,Rx(u),o,!1,a.resumeToken)}i.push(a)}return r.fa.u_(s),i}function Rx(t){return fk(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function q5(t){return function(n){return L(L(n).persistence).Li()}(L(t).localStore)}async function H5(t,e,n,r){const i=L(t);if(i.Fa)return void x("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await ux(i.localStore,mk(s[0])),a=id.createSynthesizedRemoteEventForCurrentChange(e,n==="current",pt.EMPTY_BYTE_STRING);await wi(i,o,a);break}case"rejected":await qa(i.localStore,e,!0),Ka(i,e,r);break;default:$()}}async function K5(t,e,n){const r=Bw(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){x("SyncEngine","Adding an already active target "+i);continue}const s=await lx(r.localStore,i),o=await Wa(r.localStore,s);await Fw(r,Rx(s),o.targetId,!1,o.resumeToken),nm(r.remoteStore,o)}for(const i of n)r.pa.has(i)&&await qa(r.localStore,i,!1).then(()=>{Ic(r.remoteStore,i),Ka(r,i)}).catch(Ts)}}function Bw(t){const e=L(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D5.bind(null,e),e.fa.u_=S5.bind(null,e.eventManager),e.fa.xa=R5.bind(null,e.eventManager),e}function zw(t){const e=L(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V5.bind(null,e),e}function G5(t,e,n){const r=L(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(f,p){const m=L(f),v=tt(p.createTime);return m.persistence.runTransaction("hasNewerBundle","readonly",_=>m.$r.getBundleMetadata(_,p.id)).then(_=>!!_&&_.createTime.compareTo(v)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(vx(l));const u=new P5(l,s.localStore,o.serializer);let c=await o.Oa();for(;c;){const h=await u.na(c);h&&a._updateProgress(h),c=await o.Oa()}const d=await u.complete();return await wi(s,d.sa,void 0),await function(f,p){const m=L(f);return m.persistence.runTransaction("Save bundle","readwrite",v=>m.$r.saveBundleMetadata(v,p))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.ia)}catch(l){return cr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class B_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=od(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ix(this.persistence,new rx,e.initialUser,this.serializer)}createPersistence(e){return new nx(tm.Hr,this.serializer)}createSharedClientState(e){return new dx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ax extends B_{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await zw(this.Na.syncEngine),await ml(this.Na.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return ix(this.persistence,new rx,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new V3(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new vj(n,this.persistence);return new _j(e.asyncQueue,r)}createPersistence(e){const n=Aw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Rw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,hx(),xh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dx}}class Q5 extends Ax{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Na.syncEngine;this.sharedClientState instanceof Zg&&(this.sharedClientState.syncEngine={Zs:z5.bind(null,n),Xs:H5.bind(null,n),eo:K5.bind(null,n),Li:q5.bind(null,n),Ys:B5.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async r=>{await W5(this.Na.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=hx();if(!Zg.D(n))throw new k(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Aw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zg(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ww{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$5.bind(null,this.syncEngine),await U_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T5}()}createDatastore(e){const n=od(e.databaseInfo.databaseId),r=function(s){return new a5(s)}(e.databaseInfo);return function(s,o,a,l){return new c5(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new h5(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>z1(this.syncEngine,n,0),function(){return $1.D()?new $1:new i5}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new k5(i,s,o,a,l,u);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=L(r);x("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await pl(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):et("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new vt,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(e===null)return null;const n=this.qa.decode(e),r=Number(n);isNaN(r)&&this.$a(`length string (${n}) is not valid number`);const i=await this.Ua(r);return new A5(JSON.parse(i),e.length+r)}Wa(){return this.buffer.findIndex(e=>e===123)}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(this.buffer.length===0)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const n=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ga(){const e=await this.ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new k(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=L(i),a={documents:s.map(d=>wc(o.serializer,d))},l=await o.vo("BatchGetDocuments",o.serializer.databaseId,re.emptyPath(),a,s.length),u=new Map;l.forEach(d=>{const h=y3(o.serializer,d);u.set(h.key.toString(),h)});const c=[];return s.forEach(d=>{const h=u.get(d.toString());B(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new fl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=D.fromPath(r);this.mutations.push(new mw(i,this.precondition(i)))}),await async function(r,i){const s=L(r),o={writes:i.map(a=>Ec(s.serializer,a))};await s.So("Commit",s.serializer.databaseId,re.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw $();n=z.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new k(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(z.min())?Oe.exists(!1):Oe.updateTime(n):Oe.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(z.min()))throw new k(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oe.updateTime(n)}return Oe.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.jo=new Cw(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo(async()=>{const e=new X5(this.datastore),n=this.Ja(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Ya(i)}))}).catch(r=>{this.Ya(r)})})}Ja(e){try{const n=this.updateFunction(e);return!Zc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Ck(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=qC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{x("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(x("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Oh(t,e){t.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function z_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qw(t);x("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U1(e.remoteStore,i)),t._onlineComponents=e}function Px(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function qw(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){x("FirestoreClient","Using user provided OfflineComponentProvider");try{await Oh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Px(n))throw n;cr("Error using user provided cache. Falling back to memory cache: "+n),await Oh(t,new B_)}}else x("FirestoreClient","Using default OfflineComponentProvider"),await Oh(t,new B_);return t._offlineComponents}async function im(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(x("FirestoreClient","Using user provided OnlineComponentProvider"),await z_(t,t._uninitializedComponentsProvider._online)):(x("FirestoreClient","Using default OnlineComponentProvider"),await z_(t,new Ww))),t._onlineComponents}function bx(t){return qw(t).then(e=>e.persistence)}function Hw(t){return qw(t).then(e=>e.localStore)}function Cx(t){return im(t).then(e=>e.remoteStore)}function Kw(t){return im(t).then(e=>e.syncEngine)}function eB(t){return im(t).then(e=>e.datastore)}async function Ga(t){const e=await im(t),n=e.eventManager;return n.onListen=x5.bind(null,e.syncEngine),n.onUnlisten=O5.bind(null,e.syncEngine),n}function tB(t){return t.asyncQueue.enqueue(async()=>{const e=await bx(t),n=await Cx(t);return e.setNetworkEnabled(!0),function(i){const s=L(i);return s.v_.delete(0),ad(s)}(n)})}function nB(t){return t.asyncQueue.enqueue(async()=>{const e=await bx(t),n=await Cx(t);return e.setNetworkEnabled(!1),async function(i){const s=L(i);s.v_.add(0),await pl(s),s.x_.set("Offline")}(n)})}function rB(t,e){const n=new vt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,c){const d=L(u);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new k(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=yl(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await Hw(t),e,n)),n.promise}function kx(t,e,n={}){const r=new vt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new rm({next:h=>{o.enqueueAndForget(()=>Lw(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new k(P.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new k(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Mw(dl(a.path),c,{includeMetadataChanges:!0,Z_:!0});return Dw(s,d)}(await Ga(t),t.asyncQueue,e,n,r)),r.promise}function iB(t,e){const n=new vt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Mf(i,s,!0),l=new Ix(s,a.hs),u=l.ha(a.documents),c=l.applyChanges(u,!1);o.resolve(c.snapshot)}catch(a){const l=yl(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await Hw(t),e,n)),n.promise}function xx(t,e,n={}){const r=new vt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new rm({next:h=>{o.enqueueAndForget(()=>Lw(s,d)),h.fromCache&&l.source==="server"?u.reject(new k(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Mw(a,c,{includeMetadataChanges:!0,Z_:!0});return Dw(s,d)}(await Ga(t),t.asyncQueue,e,n,r)),r.promise}function sB(t,e){const n=new rm(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){L(i).K_.add(s),s.next()}(await Ga(t),n)),()=>{n.La(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){L(i).K_.delete(s)}(await Ga(t),n))}}function oB(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?xk().encode(o):o,function(c,d){return new Y5(c,d)}(function(c,d){if(c instanceof Uint8Array)return q1(c,d);if(c instanceof ArrayBuffer)return q1(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,od(e));t.asyncQueue.enqueueAndForget(async()=>{G5(await Kw(t),i,r)})}function aB(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=L(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(await Hw(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t,e,n){if(!n)throw new k(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Nx(t,e,n,r){if(e===!0&&r===!0)throw new k(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function K1(t){if(!D.isDocumentKey(t))throw new k(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function G1(t){if(D.isDocumentKey(t))throw new k(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$()}function ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sm(t);throw new k(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Dx(t,e){if(e<=0)throw new k(P.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new k(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new k(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ox((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new k(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new k(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new k(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new k(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aj;switch(r.type){case"firstParty":return new dj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=H1.get(n);r&&(x("ComponentProvider","Removing Datastore"),H1.delete(n),r.terminate())}(this),Promise.resolve()}}function lB(t,e,n,r={}){var i;const s=(t=ue(t,ld))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=yt.MOCK_USER;else{a=rV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new k(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new yt(u)}t._authCredentials=new lj(new WC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class Lx{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lx(this.firestore,e,this._query)}},Fe=class Vx{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vx(this.firestore,e,this._key)}},Ji=class Mx extends nn{constructor(e,n,r){super(e,n,dl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fe(this.firestore,null,new D(e))}withConverter(e){return new Mx(this.firestore,e,this._path)}};function Fx(t,e,...n){if(t=W(t),Gw("collection","path",e),t instanceof ld){const r=re.fromString(e,...n);return G1(r),new Ji(t,null,r)}{if(!(t instanceof Fe||t instanceof Ji))throw new k(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(re.fromString(e,...n));return G1(r),new Ji(t.firestore,null,r)}}function uB(t,e){if(t=ue(t,ld),Gw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new k(P.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new nn(t,null,function(r){return new _i(re.emptyPath(),r)}(e))}function jf(t,e,...n){if(t=W(t),arguments.length===1&&(e=qC.newId()),Gw("doc","path",e),t instanceof ld){const r=re.fromString(e,...n);return K1(r),new Fe(t,null,new D(r))}{if(!(t instanceof Fe||t instanceof Ji))throw new k(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(re.fromString(e,...n));return K1(r),new Fe(t.firestore,t instanceof Ji?t.converter:null,new D(r))}}function $x(t,e){return t=W(t),e=W(e),(t instanceof Fe||t instanceof Ji)&&(e instanceof Fe||e instanceof Ji)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Ux(t,e){return t=W(t),e=W(e),t instanceof nn&&e instanceof nn&&t.firestore===e.firestore&&td(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Cw(this,"async_queue_retry"),this._u=()=>{const n=xh();n&&x("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=xh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=xh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new vt;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Ss(e))throw e;x("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw et("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=Nw.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&$()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function W_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class dB{constructor(){this._progressObserver={},this._taskCompletionResolver=new vt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=-1;let Qe=class extends ld{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new cB}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jx(this),this._firestoreClient.terminate()}};function St(t){return t._firestoreClient||jx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jx(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new Uj(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Ox(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Z5(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function fB(t,e){zx(t=ue(t,Qe));const n=St(t);if(n._uninitializedComponentsProvider)throw new k(P.FAILED_PRECONDITION,"SDK cache is already specified.");cr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Ww;return Bx(n,i,new Ax(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function pB(t){zx(t=ue(t,Qe));const e=St(t);if(e._uninitializedComponentsProvider)throw new k(P.FAILED_PRECONDITION,"SDK cache is already specified.");cr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Ww;return Bx(e,r,new Q5(r,n.cacheSizeBytes))}function Bx(t,e,n){const r=new vt;return t.asyncQueue.enqueue(async()=>{try{await Oh(t,n),await z_(t,e),r.resolve()}catch(i){const s=i;if(!Px(s))throw s;cr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function mB(t){if(t._initialized&&!t._terminated)throw new k(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new vt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Un.D())return Promise.resolve();const i=r+"main";await Un.delete(i)}(Aw(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function gB(t){return function(n){const r=new vt;return n.asyncQueue.enqueueAndForget(async()=>M5(await Kw(n),r)),r.promise}(St(t=ue(t,Qe)))}function yB(t){return tB(St(t=ue(t,Qe)))}function _B(t){return nB(St(t=ue(t,Qe)))}function vB(t,e){const n=St(t=ue(t,Qe)),r=new dB;return oB(n,t._databaseId,e,r),r}function wB(t,e){return aB(St(t=ue(t,Qe)),e).then(n=>n?new nn(t,null,n.query):null)}function zx(t){if(t._initialized||t._terminated)throw new k(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $r(pt.fromBase64String(e))}catch(n){throw new k(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $r(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new k(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return G(this._lat,e._lat)||G(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=/^__.*__$/;class IB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new hl(e,this.data,n,this.fieldTransforms)}}class Wx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class am{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Bf(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(qx(this.du)&&EB.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class TB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||od(e)}Su(e,n,r,i=!1){return new am({du:e,methodName:n,wu:r,path:xe.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bo(t){const e=t._freezeSettings(),n=od(t._databaseId);return new TB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lm(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);tE("Data must be an object, but it was:",o,r);const a=Gx(r,o);let l,u;if(s.merge)l=new hn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=q_(e,d,n);if(!o.contains(h))throw new k(P.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Yx(c,h)||c.push(h)}l=new hn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new IB(new kt(a),l,u)}class ud extends Po{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ud}}function Hx(t,e,n){return new am({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qw extends Po{_toFieldTransform(e){return new rd(e.path,new ja)}isEqual(e){return e instanceof Qw}}class Yw extends Po{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=Hx(this,e,!0),r=this.bu.map(s=>Co(s,n)),i=new po(r);return new rd(e.path,i)}isEqual(e){return e instanceof Yw&&Na(this.bu,e.bu)}}class Xw extends Po{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=Hx(this,e,!0),r=this.bu.map(s=>Co(s,n)),i=new mo(r);return new rd(e.path,i)}isEqual(e){return e instanceof Xw&&Na(this.bu,e.bu)}}class Jw extends Po{constructor(e,n){super(e),this.Du=n}_toFieldTransform(e){const n=new Ba(e.serializer,Ik(e.serializer,this.Du));return new rd(e.path,n)}isEqual(e){return e instanceof Jw&&this.Du===e.Du}}function Zw(t,e,n,r){const i=t.Su(1,e,n);tE("Data must be an object, but it was:",i,r);const s=[],o=kt.empty();Ao(r,(l,u)=>{const c=nE(e,l,n);u=W(u);const d=i.fu(c);if(u instanceof ud)s.push(c);else{const h=Co(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new hn(s);return new Wx(o,a,i.fieldTransforms)}function eE(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[q_(e,r,n)],l=[i];if(s.length%2!=0)throw new k(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(q_(e,s[h])),l.push(s[h+1]);const u=[],c=kt.empty();for(let h=a.length-1;h>=0;--h)if(!Yx(u,a[h])){const f=a[h];let p=l[h];p=W(p);const m=o.fu(f);if(p instanceof ud)u.push(f);else{const v=Co(p,m);v!=null&&(u.push(f),c.set(f,v))}}const d=new hn(u);return new Wx(c,d,o.fieldTransforms)}function Kx(t,e,n,r=!1){return Co(n,t.Su(r?4:3,e))}function Co(t,e){if(Qx(t=W(t)))return tE("Unsupported field value:",e,t),Gx(t,e);if(t instanceof Po)return function(r,i){if(!qx(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Co(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=W(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ik(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ne.fromDate(r);return{timestampValue:za(i.serializer,s)}}if(r instanceof Ne){const s=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:za(i.serializer,s)}}if(r instanceof om)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $r)return{bytesValue:Dk(i.serializer,r._byteString)};if(r instanceof Fe){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ww(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${sm(r)}`)}(t,e)}function Gx(t,e){const n={};return nk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{const s=Co(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Qx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof om||t instanceof $r||t instanceof Fe||t instanceof Po)}function tE(t,e,n){if(!Qx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=sm(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function q_(t,e,n){if((e=W(e))instanceof fs)return e._internalPath;if(typeof e=="string")return nE(t,e);throw Bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const SB=new RegExp("[~\\*/\\[\\]]");function nE(t,e,n){if(e.search(SB)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fs(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new k(P.INVALID_ARGUMENT,a+t+l)}function Yx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(um("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RB extends Tc{data(){return super.data()}}function um(t,e){return typeof e=="string"?nE(t,e):e instanceof fs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new k(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rE{}class cd extends rE{}function Ai(t,e,...n){let r=[];e instanceof rE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof iE).length,a=s.filter(l=>l instanceof cm).length;if(o>1||o>0&&a>0)throw new k(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class cm extends cd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cm(e,n,r)}_apply(e){const n=this._parse(e);return Zx(e._query,n),new nn(e.firestore,e.converter,x_(e._query,n))}_parse(e){const n=bo(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new k(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){X1(d,c);const f=[];for(const p of d)f.push(Y1(l,s,p));h={arrayValue:{values:f}}}else h=Y1(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||X1(d,c),h=Kx(a,o,d,c==="in"||c==="not-in");return ie.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function AB(t,e,n){const r=e,i=um("where",t);return cm._create(i,r,n)}class iE extends rE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Zx(o,l),o=x_(o,l)}(e._query,n),new nn(e.firestore,e.converter,x_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sE extends cd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new k(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new k(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(s,o)}(e._query,this._field,this._direction);return new nn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new _i(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function PB(t,e="asc"){const n=e,r=um("orderBy",t);return sE._create(r,n)}class dm extends cd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new dm(e,n,r)}_apply(e){return new nn(e.firestore,e.converter,Nf(e._query,this._limit,this._limitType))}}function bB(t){return Dx("limit",t),dm._create("limit",t,"F")}function CB(t){return Dx("limitToLast",t),dm._create("limitToLast",t,"L")}class hm extends cd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new hm(e,n,r)}_apply(e){const n=Jx(e,this.type,this._docOrFields,this._inclusive);return new nn(e.firestore,e.converter,function(i,s){return new _i(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function kB(...t){return hm._create("startAt",t,!0)}function xB(...t){return hm._create("startAfter",t,!1)}class fm extends cd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new fm(e,n,r)}_apply(e){const n=Jx(e,this.type,this._docOrFields,this._inclusive);return new nn(e.firestore,e.converter,function(i,s){return new _i(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function OB(...t){return fm._create("endBefore",t,!1)}function NB(...t){return fm._create("endAt",t,!0)}function Jx(t,e,n,r){if(n[0]=W(n[0]),n[0]instanceof Tc)return function(s,o,a,l,u){if(!l)throw new k(P.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of Ia(s))if(d.field.isKeyField())c.push(ho(o,l.key));else{const h=l.data.field(d.field);if(Yp(h))throw new k(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new k(P.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(h)}return new ds(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=bo(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new k(P.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<c.length;p++){const m=c[p];if(h[p].field.isKeyField()){if(typeof m!="string")throw new k(P.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof m}`);if(!fw(o)&&m.indexOf("/")!==-1)throw new k(P.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${m}' contains a slash.`);const v=o.path.child(re.fromString(m));if(!D.isDocumentKey(v))throw new k(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const _=new D(v);f.push(ho(a,_))}else{const v=Kx(l,u,m);f.push(v)}}return new ds(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Y1(t,e,n){if(typeof(n=W(n))=="string"){if(n==="")throw new k(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fw(e)&&n.indexOf("/")!==-1)throw new k(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(re.fromString(n));if(!D.isDocumentKey(r))throw new k(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ho(t,new D(r))}if(n instanceof Fe)return ho(t,n._key);throw new k(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sm(n)}.`)}function X1(t,e){if(!Array.isArray(t)||t.length===0)throw new k(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zx(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new k(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new k(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oE{convertValue(e,n="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw $()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ao(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new om(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const n=as(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=re.fromString(e);B(qk(r));const i=new us(r.get(1),r.get(3)),s=new D(r.popFirst(5));return i.isEqual(n)||et(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class DB extends oE{constructor(e){super(),this.firestore=e}convertBytes(e){return new $r(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fe(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let di=class extends Tc{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(um("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},bu=class extends di{data(e={}){return super.data(e)}},ps=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bu(this._firestore,this._userDataWriter,r.key,r,new Qs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new bu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new bu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:LB(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function LB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}function eO(t,e){return t instanceof di&&e instanceof di?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ps&&e instanceof ps&&t._firestore===e._firestore&&Ux(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t){t=ue(t,Fe);const e=ue(t.firestore,Qe);return kx(St(e),t._key).then(n=>aE(e,t,n))}class ko extends oE{constructor(e){super(),this.firestore=e}convertBytes(e){return new $r(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fe(this.firestore,null,n)}}function MB(t){t=ue(t,Fe);const e=ue(t.firestore,Qe),n=St(e),r=new ko(e);return rB(n,t._key).then(i=>new di(e,r,t._key,i,new Qs(i!==null&&i.hasLocalMutations,!0),t.converter))}function FB(t){t=ue(t,Fe);const e=ue(t.firestore,Qe);return kx(St(e),t._key,{source:"server"}).then(n=>aE(e,t,n))}function $B(t){t=ue(t,nn);const e=ue(t.firestore,Qe),n=St(e),r=new ko(e);return Xx(t._query),xx(n,t._query).then(i=>new ps(e,r,t,i))}function UB(t){t=ue(t,nn);const e=ue(t.firestore,Qe),n=St(e),r=new ko(e);return iB(n,t._query).then(i=>new ps(e,r,t,i))}function jB(t){t=ue(t,nn);const e=ue(t.firestore,Qe),n=St(e),r=new ko(e);return xx(n,t._query,{source:"server"}).then(i=>new ps(e,r,t,i))}function J1(t,e,n){t=ue(t,Fe);const r=ue(t.firestore,Qe),i=pm(t.converter,e,n);return dd(r,[lm(bo(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Oe.none())])}function Z1(t,e,n,...r){t=ue(t,Fe);const i=ue(t.firestore,Qe),s=bo(i);let o;return o=typeof(e=W(e))=="string"||e instanceof fs?eE(s,"updateDoc",t._key,e,n,r):Zw(s,"updateDoc",t._key,e),dd(i,[o.toMutation(t._key,Oe.exists(!0))])}function BB(t){return dd(ue(t.firestore,Qe),[new fl(t._key,Oe.none())])}function zB(t,e){const n=ue(t.firestore,Qe),r=jf(t),i=pm(t.converter,e);return dd(n,[lm(bo(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Oe.exists(!1))]).then(()=>r)}function tO(t,...e){var n,r,i;t=W(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||W_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(W_(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Fe)u=ue(t.firestore,Qe),c=dl(t._key.path),l={next:d=>{e[o]&&e[o](aE(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ue(t,nn);u=ue(d.firestore,Qe),c=d._query;const h=new ko(u);l={next:f=>{e[o]&&e[o](new ps(u,h,d,f))},error:e[o+1],complete:e[o+2]},Xx(t._query)}return function(h,f,p,m){const v=new rm(m),_=new Mw(f,v,p);return h.asyncQueue.enqueueAndForget(async()=>Dw(await Ga(h),_)),()=>{v.La(),h.asyncQueue.enqueueAndForget(async()=>Lw(await Ga(h),_))}}(St(u),c,a,l)}function WB(t,e){return sB(St(t=ue(t,Qe)),W_(e)?e:{next:e})}function dd(t,e){return function(r,i){const s=new vt;return r.asyncQueue.enqueueAndForget(async()=>N5(await Kw(r),i,s)),s.promise}(St(t),e)}function aE(t,e,n){const r=n.docs.get(e._key),i=new ko(t);return new di(t,i,e._key,r,new Qs(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HB=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=bo(e)}set(e,n,r){this._verifyNotCommitted();const i=Vi(e,this._firestore),s=pm(i.converter,n,r),o=lm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Oe.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Vi(e,this._firestore);let o;return o=typeof(n=W(n))=="string"||n instanceof fs?eE(this._dataReader,"WriteBatch.update",s._key,n,r,i):Zw(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Oe.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Vi(e,this._firestore);return this._mutations=this._mutations.concat(new fl(n._key,Oe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new k(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Vi(t,e){if((t=W(t)).firestore!==e)throw new k(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KB=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=bo(n)}get(n){const r=Vi(n,this._firestore),i=new DB(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return $();const o=s[0];if(o.isFoundDocument())return new Tc(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Tc(this._firestore,i,r._key,null,r.converter);throw $()})}set(n,r,i){const s=Vi(n,this._firestore),o=pm(s.converter,r,i),a=lm(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Vi(n,this._firestore);let a;return a=typeof(r=W(r))=="string"||r instanceof fs?eE(this._dataReader,"Transaction.update",o._key,r,i,s):Zw(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Vi(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Vi(e,this._firestore),r=new ko(this._firestore);return super.get(e).then(i=>new di(this._firestore,r,n._key,i._document,new Qs(!1,!1),n.converter))}};function GB(t,e,n){t=ue(t,Qe);const r=Object.assign(Object.assign({},qB),n);return function(s){if(s.maxAttempts<1)throw new k(P.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new vt;return s.asyncQueue.enqueueAndForget(async()=>{const u=await eB(s);new J5(s.asyncQueue,u,a,o,l).ja()}),l.promise}(St(t),i=>e(new KB(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(){return new ud("deleteField")}function YB(){return new Qw("serverTimestamp")}function XB(...t){return new Yw("arrayUnion",t)}function JB(...t){return new Xw("arrayRemove",t)}function ZB(t){return new Jw("increment",t)}(function(e,n=!0){(function(i){cl=i})(vs),is(new Vr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Qe(new uj(r.getProvider("auth-internal")),new fj(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new k(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new us(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Or(KT,"4.4.3",e),Or(KT,"4.4.3","esm2017")})();const ez="@firebase/firestore-compat",tz="0.3.26";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new k("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){if(typeof Uint8Array>"u")throw new k("unimplemented","Uint8Arrays are not available in this environment.")}function tS(){if(!Fj())throw new k("unimplemented","Blobs are unavailable in Firestore in this environment.")}let nO=class H_{constructor(e){this._delegate=e}static fromBase64String(e){return tS(),new H_($r.fromBase64String(e))}static fromUint8Array(e){return eS(),new H_($r.fromUint8Array(e))}toBase64(){return tS(),this._delegate.toBase64()}toUint8Array(){return eS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){return nz(t,["next","error","complete"])}function nz(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{enableIndexedDbPersistence(e,n){return fB(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return pB(e._delegate)}clearIndexedDbPersistence(e){return mB(e._delegate)}}class rO{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof us||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&cr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){lB(this._delegate,e,n,r)}enableNetwork(){return yB(this._delegate)}disableNetwork(){return _B(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Nx("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return gB(this._delegate)}onSnapshotsInSync(e){return WB(this._delegate,e)}get app(){if(!this._appCompat)throw new k("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Qa(this,Fx(this._delegate,e))}catch(n){throw Yt(n,"collection()","Firestore.collection()")}}doc(e){try{return new jn(this,jf(this._delegate,e))}catch(n){throw Yt(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qt(this,uB(this._delegate,e))}catch(n){throw Yt(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return GB(this._delegate,n=>e(new iO(this,n)))}batch(){return St(this._delegate),new sO(new HB(this._delegate,e=>dd(this._delegate,e)))}loadBundle(e){return vB(this._delegate,e)}namedQuery(e){return wB(this._delegate,e).then(n=>n?new Qt(this,n):null)}}class mm extends oE{constructor(e){super(),this.firestore=e}convertBytes(e){return new nO(new $r(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return jn.forKey(n,this.firestore,null)}}function iz(t){sj(t)}class iO{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new mm(e)}get(e){const n=Ys(e);return this._delegate.get(n).then(r=>new Sc(this._firestore,new di(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ys(e);return r?(lE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ys(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ys(e);return this._delegate.delete(n),this}}class sO{constructor(e){this._delegate=e}set(e,n,r){const i=Ys(e);return r?(lE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ys(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ys(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class vo{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new bu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rc(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=vo.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new vo(e,new mm(e),n),i.set(n,s)),s}}vo.INSTANCES=new WeakMap;class jn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new mm(e)}static forPath(e,n,r){if(e.length%2!==0)throw new k("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new jn(n,new Fe(n._delegate,r,new D(e)))}static forKey(e,n,r){return new jn(n,new Fe(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Qa(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Qa(this.firestore,Fx(this._delegate,e))}catch(n){throw Yt(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=W(e),e instanceof Fe?$x(this._delegate,e):!1}set(e,n){n=lE("DocumentReference.set",n);try{return n?J1(this._delegate,e,n):J1(this._delegate,e)}catch(r){throw Yt(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?Z1(this._delegate,e):Z1(this._delegate,e,n,...r)}catch(i){throw Yt(i,"updateDoc()","DocumentReference.update()")}}delete(){return BB(this._delegate)}onSnapshot(...e){const n=oO(e),r=aO(e,i=>new Sc(this.firestore,new di(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return tO(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=MB(this._delegate):(e==null?void 0:e.source)==="server"?n=FB(this._delegate):n=VB(this._delegate),n.then(r=>new Sc(this.firestore,new di(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new jn(this.firestore,e?this._delegate.withConverter(vo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Yt(t,e,n){return t.message=t.message.replace(e,n),t}function oO(t){for(const e of t)if(typeof e=="object"&&!K_(e))return e;return{}}function aO(t,e){var n,r;let i;return K_(t[0])?i=t[0]:K_(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Sc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new jn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return eO(this._delegate,e._delegate)}}class Rc extends Sc{data(e){const n=this._delegate.data(e);return this._delegate._converter||oj(n!==void 0),n}}class Qt{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new mm(e)}where(e,n,r){try{return new Qt(this.firestore,Ai(this._delegate,AB(e,n,r)))}catch(i){throw Yt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Qt(this.firestore,Ai(this._delegate,PB(e,n)))}catch(r){throw Yt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Qt(this.firestore,Ai(this._delegate,bB(e)))}catch(n){throw Yt(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Qt(this.firestore,Ai(this._delegate,CB(e)))}catch(n){throw Yt(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Qt(this.firestore,Ai(this._delegate,kB(...e)))}catch(n){throw Yt(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Qt(this.firestore,Ai(this._delegate,xB(...e)))}catch(n){throw Yt(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Qt(this.firestore,Ai(this._delegate,OB(...e)))}catch(n){throw Yt(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Qt(this.firestore,Ai(this._delegate,NB(...e)))}catch(n){throw Yt(n,"endAt()","Query.endAt()")}}isEqual(e){return Ux(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=UB(this._delegate):(e==null?void 0:e.source)==="server"?n=jB(this._delegate):n=$B(this._delegate),n.then(r=>new G_(this.firestore,new ps(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=oO(e),r=aO(e,i=>new G_(this.firestore,new ps(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return tO(this._delegate,n,r)}withConverter(e){return new Qt(this.firestore,e?this._delegate.withConverter(vo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class sz{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Rc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class G_{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Qt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new sz(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Rc(this._firestore,r))})}isEqual(e){return eO(this._delegate,e._delegate)}}class Qa extends Qt{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new jn(this.firestore,e):null}doc(e){try{return e===void 0?new jn(this.firestore,jf(this._delegate)):new jn(this.firestore,jf(this._delegate,e))}catch(n){throw Yt(n,"doc()","CollectionReference.doc()")}}add(e){return zB(this._delegate,e).then(n=>new jn(this.firestore,n))}isEqual(e){return $x(this._delegate,e._delegate)}withConverter(e){return new Qa(this.firestore,e?this._delegate.withConverter(vo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ys(t){return ue(t,Fe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(...e){this._delegate=new fs(...e)}static documentId(){return new uE(xe.keyField().canonicalString())}isEqual(e){return e=W(e),e instanceof fs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._delegate=e}static serverTimestamp(){const e=YB();return e._methodName="FieldValue.serverTimestamp",new js(e)}static delete(){const e=QB();return e._methodName="FieldValue.delete",new js(e)}static arrayUnion(...e){const n=XB(...e);return n._methodName="FieldValue.arrayUnion",new js(n)}static arrayRemove(...e){const n=JB(...e);return n._methodName="FieldValue.arrayRemove",new js(n)}static increment(e){const n=ZB(e);return n._methodName="FieldValue.increment",new js(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz={Firestore:rO,GeoPoint:om,Timestamp:Ne,Blob:nO,Transaction:iO,WriteBatch:sO,DocumentReference:jn,DocumentSnapshot:Sc,Query:Qt,QueryDocumentSnapshot:Rc,QuerySnapshot:G_,CollectionReference:Qa,FieldPath:uE,FieldValue:js,setLogLevel:iz,CACHE_SIZE_UNLIMITED:hB};function az(t,e){t.INTERNAL.registerComponent(new Vr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},oz)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){az(t,(e,n)=>new rO(e,n,new rz)),t.registerVersion(ez,tz)}lz(rl);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=2e3;async function cz(t,e,n){var r;const{BuildInfo:i}=wo();lr(e.sessionId,"AuthEvent did not contain a session ID");const s=await mz(e.sessionId),o={};return sl()?o.ibi=i.packageName:Uc()?o.apn=i.packageName:wt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,d_(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function dz(t){const{BuildInfo:e}=wo(),n={};sl()?n.iosBundleId=e.packageName:Uc()?n.androidPackageName=e.packageName:wt(t,"operation-not-supported-in-this-environment"),await Fb(t,n)}function hz(t){const{cordova:e}=wo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,nF()?"_blank":"_system","location=yes"),n(i)})})}async function fz(t,e,n){const{cordova:r}=wo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Ot(t,"redirect-cancelled-by-user"))},uz))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Uc()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function pz(t){var e,n,r,i,s,o,a,l,u,c;const d=wo();N(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),N(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),N(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function mz(t){const e=gz(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function gz(t){if(lr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=20;class _z extends Vb{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function vz(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Iz(),postBody:null,tenantId:t.tenantId,error:Ot(t,"no-auth-event")}}function wz(t,e){return Q_()._set(Y_(t),e)}async function nS(t){const e=await Q_()._get(Y_(t));return e&&await Q_()._remove(Y_(t)),e}function Ez(t,e){var n,r;const i=Sz(e);if(i.includes("/__/auth/callback")){const s=Nh(i),o=s.firebaseError?Tz(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Ot(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function Iz(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<yz;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Q_(){return Sn(bp)}function Y_(t){return eo("authEvent",t.config.apiKey,t.name)}function Tz(t){try{return JSON.parse(t)}catch{return null}}function Sz(t){const e=Nh(t),n=e.link?decodeURIComponent(e.link):void 0,r=Nh(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Nh(i).link||i||r||n||t}function Nh(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return ua(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=500;class Az{constructor(){this._redirectPersistence=ss,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Op,this._overrideRedirectResult=F0}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new _z(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){wt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){pz(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),l4(),await this._originValidation(e);const o=vz(e,r,i);await wz(e,o);const a=await cz(e,o,n),l=await hz(a);return fz(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dz(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=wo(),o=setTimeout(async()=>{await nS(e),n.onEvent(rS())},Rz),a=async c=>{clearTimeout(o);const d=await nS(e);let h=null;d&&(c!=null&&c.url)&&(h=Ez(d,c.url)),n.onEvent(h||rS())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;wo().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const Pz=Az;function rS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ot("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t,e){Ke(t)._logFramework(e)}var Cz="@firebase/auth-compat",kz="0.5.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=1e3;function Cu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function Oz(){return Cu()==="http:"||Cu()==="https:"}function lO(t=De()){return!!((Cu()==="file:"||Cu()==="ionic:"||Cu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nz(){return _0()||y0()}function Dz(){return DP()&&(document==null?void 0:document.documentMode)===11}function Lz(t=De()){return/Edge\/\d+/.test(t)}function Vz(t=De()){return Dz()||Lz(t)}function uO(){try{const t=self.localStorage,e=zc();if(t)return t.setItem(e,"1"),t.removeItem(e),Vz()?Xu():!0}catch{return cE()&&Xu()}return!1}function cE(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ty(){return(Oz()||NP()||lO())&&!Nz()&&uO()&&!cE()}function cO(){return lO()&&typeof document<"u"}async function Mz(){return cO()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},xz);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Fz(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn={LOCAL:"local",NONE:"none",SESSION:"session"},Wl=N,dO="persistence";function $z(t,e){if(Wl(Object.values(wn).includes(e),t,"invalid-persistence-type"),_0()){Wl(e!==wn.SESSION,t,"unsupported-persistence-type");return}if(y0()){Wl(e===wn.NONE,t,"unsupported-persistence-type");return}if(cE()){Wl(e===wn.NONE||e===wn.LOCAL&&Xu(),t,"unsupported-persistence-type");return}Wl(e===wn.NONE||uO(),t,"unsupported-persistence-type")}async function X_(t){await t._initializationPromise;const e=hO(),n=eo(dO,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function Uz(t,e){const n=hO();if(!n)return[];const r=eo(dO,t,e);switch(n.getItem(r)){case wn.NONE:return[Da];case wn.LOCAL:return[Va,ss];case wn.SESSION:return[ss];default:return[]}}function hO(){var t;try{return((t=Fz())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=N;class ji{constructor(){this.browserResolver=Sn($b),this.cordovaResolver=Sn(Pz),this.underlyingResolver=null,this._redirectPersistence=ss,this._completeRedirectFn=Op,this._overrideRedirectResult=F0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return cO()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return jz(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Mz();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t){return t.unwrap()}function Bz(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t){return pO(t)}function Wz(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new qz(t,m$(t,e))}else if(r){const i=pO(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function pO(t){const{_tokenResponse:e}=t instanceof Zt?t.customData:t;if(!e)return null;if(!(t instanceof Zt)&&"temporaryProof"in e&&"phoneNumber"in e)return uo.credentialFromResult(t);const n=e.providerId;if(!n||n===Vl.PASSWORD)return null;let r;switch(n){case Vl.GOOGLE:r=_r;break;case Vl.FACEBOOK:r=yr;break;case Vl.GITHUB:r=vr;break;case Vl.TWITTER:r=wr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?La._create(n,a):Mr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new _a(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Zt?r.credentialFromError(t):r.credentialFromResult(t)}function ln(t,e){return e.catch(n=>{throw n instanceof Zt&&Wz(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:zz(n),additionalUserInfo:h$(n),user:Zr.getOrCreate(i)}})}async function J_(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>ln(t,n.confirm(r))}}class qz{constructor(e,n){this.resolver=n,this.auth=Bz(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ln(fO(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._delegate=e,this.multiFactor=v$(e)}static getOrCreate(e){return Zr.USER_MAP.has(e)||Zr.USER_MAP.set(e,new Zr(e)),Zr.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ln(this.auth,_b(this._delegate,e))}async linkWithPhoneNumber(e,n){return J_(this.auth,Q$(this._delegate,e,n))}async linkWithPopup(e){return ln(this.auth,i4(this._delegate,e,ji))}async linkWithRedirect(e){return await X_(Ke(this.auth)),f4(this._delegate,e,ji)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ln(this.auth,vb(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return J_(this.auth,Y$(this._delegate,e,n))}reauthenticateWithPopup(e){return ln(this.auth,r4(this._delegate,e,ji))}async reauthenticateWithRedirect(e){return await X_(Ke(this.auth)),d4(this._delegate,e,ji)}sendEmailVerification(e){return t$(this._delegate,e)}async unlink(e){return await zF(this._delegate,e),this}updateEmail(e){return s$(this._delegate,e)}updatePassword(e){return o$(this._delegate,e)}updatePhoneNumber(e){return X$(this._delegate,e)}updateProfile(e){return i$(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return n$(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zr.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=N;let Z_=class{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;ql(r,"invalid-api-key",{appName:e.name}),ql(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ji:void 0;this._delegate=n.initialize({options:{persistence:Hz(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(OM),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){cb(this._delegate,e,n)}applyActionCode(e){return GF(this._delegate,e)}checkActionCode(e){return wb(this._delegate,e)}confirmPasswordReset(e,n){return KF(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return ln(this._delegate,Eb(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return e$(this._delegate,e)}isSignInWithEmailLink(e){return XF(this._delegate,e)}async getRedirectResult(){ql(ty(),this._delegate,"operation-not-supported-in-this-environment");const e=await m4(this._delegate,ji);return e?ln(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){bz(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=iS(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=iS(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return YF(this._delegate,e,n)}sendPasswordResetEmail(e,n){return HF(this._delegate,e,n||void 0)}async setPersistence(e){$z(this._delegate,e);let n;switch(e){case wn.SESSION:n=ss;break;case wn.LOCAL:n=await Sn(Va)._isAvailable()?Va:bp;break;case wn.NONE:n=Da;break;default:return wt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ln(this._delegate,BF(this._delegate))}signInWithCredential(e){return ln(this._delegate,Ap(this._delegate,e))}signInWithCustomToken(e){return ln(this._delegate,qF(this._delegate,e))}signInWithEmailAndPassword(e,n){return ln(this._delegate,Ib(this._delegate,e,n))}signInWithEmailLink(e,n){return ln(this._delegate,JF(this._delegate,e,n))}signInWithPhoneNumber(e,n){return J_(this._delegate,G$(this._delegate,e,n))}async signInWithPopup(e){return ql(ty(),this._delegate,"operation-not-supported-in-this-environment"),ln(this._delegate,n4(this._delegate,e,ji))}async signInWithRedirect(e){return ql(ty(),this._delegate,"operation-not-supported-in-this-environment"),await X_(this._delegate),u4(this._delegate,e,ji)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return QF(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};Z_.Persistence=wn;function iS(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Zr.getOrCreate(o)),error:e,complete:n}}function Hz(t,e){const n=Uz(t,e);if(typeof self<"u"&&!n.includes(Va)&&n.push(Va),typeof window<"u")for(const r of[bp,ss])n.includes(r)||n.push(r);return n.includes(Da)||n.push(Da),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.providerId="phone",this._delegate=new uo(fO(rl.auth()))}static credential(e,n){return uo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}dE.PHONE_SIGN_IN_METHOD=uo.PHONE_SIGN_IN_METHOD;dE.PROVIDER_ID=uo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=N;class Gz{constructor(e,n,r=rl.app()){var i;Kz((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new H$(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="auth-compat";function Yz(t){t.INTERNAL.registerComponent(new Vr(Qz,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Z_(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Lo.EMAIL_SIGNIN,PASSWORD_RESET:Lo.PASSWORD_RESET,RECOVER_EMAIL:Lo.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Lo.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Lo.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Lo.VERIFY_EMAIL}},EmailAuthProvider:ws,FacebookAuthProvider:yr,GithubAuthProvider:vr,GoogleAuthProvider:_r,OAuthProvider:_a,SAMLAuthProvider:wf,PhoneAuthProvider:dE,PhoneMultiFactorGenerator:Ub,RecaptchaVerifier:Gz,TwitterAuthProvider:wr,Auth:Z_,AuthCredential:ol,Error:Zt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Cz,kz)}Yz(rl);const Xz={apiKey:"AIzaSyBRlwOJMqeWcGZb9boyRW2MtLbk_IkRBDI",authDomain:"clone-9b352.firebaseapp.com",projectId:"clone-9b352",storageBucket:"clone-9b352.appspot.com",messagingSenderId:"200132046772",appId:"1:200132046772:web:80b7fe31036ef78f084ce1"},mO=rl.initializeApp(Xz),zf=X4(mO),gO=mO.firestore();/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(this,arguments)}var Bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bi||(Bi={}));const sS="popstate";function Jz(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ev("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wf(i)}return e9(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yO(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zz(){return Math.random().toString(36).substr(2,8)}function oS(t,e){return{usr:t.state,key:t.key,idx:e}}function ev(t,e,n,r){return n===void 0&&(n=null),Ac({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_l(e):e,{state:n,key:e&&e.key||r||Zz()})}function Wf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function e9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Bi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ac({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Bi.Pop;let v=c(),_=v==null?null:v-u;u=v,l&&l({action:a,location:m.location,delta:_})}function h(v,_){a=Bi.Push;let g=ev(m.location,v,_);n&&n(g,v),u=c()+1;let y=oS(g,u),I=m.createHref(g);try{o.pushState(y,"",I)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(I)}s&&l&&l({action:a,location:m.location,delta:1})}function f(v,_){a=Bi.Replace;let g=ev(m.location,v,_);n&&n(g,v),u=c();let y=oS(g,u),I=m.createHref(g);o.replaceState(y,"",I),s&&l&&l({action:a,location:m.location,delta:0})}function p(v){let _=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof v=="string"?v:Wf(v);return g=g.replace(/ $/,"%20"),ut(_,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,_)}let m={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sS,d),l=v,()=>{i.removeEventListener(sS,d),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let _=p(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:f,go(v){return o.go(v)}};return m}var aS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aS||(aS={}));function t9(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?_l(e):e,i=hE(r.pathname||"/",n);if(i==null)return null;let s=_O(t);n9(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=p9(i);o=d9(s[a],l)}return o}function _O(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Zi([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_O(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:u9(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of vO(s.path))i(s,o,l)}),e}function vO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=vO(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function n9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const r9=/^:[\w-]+$/,i9=3,s9=2,o9=1,a9=10,l9=-2,lS=t=>t==="*";function u9(t,e){let n=t.split("/"),r=n.length;return n.some(lS)&&(r+=l9),e&&(r+=s9),n.filter(i=>!lS(i)).reduce((i,s)=>i+(r9.test(s)?i9:s===""?o9:a9),r)}function c9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function d9(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=h9({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Zi([i,c.pathname]),pathnameBase:_9(Zi([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Zi([i,c.pathnameBase]))}return s}function h9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=f9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function f9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yO(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function p9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yO(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function m9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_l(t):t;return{pathname:n?n.startsWith("/")?n:g9(n,e):e,search:v9(r),hash:w9(i)}}function g9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ny(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wO(t,e){let n=y9(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function EO(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_l(t):(i=Ac({},t),ut(!i.pathname||!i.pathname.includes("?"),ny("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),ny("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),ny("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=m9(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Zi=t=>t.join("/").replace(/\/\/+/g,"/"),_9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,w9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function E9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IO=["post","put","patch","delete"];new Set(IO);const I9=["get",...IO];new Set(I9);/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}const fE=A.createContext(null),T9=A.createContext(null),xo=A.createContext(null),gm=A.createContext(null),Ps=A.createContext({outlet:null,matches:[],isDataRoute:!1}),TO=A.createContext(null);function S9(t,e){let{relative:n}=e===void 0?{}:e;hd()||ut(!1);let{basename:r,navigator:i}=A.useContext(xo),{hash:s,pathname:o,search:a}=AO(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Zi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function hd(){return A.useContext(gm)!=null}function fd(){return hd()||ut(!1),A.useContext(gm).location}function SO(t){A.useContext(xo).static||A.useLayoutEffect(t)}function ym(){let{isDataRoute:t}=A.useContext(Ps);return t?M9():R9()}function R9(){hd()||ut(!1);let t=A.useContext(fE),{basename:e,future:n,navigator:r}=A.useContext(xo),{matches:i}=A.useContext(Ps),{pathname:s}=fd(),o=JSON.stringify(wO(i,n.v7_relativeSplatPath)),a=A.useRef(!1);return SO(()=>{a.current=!0}),A.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=EO(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Zi([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function RO(){let{matches:t}=A.useContext(Ps),e=t[t.length-1];return e?e.params:{}}function AO(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(xo),{matches:i}=A.useContext(Ps),{pathname:s}=fd(),o=JSON.stringify(wO(i,r.v7_relativeSplatPath));return A.useMemo(()=>EO(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function A9(t,e){return P9(t,e)}function P9(t,e,n,r){hd()||ut(!1);let{navigator:i}=A.useContext(xo),{matches:s}=A.useContext(Ps),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=fd(),c;if(e){var d;let v=typeof e=="string"?_l(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||ut(!1),c=v}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=t9(t,{pathname:f}),m=O9(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Zi([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Zi([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&m?A.createElement(gm.Provider,{value:{location:Pc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Bi.Pop}},m):m}function b9(){let t=V9(),e=E9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const C9=A.createElement(b9,null);class k9 extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Ps.Provider,{value:this.props.routeContext},A.createElement(TO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x9(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(fE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Ps.Provider,{value:e},r)}function O9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||ut(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,p=!1,m=null,v=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||C9,l&&(u<0&&h===0?(F9("route-fallback",!1),p=!0,v=null):u===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),g=()=>{let y;return f?y=m:p?y=v:d.route.Component?y=A.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,A.createElement(x9,{match:d,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?A.createElement(k9,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:g(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):g()},null)}var PO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PO||{}),qf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qf||{});function N9(t){let e=A.useContext(fE);return e||ut(!1),e}function D9(t){let e=A.useContext(T9);return e||ut(!1),e}function L9(t){let e=A.useContext(Ps);return e||ut(!1),e}function bO(t){let e=L9(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function V9(){var t;let e=A.useContext(TO),n=D9(qf.UseRouteError),r=bO(qf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function M9(){let{router:t}=N9(PO.UseNavigateStable),e=bO(qf.UseNavigateStable),n=A.useRef(!1);return SO(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pc({fromRouteId:e},s)))},[t,e])}const uS={};function F9(t,e,n){!e&&!uS[t]&&(uS[t]=!0)}function Ci(t){ut(!1)}function $9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bi.Pop,navigator:s,static:o=!1,future:a}=t;hd()&&ut(!1);let l=e.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:s,static:o,future:Pc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=_l(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=A.useMemo(()=>{let v=hE(c,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:p},navigationType:i}},[l,c,d,h,f,p,i]);return m==null?null:A.createElement(xo.Provider,{value:u},A.createElement(gm.Provider,{children:n,value:m}))}function U9(t){let{children:e,location:n}=t;return A9(tv(e),n)}new Promise(()=>{});function tv(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,tv(r.props.children,s));return}r.type!==Ci&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=tv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nv(){return nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nv.apply(this,arguments)}function j9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function B9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z9(t,e){return t.button===0&&(!e||e==="_self")&&!B9(t)}const W9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],q9="6";try{window.__reactRouterVersion=q9}catch{}const H9="startTransition",cS=Wh[H9];function K9(t){let{basename:e,children:n,future:r,window:i}=t,s=A.useRef();s.current==null&&(s.current=Jz({window:i,v5Compat:!0}));let o=s.current,[a,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=A.useCallback(d=>{u&&cS?cS(()=>l(d)):l(d)},[l,u]);return A.useLayoutEffect(()=>o.listen(c),[o,c]),A.createElement($9,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const G9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kr=A.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=j9(e,W9),{basename:f}=A.useContext(xo),p,m=!1;if(typeof u=="string"&&Q9.test(u)&&(p=u,G9))try{let y=new URL(window.location.href),I=u.startsWith("//")?new URL(y.protocol+u):new URL(u),E=hE(I.pathname,f);I.origin===y.origin&&E!=null?u=E+I.search+I.hash:m=!0}catch{}let v=S9(u,{relative:i}),_=Y9(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function g(y){r&&r(y),y.defaultPrevented||_(y)}return A.createElement("a",nv({},h,{href:p||v,onClick:m||s?r:g,ref:n,target:l}))});var dS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dS||(dS={}));var hS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hS||(hS={}));function Y9(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=ym(),u=fd(),c=AO(t,{relative:o});return A.useCallback(d=>{if(z9(d,n)){d.preventDefault();let h=r!==void 0?r:Wf(u)===Wf(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var CO={},_m={},pE={},ry={},kO={exports:{}},X9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",J9=X9,Z9=J9;function xO(){}function OO(){}OO.resetWarningCache=xO;var e6=function(){function t(r,i,s,o,a,l){if(l!==Z9){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OO,resetWarningCache:xO};return n.PropTypes=n,n};kO.exports=e6();var NO=kO.exports;const Re=Iv(NO);var fS;function t6(){return fS||(fS=1,function(t){(function(e,n){n(t,A,NO)})(Ev,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=p;var i=o(n),s=o(r);function o(g){return g&&g.__esModule?g:{default:g}}var a=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var I=arguments[y];for(var E in I)Object.prototype.hasOwnProperty.call(I,E)&&(g[E]=I[E])}return g};function l(g,y){var I={};for(var E in g)y.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(g,E)&&(I[E]=g[E]);return I}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}var c=function(){function g(y,I){for(var E=0;E<I.length;E++){var T=I[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,I,E){return I&&g(y.prototype,I),E&&g(y,E),y}}();function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var f=!1;function p(g){f=g}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){p(!0)}}))}catch{}function m(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return f?g:g.capture}function v(g){if("touches"in g){var y=g.touches[0],I=y.pageX,E=y.pageY;return{x:I,y:E}}var T=g.screenX,R=g.screenY;return{x:T,y:R}}var _=function(g){h(y,g);function y(){var I;u(this,y);for(var E=arguments.length,T=Array(E),R=0;R<E;R++)T[R]=arguments[R];var b=d(this,(I=y.__proto__||Object.getPrototypeOf(y)).call.apply(I,[this].concat(T)));return b._handleSwipeStart=b._handleSwipeStart.bind(b),b._handleSwipeMove=b._handleSwipeMove.bind(b),b._handleSwipeEnd=b._handleSwipeEnd.bind(b),b._onMouseDown=b._onMouseDown.bind(b),b._onMouseMove=b._onMouseMove.bind(b),b._onMouseUp=b._onMouseUp.bind(b),b._setSwiperRef=b._setSwiperRef.bind(b),b}return c(y,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,m({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,m({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(E){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(E))}},{key:"_onMouseMove",value:function(E){this.mouseDown&&this._handleSwipeMove(E)}},{key:"_onMouseUp",value:function(E){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(E)}},{key:"_handleSwipeStart",value:function(E){var T=v(E),R=T.x,b=T.y;this.moveStart={x:R,y:b},this.props.onSwipeStart(E)}},{key:"_handleSwipeMove",value:function(E){if(this.moveStart){var T=v(E),R=T.x,b=T.y,U=R-this.moveStart.x,M=b-this.moveStart.y;this.moving=!0;var J=this.props.onSwipeMove({x:U,y:M},E);J&&E.cancelable&&E.preventDefault(),this.movePosition={deltaX:U,deltaY:M}}}},{key:"_handleSwipeEnd",value:function(E){this.props.onSwipeEnd(E);var T=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-T?this.props.onSwipeLeft(1,E):this.movePosition.deltaX>T&&this.props.onSwipeRight(1,E),this.movePosition.deltaY<-T?this.props.onSwipeUp(1,E):this.movePosition.deltaY>T&&this.props.onSwipeDown(1,E)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(E){this.swiper=E,this.props.innerRef(E)}},{key:"render",value:function(){var E=this.props;E.tagName;var T=E.className,R=E.style,b=E.children;E.allowMouseEvents,E.onSwipeUp,E.onSwipeDown,E.onSwipeLeft,E.onSwipeRight,E.onSwipeStart,E.onSwipeMove,E.onSwipeEnd,E.innerRef,E.tolerance;var U=l(E,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:T,style:R},U),b)}}]),y}(n.Component);_.displayName="ReactSwipe",_.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},_.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=_})}(ry)),ry}(function(t){(function(e,n){n(t,t6())})(Ev,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(pE);var pd={},DO={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(DO);var n6=DO.exports;Object.defineProperty(pd,"__esModule",{value:!0});pd.default=void 0;var Pi=r6(n6);function r6(t){return t&&t.__esModule?t:{default:t}}function i6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s6={ROOT:function(e){return(0,Pi.default)(i6({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,Pi.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,Pi.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,Pi.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,Pi.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,Pi.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,Pi.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,Pi.default)({dot:!0,selected:e})}};pd.default=s6;var md={},vm={};Object.defineProperty(vm,"__esModule",{value:!0});vm.outerWidth=void 0;var o6=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};vm.outerWidth=o6;var vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.default=void 0;var a6=function(e,n,r){var i=e===0?e:e+n,s=r==="horizontal"?[i,0,0]:[0,i,0],o="translate3d",a="("+s.join(",")+")";return o+a};vl.default=a6;var gd={};Object.defineProperty(gd,"__esModule",{value:!0});gd.default=void 0;var l6=function(){return window};gd.default=l6;Object.defineProperty(md,"__esModule",{value:!0});md.default=void 0;var er=d6(A),xs=wm(pd),u6=vm,pS=wm(vl),c6=wm(pE),nh=wm(gd);function wm(t){return t&&t.__esModule?t:{default:t}}function LO(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return LO=function(){return t},t}function d6(t){if(t&&t.__esModule)return t;if(t===null||ku(t)!=="object"&&typeof t!="function")return{default:t};var e=LO();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function ku(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ku=function(n){return typeof n}:ku=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ku(t)}function rv(){return rv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}function h6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f6(t,e,n){return e&&mS(t.prototype,e),n&&mS(t,n),t}function p6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iv(t,e)}function iv(t,e){return iv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},iv(t,e)}function m6(t){var e=y6();return function(){var r=Hf(t),i;if(e){var s=Hf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return g6(this,i)}}function g6(t,e){return e&&(ku(e)==="object"||typeof e=="function")?e:Kt(t)}function Kt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Hf(t)}function Ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _6=function(e){return e.hasOwnProperty("key")},mE=function(t){p6(n,t);var e=m6(n);function n(r){var i;return h6(this,n),i=e.call(this,r),Ut(Kt(i),"itemsWrapperRef",void 0),Ut(Kt(i),"itemsListRef",void 0),Ut(Kt(i),"thumbsRef",void 0),Ut(Kt(i),"setItemsWrapperRef",function(s){i.itemsWrapperRef=s}),Ut(Kt(i),"setItemsListRef",function(s){i.itemsListRef=s}),Ut(Kt(i),"setThumbsRef",function(s,o){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[o]=s}),Ut(Kt(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var s=er.Children.count(i.props.children),o=i.itemsWrapperRef.clientWidth,a=i.props.thumbWidth?i.props.thumbWidth:(0,u6.outerWidth)(i.thumbsRef[0]),l=Math.floor(o/a),u=l<s,c=u?s-l:0;i.setState(function(d,h){return{itemSize:a,visibleItems:l,firstItem:u?i.getFirstItem(h.selectedItem):0,lastPosition:c,showArrows:u}})}}),Ut(Kt(i),"handleClickItem",function(s,o,a){if(!_6(a)||a.key==="Enter"){var l=i.props.onSelectItem;typeof l=="function"&&l(s,o)}}),Ut(Kt(i),"onSwipeStart",function(){i.setState({swiping:!0})}),Ut(Kt(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),Ut(Kt(i),"onSwipeMove",function(s){var o=s.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var a=0,l=er.Children.count(i.props.children),u=-(i.state.firstItem*100)/i.state.visibleItems,c=Math.max(l-i.state.visibleItems,0),d=-c*100/i.state.visibleItems;u===a&&o>0&&(o=0),u===d&&o<0&&(o=0);var h=i.itemsWrapperRef.clientWidth,f=u+100/(h/o);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(p){i.itemsListRef.style[p]=(0,pS.default)(f,"%",i.props.axis)}),!0}),Ut(Kt(i),"slideRight",function(s){i.moveTo(i.state.firstItem-(typeof s=="number"?s:1))}),Ut(Kt(i),"slideLeft",function(s){i.moveTo(i.state.firstItem+(typeof s=="number"?s:1))}),Ut(Kt(i),"moveTo",function(s){s=s<0?0:s,s=s>=i.state.lastPosition?i.state.lastPosition:s,i.setState({firstItem:s})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return f6(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,nh.default)().addEventListener("resize",this.updateSizes),(0,nh.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,nh.default)().removeEventListener("resize",this.updateSizes),(0,nh.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var s=i;return i>=this.state.lastPosition&&(s=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(s=this.state.firstItem),i<this.state.firstItem&&(s=i),s}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(s,o){var a=xs.default.ITEM(!1,o===i.state.selectedItem),l={key:o,ref:function(c){return i.setThumbsRef(c,o)},className:a,onClick:i.handleClickItem.bind(i,o,i.props.children[o]),onKeyDown:i.handleClickItem.bind(i,o,i.props.children[o]),"aria-label":"".concat(i.props.labels.item," ").concat(o+1),style:{width:i.props.thumbWidth}};return er.default.createElement("li",rv({},l,{role:"button",tabIndex:0}),s)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var s=er.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,a=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},u=-this.state.firstItem*(this.state.itemSize||0),c=(0,pS.default)(u,"px",this.props.axis),d=this.props.transitionTime+"ms";return l={WebkitTransform:c,MozTransform:c,MsTransform:c,OTransform:c,transform:c,msTransform:c,WebkitTransitionDuration:d,MozTransitionDuration:d,MsTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d},er.default.createElement("div",{className:xs.default.CAROUSEL(!1)},er.default.createElement("div",{className:xs.default.WRAPPER(!1),ref:this.setItemsWrapperRef},er.default.createElement("button",{type:"button",className:xs.default.ARROW_PREV(!o),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),s?er.default.createElement(c6.default,{tagName:"ul",className:xs.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):er.default.createElement("ul",{className:xs.default.SLIDER(!1,this.state.swiping),ref:function(f){return i.setItemsListRef(f)},style:l},this.renderItems()),er.default.createElement("button",{type:"button",className:xs.default.ARROW_NEXT(!a),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(er.Component);md.default=mE;Ut(mE,"displayName","Thumbs");Ut(mE,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var Em={};Object.defineProperty(Em,"__esModule",{value:!0});Em.default=void 0;var v6=function(){return document};Em.default=v6;var En={};Object.defineProperty(En,"__esModule",{value:!0});En.setPosition=En.getPosition=En.isKeyboardEvent=En.defaultStatusFormatter=En.noop=void 0;var w6=A,E6=I6(vl);function I6(t){return t&&t.__esModule?t:{default:t}}var T6=function(){};En.noop=T6;var S6=function(e,n){return"".concat(e," of ").concat(n)};En.defaultStatusFormatter=S6;var R6=function(e){return e?e.hasOwnProperty("key"):!1};En.isKeyboardEvent=R6;var A6=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=w6.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,s=r-1;return e&&(e!==s||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===s&&(i+=100-n.centerSlidePercentage),i}return-e*100};En.getPosition=A6;var P6=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,E6.default)(e,"%",n)}),r};En.setPosition=P6;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.fadeAnimationHandler=Pr.slideStopSwipingHandler=Pr.slideSwipeAnimationHandler=Pr.slideAnimationHandler=void 0;var VO=A,b6=C6(vl),br=En;function C6(t){return t&&t.__esModule?t:{default:t}}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){k6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x6=function(e,n){var r={},i=n.selectedItem,s=i,o=VO.Children.count(e.children)-1,a=e.infiniteLoop&&(i<0||i>o);if(a)return s<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,br.setPosition)(-(o+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,br.setPosition)(-(o+2)*100,e.axis):s>o&&(r.itemListStyle=(0,br.setPosition)(0,e.axis)),r;var l=(0,br.getPosition)(i,e),u=(0,b6.default)(l,"%",e.axis),c=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:u,msTransform:u,OTransform:u,transform:u},n.swiping||(r.itemListStyle=Bs(Bs({},r.itemListStyle),{},{WebkitTransitionDuration:c,MozTransitionDuration:c,OTransitionDuration:c,transitionDuration:c,msTransitionDuration:c})),r};Pr.slideAnimationHandler=x6;var O6=function(e,n,r,i){var s={},o=n.axis==="horizontal",a=VO.Children.count(n.children),l=0,u=(0,br.getPosition)(r.selectedItem,n),c=n.infiniteLoop?(0,br.getPosition)(a-1,n)-100:(0,br.getPosition)(a-1,n),d=o?e.x:e.y,h=d;u===l&&d>0&&(h=0),u===c&&d<0&&(h=0);var f=u+100/(r.itemSize/h),p=Math.abs(d)>n.swipeScrollTolerance;return n.infiniteLoop&&p&&(r.selectedItem===0&&f>-100?f-=a*100:r.selectedItem===a-1&&f<-a*100&&(f+=a*100)),(!n.preventMovementUntilSwipeScrollTolerance||p||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),s.itemListStyle=(0,br.setPosition)(f,n.axis)),p&&!r.cancelClick&&i({cancelClick:!0}),s};Pr.slideSwipeAnimationHandler=O6;var N6=function(e,n){var r=(0,br.getPosition)(n.selectedItem,e),i=(0,br.setPosition)(r,e.axis);return{itemListStyle:i}};Pr.slideStopSwipingHandler=N6;var D6=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",s={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(s=Bs(Bs({},s),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:s,selectedStyle:Bs(Bs({},s),{},{opacity:1,position:"relative"}),prevStyle:Bs({},s)}};Pr.fadeAnimationHandler=D6;Object.defineProperty(_m,"__esModule",{value:!0});_m.default=void 0;var fe=M6(A),L6=yd(pE),Hr=yd(pd),V6=yd(md),rh=yd(Em),ih=yd(gd),uu=En,Kf=Pr;function yd(t){return t&&t.__esModule?t:{default:t}}function MO(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return MO=function(){return t},t}function M6(t){if(t&&t.__esModule)return t;if(t===null||xu(t)!=="object"&&typeof t!="function")return{default:t};var e=MO();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function xu(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xu=function(n){return typeof n}:xu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xu(t)}function sv(){return sv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(this,arguments)}function yS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(n),!0).forEach(function(r){Z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $6(t,e,n){return e&&_S(t.prototype,e),n&&_S(t,n),t}function U6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ov(t,e)}function ov(t,e){return ov=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ov(t,e)}function j6(t){var e=z6();return function(){var r=Gf(t),i;if(e){var s=Gf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return B6(this,i)}}function B6(t,e){return e&&(xu(e)==="object"||typeof e=="function")?e:te(t)}function te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Gf(t){return Gf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Gf(t)}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gE=function(t){U6(n,t);var e=j6(n);function n(r){var i;F6(this,n),i=e.call(this,r),Z(te(i),"thumbsRef",void 0),Z(te(i),"carouselWrapperRef",void 0),Z(te(i),"listRef",void 0),Z(te(i),"itemsRef",void 0),Z(te(i),"timer",void 0),Z(te(i),"animationHandler",void 0),Z(te(i),"setThumbsRef",function(o){i.thumbsRef=o}),Z(te(i),"setCarouselWrapperRef",function(o){i.carouselWrapperRef=o}),Z(te(i),"setListRef",function(o){i.listRef=o}),Z(te(i),"setItemsRef",function(o,a){i.itemsRef||(i.itemsRef=[]),i.itemsRef[a]=o}),Z(te(i),"autoPlay",function(){fe.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),Z(te(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),Z(te(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),Z(te(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),Z(te(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),Z(te(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,rh.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,rh.default)().activeElement)):!1}),Z(te(i),"navigateWithKeyboard",function(o){if(i.isFocusWithinTheCarousel()){var a=i.props.axis,l=a==="horizontal",u={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},c=l?u.ArrowRight:u.ArrowDown,d=l?u.ArrowLeft:u.ArrowUp;c===o.keyCode?i.increment():d===o.keyCode&&i.decrement()}}),Z(te(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var o=i.props.axis==="horizontal",a=i.itemsRef[0];if(a){var l=o?a.clientWidth:a.clientHeight;i.setState({itemSize:l}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),Z(te(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),Z(te(i),"handleClickItem",function(o,a){if(fe.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(o,a),o!==i.state.selectedItem&&i.setState({selectedItem:o})}}),Z(te(i),"handleOnChange",function(o,a){fe.Children.count(i.props.children)<=1||i.props.onChange(o,a)}),Z(te(i),"handleClickThumb",function(o,a){i.props.onClickThumb(o,a),i.moveTo(o)}),Z(te(i),"onSwipeStart",function(o){i.setState({swiping:!0}),i.props.onSwipeStart(o)}),Z(te(i),"onSwipeEnd",function(o){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(o),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),Z(te(i),"onSwipeMove",function(o,a){i.props.onSwipeMove(a);var l=i.props.swipeAnimationHandler(o,i.props,i.state,i.setState.bind(te(i)));return i.setState(tr({},l)),!!Object.keys(l).length}),Z(te(i),"decrement",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof o=="number"?o:1))}),Z(te(i),"increment",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof o=="number"?o:1))}),Z(te(i),"moveTo",function(o){if(typeof o=="number"){var a=fe.Children.count(i.props.children)-1;o<0&&(o=i.props.infiniteLoop?a:0),o>a&&(o=i.props.infiniteLoop?0:a),i.selectItem({selectedItem:o}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),Z(te(i),"onClickNext",function(){i.increment(1)}),Z(te(i),"onClickPrev",function(){i.decrement(1)}),Z(te(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),Z(te(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),Z(te(i),"changeItem",function(o){return function(a){(!(0,uu.isKeyboardEvent)(a)||a.key==="Enter")&&i.moveTo(o)}}),Z(te(i),"selectItem",function(o){i.setState(tr({previousItem:i.state.selectedItem},o),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(o.selectedItem,fe.Children.toArray(i.props.children)[o.selectedItem])}),Z(te(i),"getInitialImage",function(){var o=i.props.selectedItem,a=i.itemsRef&&i.itemsRef[o],l=a&&a.getElementsByTagName("img")||[];return l[0]}),Z(te(i),"getVariableItemHeight",function(o){var a=i.itemsRef&&i.itemsRef[o];if(i.state.hasMount&&a&&a.children.length){var l=a.children[0].getElementsByTagName("img")||[];if(l.length>0){var u=l[0];if(!u.complete){var c=function f(){i.forceUpdate(),u.removeEventListener("load",f)};u.addEventListener("load",c)}}var d=l[0]||a.children[0],h=d.clientHeight;return h>0?h:null}return null});var s={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&Kf.fadeAnimationHandler||Kf.slideAnimationHandler,i.state=tr(tr({},s),i.animationHandler(r,s)),i}return $6(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,s){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),s.swiping&&!this.state.swiping&&this.setState(tr({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&fe.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var s=i.getInitialImage();s&&!s.complete?s.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,ih.default)().addEventListener("resize",this.updateSizes),(0,ih.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,rh.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,ih.default)().removeEventListener("resize",this.updateSizes),(0,ih.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,rh.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var s=this;return this.props.children?fe.Children.map(this.props.children,function(o,a){var l=a===s.state.selectedItem,u=a===s.state.previousItem,c=l&&s.state.selectedStyle||u&&s.state.prevStyle||s.state.slideStyle||{};s.props.centerMode&&s.props.axis==="horizontal"&&(c=tr(tr({},c),{},{minWidth:s.props.centerSlidePercentage+"%"})),s.state.swiping&&s.state.swipeMovementStarted&&(c=tr(tr({},c),{},{pointerEvents:"none"}));var d={ref:function(f){return s.setItemsRef(f,a)},key:"itemKey"+a+(i?"clone":""),className:Hr.default.ITEM(!0,a===s.state.selectedItem,a===s.state.previousItem),onClick:s.handleClickItem.bind(s,a,o),style:c};return fe.default.createElement("li",d,s.props.renderItem(o,{isSelected:a===s.state.selectedItem,isPrevious:a===s.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,s=this.props,o=s.showIndicators,a=s.labels,l=s.renderIndicator,u=s.children;return o?fe.default.createElement("ul",{className:"control-dots"},fe.Children.map(u,function(c,d){return l&&l(i.changeItem(d),d===i.state.selectedItem,d,a.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?fe.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,fe.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||fe.Children.count(this.props.children)===0?null:fe.default.createElement(V6.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||fe.Children.count(this.props.children)===0)return null;var s=this.props.swipeable&&fe.Children.count(this.props.children)>1,o=this.props.axis==="horizontal",a=this.props.showArrows&&fe.Children.count(this.props.children)>1,l=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=a&&(this.state.selectedItem<fe.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,c=this.renderItems(!0),d=c.shift(),h=c.pop(),f={className:Hr.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},p={};if(o){if(f.onSwipeLeft=this.onSwipeForward,f.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var m=this.getVariableItemHeight(this.state.selectedItem);p.height=m||"auto"}}else f.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,f.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,f.style=tr(tr({},f.style),{},{height:this.state.itemSize}),p.height=this.state.itemSize;return fe.default.createElement("div",{"aria-label":this.props.ariaLabel,className:Hr.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},fe.default.createElement("div",{className:Hr.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),fe.default.createElement("div",{className:Hr.default.WRAPPER(!0,this.props.axis),style:p},s?fe.default.createElement(L6.default,sv({tagName:"ul",innerRef:this.setListRef},f,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&h,this.renderItems(),this.props.infiniteLoop&&d):fe.default.createElement("ul",{className:Hr.default.SLIDER(!0,this.state.swiping),ref:function(_){return i.setListRef(_)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&h,this.renderItems(),this.props.infiniteLoop&&d)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(fe.default.Component);_m.default=gE;Z(gE,"displayName","Carousel");Z(gE,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:uu.noop,onClickThumb:uu.noop,onChange:uu.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return fe.default.createElement("button",{type:"button","aria-label":r,className:Hr.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return fe.default.createElement("button",{type:"button","aria-label":r,className:Hr.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return fe.default.createElement("li",{className:Hr.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=fe.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=fe.Children.toArray(r.props.children).find(function(s){return s.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:uu.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:Kf.slideSwipeAnimationHandler,stopSwipingHandler:Kf.slideStopSwipingHandler});var W6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(_m),n=W6,r=i(md);function i(s){return s&&s.__esModule?s:{default:s}}})(CO);const q6="/Amazon-Clone/assets/10001-bl35EseN.jpg",H6="/Amazon-Clone/assets/10002-Dfn5sYZL.jpg",K6="/Amazon-Clone/assets/10003-CO6XiwvK.jpg",G6="/Amazon-Clone/assets/10004-CkphoOno.jpg",Q6="/Amazon-Clone/assets/10005-DyEwXiX8.jpg",Y6="/Amazon-Clone/assets/10006-BPr44Ttk.jpg",X6="/Amazon-Clone/assets/10007-Fp0oaH3y.jpg",J6=[q6,H6,K6,G6,Q6,Y6,X6],Z6="_hero_img_iq6n8_1",eW={hero_img:Z6};function tW(){return w.jsxs("div",{children:[w.jsx(CO.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:J6.map(t=>w.jsx("img",{src:t},t))}),w.jsx("div",{className:eW.hero_img})]})}const nW=[{title:"Electronics",name:"electronics",imgLink:"https://fakestoreapi.com/img/81Zt42ioCgL._AC_SX679_.jpg"},{title:"Discover Fashion Trends",name:"women's clothing",imgLink:"https://fakestoreapi.com/img/81XH0e8fefL._AC_UY879_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://fakestoreapi.com/img/71pWzhdJNwL._AC_UL640_QL65_ML3_.jpg"}],rW="_catagory_alav9_1",iW="_catagory_container_alav9_55",FO={catagory:rW,catagory_container:iW};function sW(t){const{title:e,name:n,imgLink:r}=t;return console.log(n),w.jsx("div",{children:w.jsx("div",{className:FO.catagory,children:w.jsxs(Kr,{to:`/Category/${n}`,children:[w.jsx("span",{children:w.jsx("h2",{children:e})}),w.jsx("img",{src:r,alt:"img"}),w.jsx("p",{children:"Shop now"})]})})})}function oW(){return w.jsx("section",{className:FO.catagory_container,children:nW.map(t=>{console.log(t.name);const{title:e,name:n,imgLink:r}=t;return w.jsx(sW,{title:e,name:n,imgLink:r},r)})})}var $O={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vS=X.createContext&&X.createContext($O),aW=["attr","size","title"];function lW(t,e){if(t==null)return{};var n=uW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qf.apply(this,arguments)}function wS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(n),!0).forEach(function(r){cW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e,n){return e=dW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=hW(t,"string");return typeof e=="symbol"?e:String(e)}function hW(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UO(t){return t&&t.map((e,n)=>X.createElement(e.tag,Yf({key:n},e.attr),UO(e.child)))}function wl(t){return e=>X.createElement(fW,Qf({attr:Yf({},t.attr)},e),UO(t.child))}function fW(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=lW(t,aW),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),X.createElement("svg",Qf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Yf(Yf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&X.createElement("title",null,s),t.children)};return vS!==void 0?X.createElement(vS.Consumer,null,n=>e(n)):e($O)}function pW(t){return wl({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(t)}function mW(t){return wl({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"},child:[]}]})(t)}function gW(t){return wl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(t)}const yW="_fixed_1g0gg_9",_W="_header_container_1g0gg_19",vW="_logo_container_1g0gg_35",wW="_delivery_1g0gg_59",EW="_search_1g0gg_81",IW="_order_container_1g0gg_149",TW="_language_1g0gg_177",SW="_cart_1g0gg_203",RW="_lower_container_1g0gg_233",ki={fixed:yW,header_container:_W,logo_container:vW,delivery:wW,search:EW,order_container:IW,language:TW,cart:SW,lower_container:RW};function AW(t){return wl({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(t)}function PW(){return w.jsx("div",{className:ki.lower_container,children:w.jsxs("ul",{children:[w.jsxs("li",{children:[w.jsx(AW,{}),w.jsx("p",{children:"All"})]}),w.jsx("li",{children:"Today's Deals"}),w.jsx("li",{children:"Customer Service"}),w.jsx("li",{children:"Registry"}),w.jsx("li",{children:"Gift Cards"}),w.jsx("li",{children:"Sell"})]})})}const bW=()=>{const[{basket:t,user:e},n]=A.useContext(mi),r=t.reduce((i,s)=>s.amount+i,0);return w.jsxs("section",{className:ki.fixed,children:[w.jsx("section",{children:w.jsxs("div",{className:ki.header_container,children:[w.jsxs("div",{className:ki.logo_container,children:[w.jsx(Kr,{to:"/",children:w.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),w.jsx("span",{children:w.jsx(pW,{})}),w.jsxs("div",{children:[w.jsx("p",{children:"Deliver to"}),w.jsx("span",{children:"Ethiopia"})]})]}),w.jsxs("div",{className:ki.search,children:[w.jsx("select",{name:"",id:"",children:w.jsx("option",{value:"",children:"All"})}),w.jsx("input",{type:"text",placeholder:"search products"}),w.jsx(mW,{size:40})]}),w.jsxs("div",{className:ki.order_container,children:[w.jsxs(Kr,{to:"",className:ki.language,children:[w.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Flag_of_the_United_States_%28DoS_ECA_Color_Standard%29.svg/1280px-Flag_of_the_United_States_%28DoS_ECA_Color_Standard%29.svg.png",alt:""}),w.jsx("select",{children:w.jsx("option",{value:"",children:"EN"})})]}),w.jsx(Kr,{to:!e&&"/auth",children:w.jsx("div",{children:e?w.jsxs(w.Fragment,{children:[w.jsxs("p",{children:["Hello ",e.email.split("@")[0]]}),w.jsx("span",{onClick:()=>zf.signOut(),children:"Sign Out"})]}):w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Hello, Sign In"}),w.jsx("span",{children:"Account & Lists"})]})})}),w.jsxs(Kr,{to:"/order",children:[w.jsx("p",{children:"returns"}),w.jsx("span",{children:"& orders"})]}),w.jsxs(Kr,{to:"/cart",className:ki.cart,children:[w.jsx(gW,{size:35}),w.jsx("span",{children:r})]})]})]})}),w.jsx(PW,{})]})};function El({children:t}){return w.jsxs("div",{children:[w.jsx(bW,{}),t]})}function jO(t,e){return function(){return t.apply(e,arguments)}}const{toString:CW}=Object.prototype,{getPrototypeOf:yE}=Object,Im=(t=>e=>{const n=CW.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ur=t=>(t=t.toLowerCase(),e=>Im(e)===t),Tm=t=>e=>typeof e===t,{isArray:Il}=Array,bc=Tm("undefined");function kW(t){return t!==null&&!bc(t)&&t.constructor!==null&&!bc(t.constructor)&&zn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const BO=Ur("ArrayBuffer");function xW(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&BO(t.buffer),e}const OW=Tm("string"),zn=Tm("function"),zO=Tm("number"),Sm=t=>t!==null&&typeof t=="object",NW=t=>t===!0||t===!1,Dh=t=>{if(Im(t)!=="object")return!1;const e=yE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},DW=Ur("Date"),LW=Ur("File"),VW=Ur("Blob"),MW=Ur("FileList"),FW=t=>Sm(t)&&zn(t.pipe),$W=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zn(t.append)&&((e=Im(t))==="formdata"||e==="object"&&zn(t.toString)&&t.toString()==="[object FormData]"))},UW=Ur("URLSearchParams"),jW=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _d(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Il(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function WO(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const qO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HO=t=>!bc(t)&&t!==qO;function av(){const{caseless:t}=HO(this)&&this||{},e={},n=(r,i)=>{const s=t&&WO(e,i)||i;Dh(e[s])&&Dh(r)?e[s]=av(e[s],r):Dh(r)?e[s]=av({},r):Il(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&_d(arguments[r],n);return e}const BW=(t,e,n,{allOwnKeys:r}={})=>(_d(e,(i,s)=>{n&&zn(i)?t[s]=jO(i,n):t[s]=i},{allOwnKeys:r}),t),zW=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),WW=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},qW=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&yE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},HW=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},KW=t=>{if(!t)return null;if(Il(t))return t;let e=t.length;if(!zO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},GW=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yE(Uint8Array)),QW=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},YW=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},XW=Ur("HTMLFormElement"),JW=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ES=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ZW=Ur("RegExp"),KO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};_d(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},e8=t=>{KO(t,(e,n)=>{if(zn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(zn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},t8=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Il(t)?r(t):r(String(t).split(e)),n},n8=()=>{},r8=(t,e)=>(t=+t,Number.isFinite(t)?t:e),iy="abcdefghijklmnopqrstuvwxyz",IS="0123456789",GO={DIGIT:IS,ALPHA:iy,ALPHA_DIGIT:iy+iy.toUpperCase()+IS},i8=(t=16,e=GO.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function s8(t){return!!(t&&zn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const o8=t=>{const e=new Array(10),n=(r,i)=>{if(Sm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Il(r)?[]:{};return _d(r,(o,a)=>{const l=n(o,i+1);!bc(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},a8=Ur("AsyncFunction"),l8=t=>t&&(Sm(t)||zn(t))&&zn(t.then)&&zn(t.catch),C={isArray:Il,isArrayBuffer:BO,isBuffer:kW,isFormData:$W,isArrayBufferView:xW,isString:OW,isNumber:zO,isBoolean:NW,isObject:Sm,isPlainObject:Dh,isUndefined:bc,isDate:DW,isFile:LW,isBlob:VW,isRegExp:ZW,isFunction:zn,isStream:FW,isURLSearchParams:UW,isTypedArray:GW,isFileList:MW,forEach:_d,merge:av,extend:BW,trim:jW,stripBOM:zW,inherits:WW,toFlatObject:qW,kindOf:Im,kindOfTest:Ur,endsWith:HW,toArray:KW,forEachEntry:QW,matchAll:YW,isHTMLForm:XW,hasOwnProperty:ES,hasOwnProp:ES,reduceDescriptors:KO,freezeMethods:e8,toObjectSet:t8,toCamelCase:JW,noop:n8,toFiniteNumber:r8,findKey:WO,global:qO,isContextDefined:HO,ALPHABET:GO,generateString:i8,isSpecCompliantForm:s8,toJSONObject:o8,isAsyncFn:a8,isThenable:l8};function ae(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}C.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const QO=ae.prototype,YO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{YO[t]={value:t}});Object.defineProperties(ae,YO);Object.defineProperty(QO,"isAxiosError",{value:!0});ae.from=(t,e,n,r,i,s)=>{const o=Object.create(QO);return C.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ae.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const u8=null;function lv(t){return C.isPlainObject(t)||C.isArray(t)}function XO(t){return C.endsWith(t,"[]")?t.slice(0,-2):t}function TS(t,e,n){return t?t.concat(e).map(function(i,s){return i=XO(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function c8(t){return C.isArray(t)&&!t.some(lv)}const d8=C.toFlatObject(C,{},null,function(e){return/^is[A-Z]/.test(e)});function Rm(t,e,n){if(!C.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!C.isUndefined(v[m])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(e);if(!C.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(C.isDate(p))return p.toISOString();if(!l&&C.isBlob(p))throw new ae("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(p)||C.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,m,v){let _=p;if(p&&!v&&typeof p=="object"){if(C.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(C.isArray(p)&&c8(p)||(C.isFileList(p)||C.endsWith(m,"[]"))&&(_=C.toArray(p)))return m=XO(m),_.forEach(function(y,I){!(C.isUndefined(y)||y===null)&&e.append(o===!0?TS([m],I,s):o===null?m:m+"[]",u(y))}),!1}return lv(p)?!0:(e.append(TS(v,m,s),u(p)),!1)}const d=[],h=Object.assign(d8,{defaultVisitor:c,convertValue:u,isVisitable:lv});function f(p,m){if(!C.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),C.forEach(p,function(_,g){(!(C.isUndefined(_)||_===null)&&i.call(e,_,C.isString(g)?g.trim():g,m,h))===!0&&f(_,m?m.concat(g):[g])}),d.pop()}}if(!C.isObject(t))throw new TypeError("data must be an object");return f(t),e}function SS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function _E(t,e){this._pairs=[],t&&Rm(t,this,e)}const JO=_E.prototype;JO.append=function(e,n){this._pairs.push([e,n])};JO.toString=function(e){const n=e?function(r){return e.call(this,r,SS)}:SS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function h8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZO(t,e,n){if(!e)return t;const r=n&&n.encode||h8,i=n&&n.serialize;let s;if(i?s=i(e,n):s=C.isURLSearchParams(e)?e.toString():new _E(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class RS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,function(r){r!==null&&e(r)})}}const eN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f8=typeof URLSearchParams<"u"?URLSearchParams:_E,p8=typeof FormData<"u"?FormData:null,m8=typeof Blob<"u"?Blob:null,g8={isBrowser:!0,classes:{URLSearchParams:f8,FormData:p8,Blob:m8},protocols:["http","https","file","blob","url","data"]},tN=typeof window<"u"&&typeof document<"u",y8=(t=>tN&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),_8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",v8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tN,hasStandardBrowserEnv:y8,hasStandardBrowserWebWorkerEnv:_8},Symbol.toStringTag,{value:"Module"})),Cr={...v8,...g8};function w8(t,e){return Rm(t,new Cr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Cr.isNode&&C.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function E8(t){return C.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function I8(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function nN(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&C.isArray(i)?i.length:o,l?(C.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!C.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&C.isArray(i[o])&&(i[o]=I8(i[o])),!a)}if(C.isFormData(t)&&C.isFunction(t.entries)){const n={};return C.forEachEntry(t,(r,i)=>{e(E8(r),i,n,0)}),n}return null}function T8(t,e,n){if(C.isString(t))try{return(e||JSON.parse)(t),C.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const vE={transitional:eN,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=C.isObject(e);if(s&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return i?JSON.stringify(nN(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return w8(e,this.formSerializer).toString();if((a=C.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Rm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),T8(e)):e}],transformResponse:[function(e){const n=this.transitional||vE.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&C.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cr.classes.FormData,Blob:Cr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],t=>{vE.headers[t]={}});const wE=vE,S8=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),R8=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&S8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},AS=Symbol("internals");function Hl(t){return t&&String(t).trim().toLowerCase()}function Lh(t){return t===!1||t==null?t:C.isArray(t)?t.map(Lh):String(t)}function A8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const P8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function sy(t,e,n,r,i){if(C.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!C.isString(e)){if(C.isString(r))return e.indexOf(r)!==-1;if(C.isRegExp(r))return r.test(e)}}function b8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function C8(t,e){const n=C.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Am{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=Hl(l);if(!c)throw new Error("header name must be a non-empty string");const d=C.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Lh(a))}const o=(a,l)=>C.forEach(a,(u,c)=>s(u,c,l));return C.isPlainObject(e)||e instanceof this.constructor?o(e,n):C.isString(e)&&(e=e.trim())&&!P8(e)?o(R8(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Hl(e),e){const r=C.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return A8(i);if(C.isFunction(n))return n.call(this,i,r);if(C.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Hl(e),e){const r=C.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||sy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Hl(o),o){const a=C.findKey(r,o);a&&(!n||sy(r,r[a],a,n))&&(delete r[a],i=!0)}}return C.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||sy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return C.forEach(this,(i,s)=>{const o=C.findKey(r,s);if(o){n[o]=Lh(i),delete n[s];return}const a=e?b8(s):String(s).trim();a!==s&&delete n[s],n[a]=Lh(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return C.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&C.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[AS]=this[AS]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Hl(o);r[a]||(C8(i,o),r[a]=!0)}return C.isArray(e)?e.forEach(s):s(e),this}}Am.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(Am.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});C.freezeMethods(Am);const ii=Am;function oy(t,e){const n=this||wE,r=e||n,i=ii.from(r.headers);let s=r.data;return C.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function rN(t){return!!(t&&t.__CANCEL__)}function vd(t,e,n){ae.call(this,t??"canceled",ae.ERR_CANCELED,e,n),this.name="CanceledError"}C.inherits(vd,ae,{__CANCEL__:!0});function k8(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const x8=Cr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];C.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),C.isString(r)&&o.push("path="+r),C.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function O8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function N8(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function iN(t,e){return t&&!O8(e)?N8(t,e):e}const D8=Cr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=C.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function L8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function V8(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const f=c&&u-c;return f?Math.round(h*1e3/f):void 0}}function PS(t,e){let n=0;const r=V8(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const M8=typeof XMLHttpRequest<"u",F8=M8&&function(t){return new Promise(function(n,r){let i=t.data;const s=ii.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let c;if(C.isFormData(i)){if(Cr.hasStandardBrowserEnv||Cr.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((c=s.getContentType())!==!1){const[m,...v]=c?c.split(";").map(_=>_.trim()).filter(Boolean):[];s.setContentType([m||"multipart/form-data",...v].join("; "))}}let d=new XMLHttpRequest;if(t.auth){const m=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(m+":"+v))}const h=iN(t.baseURL,t.url);d.open(t.method.toUpperCase(),ZO(h,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function f(){if(!d)return;const m=ii.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:m,config:t,request:d};k8(function(y){n(y),u()},function(y){r(y),u()},_),d=null}if("onloadend"in d?d.onloadend=f:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(f)},d.onabort=function(){d&&(r(new ae("Request aborted",ae.ECONNABORTED,t,d)),d=null)},d.onerror=function(){r(new ae("Network Error",ae.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let v=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const _=t.transitional||eN;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),r(new ae(v,_.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,t,d)),d=null},Cr.hasStandardBrowserEnv&&(a&&C.isFunction(a)&&(a=a(t)),a||a!==!1&&D8(h))){const m=t.xsrfHeaderName&&t.xsrfCookieName&&x8.read(t.xsrfCookieName);m&&s.set(t.xsrfHeaderName,m)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&C.forEach(s.toJSON(),function(v,_){d.setRequestHeader(_,v)}),C.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),o&&o!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",PS(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",PS(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=m=>{d&&(r(!m||m.type?new vd(null,t,d):m),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const p=L8(h);if(p&&Cr.protocols.indexOf(p)===-1){r(new ae("Unsupported protocol "+p+":",ae.ERR_BAD_REQUEST,t));return}d.send(i||null)})},uv={http:u8,xhr:F8};C.forEach(uv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const bS=t=>`- ${t}`,$8=t=>C.isFunction(t)||t===null||t===!1,sN={getAdapter:t=>{t=C.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!$8(n)&&(r=uv[(o=String(n)).toLowerCase()],r===void 0))throw new ae(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(bS).join(`
`):" "+bS(s[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:uv};function ay(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vd(null,t)}function CS(t){return ay(t),t.headers=ii.from(t.headers),t.data=oy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),sN.getAdapter(t.adapter||wE.adapter)(t).then(function(r){return ay(t),r.data=oy.call(t,t.transformResponse,r),r.headers=ii.from(r.headers),r},function(r){return rN(r)||(ay(t),r&&r.response&&(r.response.data=oy.call(t,t.transformResponse,r.response),r.response.headers=ii.from(r.response.headers))),Promise.reject(r)})}const kS=t=>t instanceof ii?t.toJSON():t;function Ya(t,e){e=e||{};const n={};function r(u,c,d){return C.isPlainObject(u)&&C.isPlainObject(c)?C.merge.call({caseless:d},u,c):C.isPlainObject(c)?C.merge({},c):C.isArray(c)?c.slice():c}function i(u,c,d){if(C.isUndefined(c)){if(!C.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!C.isUndefined(c))return r(void 0,c)}function o(u,c){if(C.isUndefined(c)){if(!C.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(kS(u),kS(c),!0)};return C.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||i,h=d(t[c],e[c],c);C.isUndefined(h)&&d!==a||(n[c]=h)}),n}const oN="1.6.7",EE={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{EE[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const xS={};EE.transitional=function(e,n,r){function i(s,o){return"[Axios v"+oN+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ae(i(o," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!xS[o]&&(xS[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function U8(t,e,n){if(typeof t!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ae("option "+s+" must be "+l,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+s,ae.ERR_BAD_OPTION)}}const cv={assertOptions:U8,validators:EE},bi=cv.validators;class Xf{constructor(e){this.defaults=e,this.interceptors={request:new RS,response:new RS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ya(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&cv.assertOptions(r,{silentJSONParsing:bi.transitional(bi.boolean),forcedJSONParsing:bi.transitional(bi.boolean),clarifyTimeoutError:bi.transitional(bi.boolean)},!1),i!=null&&(C.isFunction(i)?n.paramsSerializer={serialize:i}:cv.assertOptions(i,{encode:bi.function,serialize:bi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&C.merge(s.common,s[n.method]);s&&C.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=ii.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,d=0,h;if(!l){const p=[CS.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),h=p.length,c=Promise.resolve(n);d<h;)c=c.then(p[d++],p[d++]);return c}h=a.length;let f=n;for(d=0;d<h;){const p=a[d++],m=a[d++];try{f=p(f)}catch(v){m.call(this,v);break}}try{c=CS.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=Ya(this.defaults,e);const n=iN(e.baseURL,e.url);return ZO(n,e.params,e.paramsSerializer)}}C.forEach(["delete","get","head","options"],function(e){Xf.prototype[e]=function(n,r){return this.request(Ya(r||{},{method:e,url:n,data:(r||{}).data}))}});C.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Ya(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Xf.prototype[e]=n(),Xf.prototype[e+"Form"]=n(!0)});const Vh=Xf;class IE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new vd(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new IE(function(i){e=i}),cancel:e}}}const j8=IE;function B8(t){return function(n){return t.apply(null,n)}}function z8(t){return C.isObject(t)&&t.isAxiosError===!0}const dv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dv).forEach(([t,e])=>{dv[e]=t});const W8=dv;function aN(t){const e=new Vh(t),n=jO(Vh.prototype.request,e);return C.extend(n,Vh.prototype,e,{allOwnKeys:!0}),C.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return aN(Ya(t,i))},n}const Ue=aN(wE);Ue.Axios=Vh;Ue.CanceledError=vd;Ue.CancelToken=j8;Ue.isCancel=rN;Ue.VERSION=oN;Ue.toFormData=Rm;Ue.AxiosError=ae;Ue.Cancel=Ue.CanceledError;Ue.all=function(e){return Promise.all(e)};Ue.spread=B8;Ue.isAxiosError=z8;Ue.mergeConfig=Ya;Ue.AxiosHeaders=ii;Ue.formToJSON=t=>nN(C.isHTMLForm(t)?new FormData(t):t);Ue.getAdapter=sN.getAdapter;Ue.HttpStatusCode=W8;Ue.default=Ue;function jr(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y.apply(this,arguments)}function lN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ou(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lN(t))&&(r&&(r+=" "),r+=e);return r}function uN(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const q8=Object.freeze(Object.defineProperty({__proto__:null,default:uN},Symbol.toStringTag,{value:"Module"})),H8={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},K8=H8;function cN(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function Cc(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const G8=Object.freeze(Object.defineProperty({__proto__:null,default:Cc},Symbol.toStringTag,{value:"Module"}));function dN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Q8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Y8=dN(function(t){return Q8.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function X8(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function J8(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Z8=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(J8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=X8(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),$t="-ms-",Jf="-moz-",ce="-webkit-",hN="comm",TE="rule",SE="decl",eq="@import",fN="@keyframes",tq="@layer",nq=Math.abs,Pm=String.fromCharCode,rq=Object.assign;function iq(t,e){return bt(t,0)^45?(((e<<2^bt(t,0))<<2^bt(t,1))<<2^bt(t,2))<<2^bt(t,3):0}function pN(t){return t.trim()}function sq(t,e){return(t=e.exec(t))?t[0]:t}function de(t,e,n){return t.replace(e,n)}function hv(t,e){return t.indexOf(e)}function bt(t,e){return t.charCodeAt(e)|0}function kc(t,e,n){return t.slice(e,n)}function pr(t){return t.length}function RE(t){return t.length}function sh(t,e){return e.push(t),t}function oq(t,e){return t.map(e).join("")}var bm=1,Xa=1,mN=0,yn=0,at=0,Tl="";function Cm(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:bm,column:Xa,length:o,return:""}}function Kl(t,e){return rq(Cm("",null,null,"",null,null,0),t,{length:-t.length},e)}function aq(){return at}function lq(){return at=yn>0?bt(Tl,--yn):0,Xa--,at===10&&(Xa=1,bm--),at}function An(){return at=yn<mN?bt(Tl,yn++):0,Xa++,at===10&&(Xa=1,bm++),at}function Dr(){return bt(Tl,yn)}function Mh(){return yn}function wd(t,e){return kc(Tl,t,e)}function xc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gN(t){return bm=Xa=1,mN=pr(Tl=t),yn=0,[]}function yN(t){return Tl="",t}function Fh(t){return pN(wd(yn-1,fv(t===91?t+2:t===40?t+1:t)))}function uq(t){for(;(at=Dr())&&at<33;)An();return xc(t)>2||xc(at)>3?"":" "}function cq(t,e){for(;--e&&An()&&!(at<48||at>102||at>57&&at<65||at>70&&at<97););return wd(t,Mh()+(e<6&&Dr()==32&&An()==32))}function fv(t){for(;An();)switch(at){case t:return yn;case 34:case 39:t!==34&&t!==39&&fv(at);break;case 40:t===41&&fv(t);break;case 92:An();break}return yn}function dq(t,e){for(;An()&&t+at!==57;)if(t+at===84&&Dr()===47)break;return"/*"+wd(e,yn-1)+"*"+Pm(t===47?t:An())}function hq(t){for(;!xc(Dr());)An();return wd(t,yn)}function fq(t){return yN($h("",null,null,null,[""],t=gN(t),0,[0],t))}function $h(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,p=0,m=1,v=1,_=1,g=0,y="",I=i,E=s,T=r,R=y;v;)switch(p=g,g=An()){case 40:if(p!=108&&bt(R,d-1)==58){hv(R+=de(Fh(g),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:R+=Fh(g);break;case 9:case 10:case 13:case 32:R+=uq(p);break;case 92:R+=cq(Mh()-1,7);continue;case 47:switch(Dr()){case 42:case 47:sh(pq(dq(An(),Mh()),e,n),l);break;default:R+="/"}break;case 123*m:a[u++]=pr(R)*_;case 125*m:case 59:case 0:switch(g){case 0:case 125:v=0;case 59+c:_==-1&&(R=de(R,/\f/g,"")),f>0&&pr(R)-d&&sh(f>32?NS(R+";",r,n,d-1):NS(de(R," ","")+";",r,n,d-2),l);break;case 59:R+=";";default:if(sh(T=OS(R,e,n,u,c,i,a,y,I=[],E=[],d),s),g===123)if(c===0)$h(R,e,T,T,I,s,d,a,E);else switch(h===99&&bt(R,3)===110?100:h){case 100:case 108:case 109:case 115:$h(t,T,T,r&&sh(OS(t,T,T,0,0,i,a,y,i,I=[],d),E),i,E,d,a,r?I:E);break;default:$h(R,T,T,T,[""],E,0,a,E)}}u=c=f=0,m=_=1,y=R="",d=o;break;case 58:d=1+pr(R),f=p;default:if(m<1){if(g==123)--m;else if(g==125&&m++==0&&lq()==125)continue}switch(R+=Pm(g),g*m){case 38:_=c>0?1:(R+="\f",-1);break;case 44:a[u++]=(pr(R)-1)*_,_=1;break;case 64:Dr()===45&&(R+=Fh(An())),h=Dr(),c=d=pr(y=R+=hq(Mh())),g++;break;case 45:p===45&&pr(R)==2&&(m=0)}}return s}function OS(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=RE(h),p=0,m=0,v=0;p<r;++p)for(var _=0,g=kc(t,d+1,d=nq(m=o[p])),y=t;_<f;++_)(y=pN(m>0?h[_]+" "+g:de(g,/&\f/g,h[_])))&&(l[v++]=y);return Cm(t,e,n,i===0?TE:a,l,u,c)}function pq(t,e,n){return Cm(t,e,n,hN,Pm(aq()),kc(t,2,-2),0)}function NS(t,e,n,r){return Cm(t,e,n,SE,kc(t,0,r),kc(t,r+1,-1),r)}function Sa(t,e){for(var n="",r=RE(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function mq(t,e,n,r){switch(t.type){case tq:if(t.children.length)break;case eq:case SE:return t.return=t.return||t.value;case hN:return"";case fN:return t.return=t.value+"{"+Sa(t.children,r)+"}";case TE:t.value=t.props.join(",")}return pr(n=Sa(t.children,r))?t.return=t.value+"{"+n+"}":""}function gq(t){var e=RE(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function yq(t){return function(e){e.root||(e=e.return)&&t(e)}}var _q=function(e,n,r){for(var i=0,s=0;i=s,s=Dr(),i===38&&s===12&&(n[r]=1),!xc(s);)An();return wd(e,yn)},vq=function(e,n){var r=-1,i=44;do switch(xc(i)){case 0:i===38&&Dr()===12&&(n[r]=1),e[r]+=_q(yn-1,n,r);break;case 2:e[r]+=Fh(i);break;case 4:if(i===44){e[++r]=Dr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Pm(i)}while(i=An());return e},wq=function(e,n){return yN(vq(gN(e),n))},DS=new WeakMap,Eq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!DS.get(r))&&!i){DS.set(e,!0);for(var s=[],o=wq(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},Iq=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function _N(t,e){switch(iq(t,e)){case 5103:return ce+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ce+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ce+t+Jf+t+$t+t+t;case 6828:case 4268:return ce+t+$t+t+t;case 6165:return ce+t+$t+"flex-"+t+t;case 5187:return ce+t+de(t,/(\w+).+(:[^]+)/,ce+"box-$1$2"+$t+"flex-$1$2")+t;case 5443:return ce+t+$t+"flex-item-"+de(t,/flex-|-self/,"")+t;case 4675:return ce+t+$t+"flex-line-pack"+de(t,/align-content|flex-|-self/,"")+t;case 5548:return ce+t+$t+de(t,"shrink","negative")+t;case 5292:return ce+t+$t+de(t,"basis","preferred-size")+t;case 6060:return ce+"box-"+de(t,"-grow","")+ce+t+$t+de(t,"grow","positive")+t;case 4554:return ce+de(t,/([^-])(transform)/g,"$1"+ce+"$2")+t;case 6187:return de(de(de(t,/(zoom-|grab)/,ce+"$1"),/(image-set)/,ce+"$1"),t,"")+t;case 5495:case 3959:return de(t,/(image-set\([^]*)/,ce+"$1$`$1");case 4968:return de(de(t,/(.+:)(flex-)?(.*)/,ce+"box-pack:$3"+$t+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ce+t+t;case 4095:case 3583:case 4068:case 2532:return de(t,/(.+)-inline(.+)/,ce+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pr(t)-1-e>6)switch(bt(t,e+1)){case 109:if(bt(t,e+4)!==45)break;case 102:return de(t,/(.+:)(.+)-([^]+)/,"$1"+ce+"$2-$3$1"+Jf+(bt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~hv(t,"stretch")?_N(de(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(bt(t,e+1)!==115)break;case 6444:switch(bt(t,pr(t)-3-(~hv(t,"!important")&&10))){case 107:return de(t,":",":"+ce)+t;case 101:return de(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ce+(bt(t,14)===45?"inline-":"")+"box$3$1"+ce+"$2$3$1"+$t+"$2box$3")+t}break;case 5936:switch(bt(t,e+11)){case 114:return ce+t+$t+de(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ce+t+$t+de(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ce+t+$t+de(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ce+t+$t+t+t}return t}var Tq=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case SE:e.return=_N(e.value,e.length);break;case fN:return Sa([Kl(e,{value:de(e.value,"@","@"+ce)})],i);case TE:if(e.length)return oq(e.props,function(s){switch(sq(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sa([Kl(e,{props:[de(s,/:(read-\w+)/,":"+Jf+"$1")]})],i);case"::placeholder":return Sa([Kl(e,{props:[de(s,/:(plac\w+)/,":"+ce+"input-$1")]}),Kl(e,{props:[de(s,/:(plac\w+)/,":"+Jf+"$1")]}),Kl(e,{props:[de(s,/:(plac\w+)/,$t+"input-$1")]})],i)}return""})}},Sq=[Tq],vN=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||Sq,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),_=1;_<v.length;_++)s[v[_]]=!0;a.push(m)});var l,u=[Eq,Iq];{var c,d=[mq,yq(function(m){c.insert(m)})],h=gq(u.concat(i,d)),f=function(v){return Sa(fq(v),h)};l=function(v,_,g,y){c=g,f(v?v+"{"+_.styles+"}":_.styles),y&&(p.inserted[_.name]=!0)}}var p={key:n,sheet:new Z8({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},wN={exports:{}},ye={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt=typeof Symbol=="function"&&Symbol.for,AE=Rt?Symbol.for("react.element"):60103,PE=Rt?Symbol.for("react.portal"):60106,km=Rt?Symbol.for("react.fragment"):60107,xm=Rt?Symbol.for("react.strict_mode"):60108,Om=Rt?Symbol.for("react.profiler"):60114,Nm=Rt?Symbol.for("react.provider"):60109,Dm=Rt?Symbol.for("react.context"):60110,bE=Rt?Symbol.for("react.async_mode"):60111,Lm=Rt?Symbol.for("react.concurrent_mode"):60111,Vm=Rt?Symbol.for("react.forward_ref"):60112,Mm=Rt?Symbol.for("react.suspense"):60113,Rq=Rt?Symbol.for("react.suspense_list"):60120,Fm=Rt?Symbol.for("react.memo"):60115,$m=Rt?Symbol.for("react.lazy"):60116,Aq=Rt?Symbol.for("react.block"):60121,Pq=Rt?Symbol.for("react.fundamental"):60117,bq=Rt?Symbol.for("react.responder"):60118,Cq=Rt?Symbol.for("react.scope"):60119;function On(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case AE:switch(t=t.type,t){case bE:case Lm:case km:case Om:case xm:case Mm:return t;default:switch(t=t&&t.$$typeof,t){case Dm:case Vm:case $m:case Fm:case Nm:return t;default:return e}}case PE:return e}}}function EN(t){return On(t)===Lm}ye.AsyncMode=bE;ye.ConcurrentMode=Lm;ye.ContextConsumer=Dm;ye.ContextProvider=Nm;ye.Element=AE;ye.ForwardRef=Vm;ye.Fragment=km;ye.Lazy=$m;ye.Memo=Fm;ye.Portal=PE;ye.Profiler=Om;ye.StrictMode=xm;ye.Suspense=Mm;ye.isAsyncMode=function(t){return EN(t)||On(t)===bE};ye.isConcurrentMode=EN;ye.isContextConsumer=function(t){return On(t)===Dm};ye.isContextProvider=function(t){return On(t)===Nm};ye.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===AE};ye.isForwardRef=function(t){return On(t)===Vm};ye.isFragment=function(t){return On(t)===km};ye.isLazy=function(t){return On(t)===$m};ye.isMemo=function(t){return On(t)===Fm};ye.isPortal=function(t){return On(t)===PE};ye.isProfiler=function(t){return On(t)===Om};ye.isStrictMode=function(t){return On(t)===xm};ye.isSuspense=function(t){return On(t)===Mm};ye.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===km||t===Lm||t===Om||t===xm||t===Mm||t===Rq||typeof t=="object"&&t!==null&&(t.$$typeof===$m||t.$$typeof===Fm||t.$$typeof===Nm||t.$$typeof===Dm||t.$$typeof===Vm||t.$$typeof===Pq||t.$$typeof===bq||t.$$typeof===Cq||t.$$typeof===Aq)};ye.typeOf=On;wN.exports=ye;var kq=wN.exports,IN=kq,xq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Oq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TN={};TN[IN.ForwardRef]=xq;TN[IN.Memo]=Oq;var Nq=!0;function Dq(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var SN=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Nq===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},RN=function(e,n,r){SN(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Lq(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Vq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Mq=/[A-Z]|^ms/g,Fq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,AN=function(e){return e.charCodeAt(1)===45},LS=function(e){return e!=null&&typeof e!="boolean"},ly=dN(function(t){return AN(t)?t:t.replace(Mq,"-$&").toLowerCase()}),VS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Fq,function(r,i,s){return mr={name:i,styles:s,next:mr},i})}return Vq[e]!==1&&!AN(e)&&typeof n=="number"&&n!==0?n+"px":n};function Oc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return mr={name:n.name,styles:n.styles,next:mr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)mr={name:r.name,styles:r.styles,next:mr},r=r.next;var i=n.styles+";";return i}return $q(t,e,n)}case"function":{if(t!==void 0){var s=mr,o=n(t);return mr=s,Oc(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function $q(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Oc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":LS(o)&&(r+=ly(s)+":"+VS(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)LS(o[a])&&(r+=ly(s)+":"+VS(s,o[a])+";");else{var l=Oc(t,e,o);switch(s){case"animation":case"animationName":{r+=ly(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var MS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,mr,CE=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";mr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Oc(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Oc(r,n,e[a]),i&&(s+=o[a]);MS.lastIndex=0;for(var l="",u;(u=MS.exec(s))!==null;)l+="-"+u[1];var c=Lq(s)+l;return{name:c,styles:s,next:mr}},Uq=function(e){return e()},PN=Wh.useInsertionEffect?Wh.useInsertionEffect:!1,jq=PN||Uq,FS=PN||A.useLayoutEffect,bN=A.createContext(typeof HTMLElement<"u"?vN({key:"css"}):null),Bq=bN.Provider,CN=function(e){return A.forwardRef(function(n,r){var i=A.useContext(bN);return e(n,i,r)})},Um=A.createContext({}),uy={exports:{}},$S;function kN(){return $S||($S=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(uy)),uy.exports}kN();var zq=CN(function(t,e){var n=t.styles,r=CE([n],void 0,A.useContext(Um)),i=A.useRef();return FS(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),FS(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&RN(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function xN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return CE(e)}var Wq=function(){var e=xN.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},qq=Y8,Hq=function(e){return e!=="theme"},US=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?qq:Hq},jS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Kq=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return SN(n,r,i),jq(function(){return RN(n,r,i)}),null},Gq=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=jS(e,n,r),l=a||US(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var p=CN(function(m,v,_){var g=u&&m.as||i,y="",I=[],E=m;if(m.theme==null){E={};for(var T in m)E[T]=m[T];E.theme=A.useContext(Um)}typeof m.className=="string"?y=Dq(v.registered,I,m.className):m.className!=null&&(y=m.className+" ");var R=CE(d.concat(I),v.registered,E);y+=v.key+"-"+R.name,o!==void 0&&(y+=" "+o);var b=u&&a===void 0?US(g):l,U={};for(var M in m)u&&M==="as"||b(M)&&(U[M]=m[M]);return U.className=y,U.ref=_,A.createElement(A.Fragment,null,A.createElement(Kq,{cache:v,serialized:R,isStringTag:typeof g=="string"}),A.createElement(g,U))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,v){return t(m,Y({},n,v,{shouldForwardProp:jS(p,v,!0)})).apply(void 0,d)},p}},Qq=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],pv=Gq.bind();Qq.forEach(function(t){pv[t]=pv(t)});let mv;typeof document=="object"&&(mv=vN({key:"css",prepend:!0}));function Yq(t){const{injectFirst:e,children:n}=t;return e&&mv?w.jsx(Bq,{value:mv,children:n}):n}function Xq(t){return t==null||Object.keys(t).length===0}function Jq(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(Xq(i)?n:i):e;return w.jsx(zq,{styles:r})}function Zq(t,e){return pv(t,e)}const e7=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},t7=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Jq,StyledEngineProvider:Yq,ThemeContext:Um,css:xN,default:Zq,internal_processStyles:e7,keyframes:Wq},Symbol.toStringTag,{value:"Module"}));function Mi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ON(t){if(!Mi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=ON(t[n])}),e}function Lr(t,e,n={clone:!0}){const r=n.clone?Y({},t):t;return Mi(t)&&Mi(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Mi(e[i])&&i in t&&Mi(t[i])?r[i]=Lr(t[i],e[i],n):n.clone?r[i]=Mi(e[i])?ON(e[i]):e[i]:r[i]=e[i])}),r}const n7=Object.freeze(Object.defineProperty({__proto__:null,default:Lr,isPlainObject:Mi},Symbol.toStringTag,{value:"Module"})),r7=["values","unit","step"],i7=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Y({},n,{[r.key]:r.val}),{})};function NN(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=jr(t,r7),s=i7(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return Y({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const s7={borderRadius:4},o7=s7;function Nu(t,e){return e?Lr(t,e,{clone:!1}):t}const kE={xs:0,sm:600,md:900,lg:1200,xl:1536},BS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${kE[t]}px)`};function hi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||BS;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||BS;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||kE).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function a7(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function l7(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function fi(t){if(typeof t!="string")throw new Error(Cc(7));return t.charAt(0).toUpperCase()+t.slice(1)}const u7=Object.freeze(Object.defineProperty({__proto__:null,default:fi},Symbol.toStringTag,{value:"Module"}));function jm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Zf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=jm(t,n)||r,e&&(i=e(i,r,t)),i}function nt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=jm(l,r)||{};return hi(o,a,d=>{let h=Zf(u,i,d);return d===h&&typeof d=="string"&&(h=Zf(u,i,`${e}${d==="default"?"":fi(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function c7(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const d7={m:"margin",p:"padding"},h7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},f7=c7(t=>{if(t.length>2)if(zS[t])t=zS[t];else return[t];const[e,n]=t.split(""),r=d7[e],i=h7[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),xE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],OE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...xE,...OE];function Ed(t,e,n,r){var i;const s=(i=jm(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function DN(t){return Ed(t,"spacing",8)}function Id(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function p7(t,e){return n=>t.reduce((r,i)=>(r[i]=Id(e,n),r),{})}function m7(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=f7(n),s=p7(i,r),o=t[n];return hi(t,o,s)}function LN(t,e){const n=DN(t.theme);return Object.keys(t).map(r=>m7(t,e,r,n)).reduce(Nu,{})}function ze(t){return LN(t,xE)}ze.propTypes={};ze.filterProps=xE;function We(t){return LN(t,OE)}We.propTypes={};We.filterProps=OE;function g7(t=8){if(t.mui)return t;const e=DN({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Bm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Nu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Vn(t){return typeof t!="number"?t:`${t}px solid`}function Gn(t,e){return nt({prop:t,themeKey:"borders",transform:e})}const y7=Gn("border",Vn),_7=Gn("borderTop",Vn),v7=Gn("borderRight",Vn),w7=Gn("borderBottom",Vn),E7=Gn("borderLeft",Vn),I7=Gn("borderColor"),T7=Gn("borderTopColor"),S7=Gn("borderRightColor"),R7=Gn("borderBottomColor"),A7=Gn("borderLeftColor"),P7=Gn("outline",Vn),b7=Gn("outlineColor"),zm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Ed(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Id(e,r)});return hi(t,t.borderRadius,n)}return null};zm.propTypes={};zm.filterProps=["borderRadius"];Bm(y7,_7,v7,w7,E7,I7,T7,S7,R7,A7,zm,P7,b7);const Wm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Ed(t.theme,"spacing",8),n=r=>({gap:Id(e,r)});return hi(t,t.gap,n)}return null};Wm.propTypes={};Wm.filterProps=["gap"];const qm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Ed(t.theme,"spacing",8),n=r=>({columnGap:Id(e,r)});return hi(t,t.columnGap,n)}return null};qm.propTypes={};qm.filterProps=["columnGap"];const Hm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Ed(t.theme,"spacing",8),n=r=>({rowGap:Id(e,r)});return hi(t,t.rowGap,n)}return null};Hm.propTypes={};Hm.filterProps=["rowGap"];const C7=nt({prop:"gridColumn"}),k7=nt({prop:"gridRow"}),x7=nt({prop:"gridAutoFlow"}),O7=nt({prop:"gridAutoColumns"}),N7=nt({prop:"gridAutoRows"}),D7=nt({prop:"gridTemplateColumns"}),L7=nt({prop:"gridTemplateRows"}),V7=nt({prop:"gridTemplateAreas"}),M7=nt({prop:"gridArea"});Bm(Wm,qm,Hm,C7,k7,x7,O7,N7,D7,L7,V7,M7);function Ra(t,e){return e==="grey"?e:t}const F7=nt({prop:"color",themeKey:"palette",transform:Ra}),$7=nt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ra}),U7=nt({prop:"backgroundColor",themeKey:"palette",transform:Ra});Bm(F7,$7,U7);function In(t){return t<=1&&t!==0?`${t*100}%`:t}const j7=nt({prop:"width",transform:In}),NE=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||kE[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:In(n)}};return hi(t,t.maxWidth,e)}return null};NE.filterProps=["maxWidth"];const B7=nt({prop:"minWidth",transform:In}),z7=nt({prop:"height",transform:In}),W7=nt({prop:"maxHeight",transform:In}),q7=nt({prop:"minHeight",transform:In});nt({prop:"size",cssProperty:"width",transform:In});nt({prop:"size",cssProperty:"height",transform:In});const H7=nt({prop:"boxSizing"});Bm(j7,NE,B7,z7,W7,q7,H7);const K7={border:{themeKey:"borders",transform:Vn},borderTop:{themeKey:"borders",transform:Vn},borderRight:{themeKey:"borders",transform:Vn},borderBottom:{themeKey:"borders",transform:Vn},borderLeft:{themeKey:"borders",transform:Vn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Vn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:zm},color:{themeKey:"palette",transform:Ra},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ra},backgroundColor:{themeKey:"palette",transform:Ra},p:{style:We},pt:{style:We},pr:{style:We},pb:{style:We},pl:{style:We},px:{style:We},py:{style:We},padding:{style:We},paddingTop:{style:We},paddingRight:{style:We},paddingBottom:{style:We},paddingLeft:{style:We},paddingX:{style:We},paddingY:{style:We},paddingInline:{style:We},paddingInlineStart:{style:We},paddingInlineEnd:{style:We},paddingBlock:{style:We},paddingBlockStart:{style:We},paddingBlockEnd:{style:We},m:{style:ze},mt:{style:ze},mr:{style:ze},mb:{style:ze},ml:{style:ze},mx:{style:ze},my:{style:ze},margin:{style:ze},marginTop:{style:ze},marginRight:{style:ze},marginBottom:{style:ze},marginLeft:{style:ze},marginX:{style:ze},marginY:{style:ze},marginInline:{style:ze},marginInlineStart:{style:ze},marginInlineEnd:{style:ze},marginBlock:{style:ze},marginBlockStart:{style:ze},marginBlockEnd:{style:ze},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Wm},rowGap:{style:Hm},columnGap:{style:qm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:In},maxWidth:{style:NE},minWidth:{transform:In},height:{transform:In},maxHeight:{transform:In},minHeight:{transform:In},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Td=K7;function G7(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Q7(t,e){return typeof t=="function"?t(e):t}function VN(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=jm(i,u)||{};return d?d(o):hi(o,r,p=>{let m=Zf(h,c,p);return p===m&&typeof p=="string"&&(m=Zf(h,c,`${n}${p==="default"?"":fi(p)}`,p)),l===!1?m:{[l]:m}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Td;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=a7(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const p=Q7(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])h=Nu(h,t(f,p,s,o));else{const m=hi({theme:s},p,v=>({[f]:v}));G7(m,p)?h[f]=e({sx:p,theme:s}):h=Nu(h,m)}else h=Nu(h,t(f,p,s,o))}),l7(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Km=VN();Km.filterProps=["sx"];function MN(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const Y7=["breakpoints","palette","spacing","shape"];function DE(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=jr(t,Y7),a=NN(n),l=g7(i);let u=Lr({breakpoints:a,direction:"ltr",components:{},palette:Y({mode:"light"},r),spacing:l,shape:Y({},o7,s)},o);return u.applyStyles=MN,u=e.reduce((c,d)=>Lr(c,d),u),u.unstable_sxConfig=Y({},Td,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Km({sx:d,theme:this})},u}const X7=Object.freeze(Object.defineProperty({__proto__:null,default:DE,private_createBreakpoints:NN,unstable_applyStyles:MN},Symbol.toStringTag,{value:"Module"}));function J7(t){return Object.keys(t).length===0}function Z7(t=null){const e=A.useContext(Um);return!e||J7(e)?t:e}const eH=DE();function FN(t=eH){return Z7(t)}const tH=["sx"],nH=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Td;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function rH(t){const{sx:e}=t,n=jr(t,tH),{systemProps:r,otherProps:i}=nH(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Mi(a)?Y({},r,a):r}:s=Y({},r,e),Y({},i,{sx:s})}const iH=Object.freeze(Object.defineProperty({__proto__:null,default:Km,extendSxProp:rH,unstable_createStyleFunctionSx:VN,unstable_defaultSxConfig:Td},Symbol.toStringTag,{value:"Module"})),WS=t=>t,sH=()=>{let t=WS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=WS}}},oH=sH(),aH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function LE(t,e,n="Mui"){const r=aH[e];return r?`${n}-${r}`:`${oH.generate(t)}-${e}`}function $N(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=LE(t,i,n)}),r}var UN={exports:{}},_e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE=Symbol.for("react.element"),ME=Symbol.for("react.portal"),Gm=Symbol.for("react.fragment"),Qm=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),Xm=Symbol.for("react.provider"),Jm=Symbol.for("react.context"),lH=Symbol.for("react.server_context"),Zm=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),rg=Symbol.for("react.lazy"),uH=Symbol.for("react.offscreen"),jN;jN=Symbol.for("react.module.reference");function Qn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case VE:switch(t=t.type,t){case Gm:case Ym:case Qm:case eg:case tg:return t;default:switch(t=t&&t.$$typeof,t){case lH:case Jm:case Zm:case rg:case ng:case Xm:return t;default:return e}}case ME:return e}}}_e.ContextConsumer=Jm;_e.ContextProvider=Xm;_e.Element=VE;_e.ForwardRef=Zm;_e.Fragment=Gm;_e.Lazy=rg;_e.Memo=ng;_e.Portal=ME;_e.Profiler=Ym;_e.StrictMode=Qm;_e.Suspense=eg;_e.SuspenseList=tg;_e.isAsyncMode=function(){return!1};_e.isConcurrentMode=function(){return!1};_e.isContextConsumer=function(t){return Qn(t)===Jm};_e.isContextProvider=function(t){return Qn(t)===Xm};_e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===VE};_e.isForwardRef=function(t){return Qn(t)===Zm};_e.isFragment=function(t){return Qn(t)===Gm};_e.isLazy=function(t){return Qn(t)===rg};_e.isMemo=function(t){return Qn(t)===ng};_e.isPortal=function(t){return Qn(t)===ME};_e.isProfiler=function(t){return Qn(t)===Ym};_e.isStrictMode=function(t){return Qn(t)===Qm};_e.isSuspense=function(t){return Qn(t)===eg};_e.isSuspenseList=function(t){return Qn(t)===tg};_e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gm||t===Ym||t===Qm||t===eg||t===tg||t===uH||typeof t=="object"&&t!==null&&(t.$$typeof===rg||t.$$typeof===ng||t.$$typeof===Xm||t.$$typeof===Jm||t.$$typeof===Zm||t.$$typeof===jN||t.getModuleId!==void 0)};_e.typeOf=Qn;UN.exports=_e;var qS=UN.exports;const cH=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function BN(t){const e=`${t}`.match(cH);return e&&e[1]||""}function zN(t,e=""){return t.displayName||t.name||BN(t)||e}function HS(t,e,n){const r=zN(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function dH(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return zN(t,"Component");if(typeof t=="object")switch(t.$$typeof){case qS.ForwardRef:return HS(t,t.render,"ForwardRef");case qS.Memo:return HS(t,t.type,"memo");default:return}}}const hH=Object.freeze(Object.defineProperty({__proto__:null,default:dH,getFunctionName:BN},Symbol.toStringTag,{value:"Module"}));function WN(t,e){const n=Y({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Y({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=Y({},s),Object.keys(i).forEach(o=>{n[r][o]=WN(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function fH(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:WN(e.components[n].defaultProps,r)}function pH({props:t,name:e,defaultTheme:n,themeId:r}){let i=FN(n);return r&&(i=i[r]||i),fH({theme:i,name:e,props:t})}function mH(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let KS=0;function gH(t){const[e,n]=A.useState(t),r=t||e;return A.useEffect(()=>{e==null&&(KS+=1,n(`mui-${KS}`))},[e]),r}const GS=Wh.useId;function qN(t){if(GS!==void 0){const e=GS();return t??e}return gH(t)}function yH({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=A.useRef(t!==void 0),[s,o]=A.useState(e),a=i?t:s,l=A.useCallback(u=>{i||o(u)},[]);return[a,l]}function _H(...t){return A.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{mH(n,e)})},t)}class FE{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new FE}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}let ig=!0,gv=!1;const vH=new FE,wH={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function EH(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&wH[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function IH(t){t.metaKey||t.altKey||t.ctrlKey||(ig=!0)}function cy(){ig=!1}function TH(){this.visibilityState==="hidden"&&gv&&(ig=!0)}function SH(t){t.addEventListener("keydown",IH,!0),t.addEventListener("mousedown",cy,!0),t.addEventListener("pointerdown",cy,!0),t.addEventListener("touchstart",cy,!0),t.addEventListener("visibilitychange",TH,!0)}function RH(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return ig||EH(e)}function AH(){const t=A.useCallback(i=>{i!=null&&SH(i.ownerDocument)},[]),e=A.useRef(!1);function n(){return e.current?(gv=!0,vH.start(100,()=>{gv=!1}),e.current=!1,!0):!1}function r(i){return RH(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function PH(t,e){return Y({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var rt={},HN={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(HN);var KN=HN.exports;const bH=ms(G8),CH=ms(q8);var GN=KN;Object.defineProperty(rt,"__esModule",{value:!0});rt.alpha=JN;rt.blend=BH;rt.colorChannel=void 0;var kH=rt.darken=UE;rt.decomposeColor=Kn;rt.emphasize=jH;var xH=rt.getContrastRatio=MH;rt.getLuminance=ep;rt.hexToRgb=QN;rt.hslToRgb=XN;var OH=rt.lighten=jE;rt.private_safeAlpha=FH;rt.private_safeColorChannel=void 0;rt.private_safeDarken=$H;rt.private_safeEmphasize=ZN;rt.private_safeLighten=UH;rt.recomposeColor=Sl;rt.rgbToHex=VH;var QS=GN(bH),NH=GN(CH);function $E(t,e=0,n=1){return(0,NH.default)(t,e,n)}function QN(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function DH(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Kn(t){if(t.type)return t;if(t.charAt(0)==="#")return Kn(QN(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,QS.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,QS.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const YN=t=>{const e=Kn(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};rt.colorChannel=YN;const LH=(t,e)=>{try{return YN(t)}catch{return t}};rt.private_safeColorChannel=LH;function Sl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function VH(t){if(t.indexOf("#")===0)return t;const{values:e}=Kn(t);return`#${e.map((n,r)=>DH(r===3?Math.round(255*n):n)).join("")}`}function XN(t){t=Kn(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Sl({type:a,values:l})}function ep(t){t=Kn(t);let e=t.type==="hsl"||t.type==="hsla"?Kn(XN(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function MH(t,e){const n=ep(t),r=ep(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function JN(t,e){return t=Kn(t),e=$E(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Sl(t)}function FH(t,e,n){try{return JN(t,e)}catch{return t}}function UE(t,e){if(t=Kn(t),e=$E(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Sl(t)}function $H(t,e,n){try{return UE(t,e)}catch{return t}}function jE(t,e){if(t=Kn(t),e=$E(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Sl(t)}function UH(t,e,n){try{return jE(t,e)}catch{return t}}function jH(t,e=.15){return ep(t)>.5?UE(t,e):jE(t,e)}function ZN(t,e,n){try{return ZN(t,e)}catch{return t}}function BH(t,e,n,r=1){const i=(l,u)=>Math.round((l**(1/r)*(1-n)+u**(1/r)*n)**r),s=Kn(t),o=Kn(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Sl({type:"rgb",values:a})}const zH={black:"#000",white:"#fff"},Nc=zH,WH={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},qH=WH,HH={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},jo=HH,KH={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Bo=KH,GH={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Gl=GH,QH={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},zo=QH,YH={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Wo=YH,XH={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},qo=XH,JH=["mode","contrastThreshold","tonalOffset"],YS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Nc.white,default:Nc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dy={text:{primary:Nc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Nc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function XS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=OH(t.main,i):e==="dark"&&(t.dark=kH(t.main,s)))}function ZH(t="light"){return t==="dark"?{main:zo[200],light:zo[50],dark:zo[400]}:{main:zo[700],light:zo[400],dark:zo[800]}}function eK(t="light"){return t==="dark"?{main:jo[200],light:jo[50],dark:jo[400]}:{main:jo[500],light:jo[300],dark:jo[700]}}function tK(t="light"){return t==="dark"?{main:Bo[500],light:Bo[300],dark:Bo[700]}:{main:Bo[700],light:Bo[400],dark:Bo[800]}}function nK(t="light"){return t==="dark"?{main:Wo[400],light:Wo[300],dark:Wo[700]}:{main:Wo[700],light:Wo[500],dark:Wo[900]}}function rK(t="light"){return t==="dark"?{main:qo[400],light:qo[300],dark:qo[700]}:{main:qo[800],light:qo[500],dark:qo[900]}}function iK(t="light"){return t==="dark"?{main:Gl[400],light:Gl[300],dark:Gl[700]}:{main:"#ed6c02",light:Gl[500],dark:Gl[900]}}function sK(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=jr(t,JH),s=t.primary||ZH(e),o=t.secondary||eK(e),a=t.error||tK(e),l=t.info||nK(e),u=t.success||rK(e),c=t.warning||iK(e);function d(m){return xH(m,dy.text.primary)>=n?dy.text.primary:YS.text.primary}const h=({color:m,name:v,mainShade:_=500,lightShade:g=300,darkShade:y=700})=>{if(m=Y({},m),!m.main&&m[_]&&(m.main=m[_]),!m.hasOwnProperty("main"))throw new Error(Cc(11,v?` (${v})`:"",_));if(typeof m.main!="string")throw new Error(Cc(12,v?` (${v})`:"",JSON.stringify(m.main)));return XS(m,"light",g,r),XS(m,"dark",y,r),m.contrastText||(m.contrastText=d(m.main)),m},f={dark:dy,light:YS};return Lr(Y({common:Y({},Nc),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:qH,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const oK=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function aK(t){return Math.round(t*1e5)/1e5}const JS={textTransform:"uppercase"},ZS='"Roboto", "Helvetica", "Arial", sans-serif';function lK(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=ZS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=jr(n,oK),f=i/14,p=d||(_=>`${_/u*f}rem`),m=(_,g,y,I,E)=>Y({fontFamily:r,fontWeight:_,fontSize:p(g),lineHeight:y},r===ZS?{letterSpacing:`${aK(I/g)}em`}:{},E,c),v={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,JS),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,JS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Lr(Y({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},v),h,{clone:!1})}const uK=.2,cK=.14,dK=.12;function Ce(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${uK})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${cK})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${dK})`].join(",")}const hK=["none",Ce(0,2,1,-1,0,1,1,0,0,1,3,0),Ce(0,3,1,-2,0,2,2,0,0,1,5,0),Ce(0,3,3,-2,0,3,4,0,0,1,8,0),Ce(0,2,4,-1,0,4,5,0,0,1,10,0),Ce(0,3,5,-1,0,5,8,0,0,1,14,0),Ce(0,3,5,-1,0,6,10,0,0,1,18,0),Ce(0,4,5,-2,0,7,10,1,0,2,16,1),Ce(0,5,5,-3,0,8,10,1,0,3,14,2),Ce(0,5,6,-3,0,9,12,1,0,3,16,2),Ce(0,6,6,-3,0,10,14,1,0,4,18,3),Ce(0,6,7,-4,0,11,15,1,0,4,20,3),Ce(0,7,8,-4,0,12,17,2,0,5,22,4),Ce(0,7,8,-4,0,13,19,2,0,5,24,4),Ce(0,7,9,-4,0,14,21,2,0,5,26,4),Ce(0,8,9,-5,0,15,22,2,0,6,28,5),Ce(0,8,10,-5,0,16,24,2,0,6,30,5),Ce(0,8,11,-5,0,17,26,2,0,6,32,5),Ce(0,9,11,-5,0,18,28,2,0,7,34,6),Ce(0,9,12,-6,0,19,29,2,0,7,36,6),Ce(0,10,13,-6,0,20,31,3,0,8,38,7),Ce(0,10,13,-6,0,21,33,3,0,8,40,7),Ce(0,10,14,-6,0,22,35,3,0,8,42,7),Ce(0,11,14,-7,0,23,36,3,0,9,44,8),Ce(0,11,15,-7,0,24,38,3,0,9,46,8)],fK=["duration","easing","delay"],pK={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},mK={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function eR(t){return`${Math.round(t)}ms`}function gK(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function yK(t){const e=Y({},pK,t.easing),n=Y({},mK,t.duration);return Y({getAutoHeightDuration:gK,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return jr(s,fK),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:eR(o)} ${a} ${typeof l=="string"?l:eR(l)}`).join(",")}},t,{easing:e,duration:n})}const _K={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},vK=_K,wK=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function EK(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=jr(t,wK);if(t.vars)throw new Error(Cc(18));const a=sK(r),l=DE(t);let u=Lr(l,{mixins:PH(l.breakpoints,n),palette:a,shadows:hK.slice(),typography:lK(a,s),transitions:yK(i),zIndex:Y({},vK)});return u=Lr(u,o),u=e.reduce((c,d)=>Lr(c,d),u),u.unstable_sxConfig=Y({},Td,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Km({sx:d,theme:this})},u}const IK=EK(),BE=IK,zE="$$material";function TK(){const t=FN(BE);return t[zE]||t}function eD({props:t,name:e}){return pH({props:t,name:e,defaultTheme:BE,themeId:zE})}var Sd={},hy={exports:{}},tR;function SK(){return tR||(tR=1,function(t){function e(n,r){if(n==null)return{};var i={},s=Object.keys(n),o,a;for(a=0;a<s.length;a++)o=s[a],!(r.indexOf(o)>=0)&&(i[o]=n[o]);return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(hy)),hy.exports}const RK=ms(t7),AK=ms(n7),PK=ms(u7),bK=ms(hH),CK=ms(X7),kK=ms(iH);var Rl=KN;Object.defineProperty(Sd,"__esModule",{value:!0});var xK=Sd.default=WK,tD=Sd.shouldForwardProp=Uh;Sd.systemDefaultTheme=void 0;var Nn=Rl(kN()),yv=Rl(SK()),nR=FK(RK),OK=AK;Rl(PK);Rl(bK);var NK=Rl(CK),DK=Rl(kK);const LK=["ownerState"],VK=["variants"],MK=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function nD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(nD=function(r){return r?n:e})(t)}function FK(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=nD(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function $K(t){return Object.keys(t).length===0}function UK(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Uh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const jK=Sd.systemDefaultTheme=(0,NK.default)(),BK=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function oh({defaultTheme:t,theme:e,themeId:n}){return $K(e)?t:e[n]||e}function zK(t){return t?(e,n)=>n[t]:null}function jh(t,e){let{ownerState:n}=e,r=(0,yv.default)(e,LK);const i=typeof t=="function"?t((0,Nn.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>jh(s,(0,Nn.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,yv.default)(i,VK);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,Nn.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(c=>{(n==null?void 0:n[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Nn.default)({ownerState:n},r,n)):l.style))}),a}return i}function WK(t={}){const{themeId:e,defaultTheme:n=jK,rootShouldForwardProp:r=Uh,slotShouldForwardProp:i=Uh}=t,s=o=>(0,DK.default)((0,Nn.default)({},o,{theme:oh((0,Nn.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,nR.internal_processStyles)(o,E=>E.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=zK(BK(u))}=a,f=(0,yv.default)(a,MK),p=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,m=d||!1;let v,_=Uh;u==="Root"||u==="root"?_=r:u?_=i:UK(o)&&(_=void 0);const g=(0,nR.default)(o,(0,Nn.default)({shouldForwardProp:_,label:v},f)),y=E=>typeof E=="function"&&E.__emotion_real!==E||(0,OK.isPlainObject)(E)?T=>jh(E,(0,Nn.default)({},T,{theme:oh({theme:T.theme,defaultTheme:n,themeId:e})})):E,I=(E,...T)=>{let R=y(E);const b=T?T.map(y):[];l&&h&&b.push(J=>{const he=oh((0,Nn.default)({},J,{defaultTheme:n,themeId:e}));if(!he.components||!he.components[l]||!he.components[l].styleOverrides)return null;const ee=he.components[l].styleOverrides,je={};return Object.entries(ee).forEach(([_n,qt])=>{je[_n]=jh(qt,(0,Nn.default)({},J,{theme:he}))}),h(J,je)}),l&&!p&&b.push(J=>{var he;const ee=oh((0,Nn.default)({},J,{defaultTheme:n,themeId:e})),je=ee==null||(he=ee.components)==null||(he=he[l])==null?void 0:he.variants;return jh({variants:je},(0,Nn.default)({},J,{theme:ee}))}),m||b.push(s);const U=b.length-T.length;if(Array.isArray(E)&&U>0){const J=new Array(U).fill("");R=[...E,...J],R.raw=[...E.raw,...J]}const M=g(R,...b);return o.muiName&&(M.muiName=o.muiName),M};return g.withConfig&&(I.withConfig=g.withConfig),I}}const qK=t=>tD(t)&&t!=="classes",HK=tD,Rd=xK({themeId:zE,defaultTheme:BE,rootShouldForwardProp:qK});function KK(t){return LE("MuiSvgIcon",t)}$N("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const GK=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],QK=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${fi(e)}`,`fontSize${fi(n)}`]};return cN(i,KK,r)},YK=Rd("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${fi(n.color)}`],e[`fontSize${fi(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[e.color]}}),_v=A.forwardRef(function(e,n){const r=eD({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=jr(r,GK),p=A.isValidElement(i)&&i.type==="svg",m=Y({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:p}),v={};c||(v.viewBox=h);const _=QK(m);return w.jsxs(YK,Y({as:a,className:Ou(_.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},v,f,p&&i.props,{ownerState:m,children:[p?i.props.children:i,d?w.jsx("title",{children:d}):null]}))});_v.muiName="SvgIcon";function rD(t,e){function n(r,i){return w.jsx(_v,Y({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=_v.muiName,A.memo(A.forwardRef(n))}const XK=rD(w.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),JK=rD(w.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function ZK(t){return LE("MuiRating",t)}const eG=$N("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),Ql=eG,tG=["value"],nG=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function rG(t){const e=t.toString().split(".")[1];return e?e.length:0}function fy(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(rG(e)))}const iG=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=t,a={root:["root",`size${fi(n)}`,i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return cN(a,ZK,e)},sG=Rd("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ql.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${fi(n.size)}`],n.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>Y({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Ql.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Ql.focusVisible} .${Ql.iconActive}`]:{outline:"1px solid #999"},[`& .${Ql.visuallyHidden}`]:K8},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),iD=Rd("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})(({ownerState:t})=>Y({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),oG=Rd("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>Y({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(t.vars||t).palette.action.disabled})),aG=Rd("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>HK(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})(({iconActive:t})=>Y({position:"relative"},t&&{transform:"scale(1.2)"}));function lG(t){const e=jr(t,tG);return w.jsx("span",Y({},e))}function rR(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:a,icon:l,IconContainerComponent:u,isActive:c,itemValue:d,labelProps:h,name:f,onBlur:p,onChange:m,onClick:v,onFocus:_,readOnly:g,ownerState:y,ratingValue:I,ratingValueRounded:E}=t,T=o?d===I:d<=I,R=d<=a,b=d<=i,U=d===E,M=qN(),J=w.jsx(oG,{as:u,value:d,className:Ou(e.icon,T?e.iconFilled:e.iconEmpty,R&&e.iconHover,b&&e.iconFocus,c&&e.iconActive),ownerState:Y({},y,{iconEmpty:!T,iconFilled:T,iconHover:R,iconFocus:b,iconActive:c}),children:r&&!T?r:l});return g?w.jsx("span",Y({},h,{children:J})):w.jsxs(A.Fragment,{children:[w.jsxs(iD,Y({ownerState:Y({},y,{emptyValueFocused:void 0}),htmlFor:M},h,{children:[J,w.jsx("span",{className:e.visuallyHidden,children:s(d)})]})),w.jsx("input",{className:e.visuallyHidden,onFocus:_,onBlur:p,onChange:m,onClick:v,disabled:n,value:d,id:M,type:"radio",name:f,checked:U})]})}const uG=w.jsx(XK,{fontSize:"inherit"}),cG=w.jsx(JK,{fontSize:"inherit"});function dG(t){return`${t} Star${t!==1?"s":""}`}const hG=A.forwardRef(function(e,n){const r=eD({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:o=!1,emptyIcon:a=cG,emptyLabelText:l="Empty",getLabelText:u=dG,highlightSelectedOnly:c=!1,icon:d=uG,IconContainerComponent:h=lG,max:f=5,name:p,onChange:m,onChangeActive:v,onMouseLeave:_,onMouseMove:g,precision:y=1,readOnly:I=!1,size:E="medium",value:T}=r,R=jr(r,nG),b=qN(p),[U,M]=yH({controlled:T,default:s,name:"Rating"}),J=fy(U,y),he=TK(),[{hover:ee,focus:je},_n]=A.useState({hover:-1,focus:-1});let qt=J;ee!==-1&&(qt=ee),je!==-1&&(qt=je);const{isFocusVisibleRef:Le,onBlur:F,onFocus:q,ref:K}=AH(),[we,Ee]=A.useState(!1),Yn=A.useRef(),on=_H(K,Yn,n),bs=Be=>{g&&g(Be);const Lt=Yn.current,{right:Jn,left:Pd,width:Oo}=Lt.getBoundingClientRect();let No;he.direction==="rtl"?No=(Jn-Be.clientX)/Oo:No=(Be.clientX-Pd)/Oo;let Br=fy(f*No+y/2,y);Br=uN(Br,y,f),_n(Cs=>Cs.hover===Br&&Cs.focus===Br?Cs:{hover:Br,focus:Br}),Ee(!1),v&&ee!==Br&&v(Be,Br)},Xn=Be=>{_&&_(Be);const Lt=-1;_n({hover:Lt,focus:Lt}),v&&ee!==Lt&&v(Be,Lt)},dr=Be=>{let Lt=Be.target.value===""?null:parseFloat(Be.target.value);ee!==-1&&(Lt=ee),M(Lt),m&&m(Be,Lt)},Je=Be=>{Be.clientX===0&&Be.clientY===0||(_n({hover:-1,focus:-1}),M(null),m&&parseFloat(Be.target.value)===J&&m(Be,null))},Ad=Be=>{q(Be),Le.current===!0&&Ee(!0);const Lt=parseFloat(Be.target.value);_n(Jn=>({hover:Jn.hover,focus:Lt}))},_D=Be=>{if(ee!==-1)return;F(Be),Le.current===!1&&Ee(!1);const Lt=-1;_n(Jn=>({hover:Jn.hover,focus:Lt}))},[vD,GE]=A.useState(!1),Pl=Y({},r,{defaultValue:s,disabled:o,emptyIcon:a,emptyLabelText:l,emptyValueFocused:vD,focusVisible:we,getLabelText:u,icon:d,IconContainerComponent:h,max:f,precision:y,readOnly:I,size:E}),Ei=iG(Pl);return w.jsxs(sG,Y({ref:on,onMouseMove:bs,onMouseLeave:Xn,className:Ou(Ei.root,i,I&&"MuiRating-readOnly"),ownerState:Pl,role:I?"img":null,"aria-label":I?u(qt):null},R,{children:[Array.from(new Array(f)).map((Be,Lt)=>{const Jn=Lt+1,Pd={classes:Ei,disabled:o,emptyIcon:a,focus:je,getLabelText:u,highlightSelectedOnly:c,hover:ee,icon:d,IconContainerComponent:h,name:b,onBlur:_D,onChange:dr,onClick:Je,onFocus:Ad,ratingValue:qt,ratingValueRounded:J,readOnly:I,ownerState:Pl},Oo=Jn===Math.ceil(qt)&&(ee!==-1||je!==-1);if(y<1){const No=Array.from(new Array(1/y));return w.jsx(aG,{className:Ou(Ei.decimal,Oo&&Ei.iconActive),ownerState:Pl,iconActive:Oo,children:No.map((Br,Cs)=>{const og=fy(Jn-1+(Cs+1)*y,y);return w.jsx(rR,Y({},Pd,{isActive:!1,itemValue:og,labelProps:{style:No.length-1===Cs?{}:{width:og===qt?`${(Cs+1)*y*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),og)})},Jn)}return w.jsx(rR,Y({},Pd,{isActive:Oo,itemValue:Jn}),Jn)}),!I&&!o&&w.jsxs(iD,{className:Ou(Ei.label,Ei.labelEmptyValue),ownerState:Pl,children:[w.jsx("input",{className:Ei.visuallyHidden,value:"",id:`${b}-empty`,type:"radio",name:b,checked:J==null,onFocus:()=>GE(!0),onBlur:()=>GE(!1),onChange:dr}),w.jsx("span",{className:Ei.visuallyHidden,children:l})]})]}))}),fG=hG;var sD={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(t){(function(e,n){t.exports?t.exports=n():e.numeral=n()})(Ev,function(){var e,n,r="2.0.6",i={},s={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function l(u,c){this._input=u,this._value=c}return e=function(u){var c,d,h,f;if(e.isNumeral(u))c=u.value();else if(u===0||typeof u>"u")c=0;else if(u===null||n.isNaN(u))c=null;else if(typeof u=="string")if(a.zeroFormat&&u===a.zeroFormat)c=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)c=null;else{for(d in i)if(f=typeof i[d].regexps.unformat=="function"?i[d].regexps.unformat():i[d].regexps.unformat,f&&u.match(f)){h=i[d].unformat;break}h=h||e._.stringToNumber,c=h(u)}else c=Number(u)||null;return new l(u,c)},e.version=r,e.isNumeral=function(u){return u instanceof l},e._=n={numberToFormat:function(u,c,d){var h=s[e.options.currentLocale],f=!1,p=!1,m=0,v="",_=1e12,g=1e9,y=1e6,I=1e3,E="",T=!1,R,b,U,M,J,he,ee;if(u=u||0,b=Math.abs(u),e._.includes(c,"(")?(f=!0,c=c.replace(/[\(|\)]/g,"")):(e._.includes(c,"+")||e._.includes(c,"-"))&&(J=e._.includes(c,"+")?c.indexOf("+"):u<0?c.indexOf("-"):-1,c=c.replace(/[\+|\-]/g,"")),e._.includes(c,"a")&&(R=c.match(/a(k|m|b|t)?/),R=R?R[1]:!1,e._.includes(c," a")&&(v=" "),c=c.replace(new RegExp(v+"a[kmbt]?"),""),b>=_&&!R||R==="t"?(v+=h.abbreviations.trillion,u=u/_):b<_&&b>=g&&!R||R==="b"?(v+=h.abbreviations.billion,u=u/g):b<g&&b>=y&&!R||R==="m"?(v+=h.abbreviations.million,u=u/y):(b<y&&b>=I&&!R||R==="k")&&(v+=h.abbreviations.thousand,u=u/I)),e._.includes(c,"[.]")&&(p=!0,c=c.replace("[.]",".")),U=u.toString().split(".")[0],M=c.split(".")[1],he=c.indexOf(","),m=(c.split(".")[0].split(",")[0].match(/0/g)||[]).length,M?(e._.includes(M,"[")?(M=M.replace("]",""),M=M.split("["),E=e._.toFixed(u,M[0].length+M[1].length,d,M[1].length)):E=e._.toFixed(u,M.length,d),U=E.split(".")[0],e._.includes(E,".")?E=h.delimiters.decimal+E.split(".")[1]:E="",p&&Number(E.slice(1))===0&&(E="")):U=e._.toFixed(u,0,d),v&&!R&&Number(U)>=1e3&&v!==h.abbreviations.trillion)switch(U=String(Number(U)/1e3),v){case h.abbreviations.thousand:v=h.abbreviations.million;break;case h.abbreviations.million:v=h.abbreviations.billion;break;case h.abbreviations.billion:v=h.abbreviations.trillion;break}if(e._.includes(U,"-")&&(U=U.slice(1),T=!0),U.length<m)for(var je=m-U.length;je>0;je--)U="0"+U;return he>-1&&(U=U.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),c.indexOf(".")===0&&(U=""),ee=U+E+(v||""),f?ee=(f&&T?"(":"")+ee+(f&&T?")":""):J>=0?ee=J===0?(T?"-":"+")+ee:ee+(T?"-":"+"):T&&(ee="-"+ee),ee},stringToNumber:function(u){var c=s[a.currentLocale],d=u,h={thousand:3,million:6,billion:9,trillion:12},f,p,m;if(a.zeroFormat&&u===a.zeroFormat)p=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)p=null;else{p=1,c.delimiters.decimal!=="."&&(u=u.replace(/\./g,"").replace(c.delimiters.decimal,"."));for(f in h)if(m=new RegExp("[^a-zA-Z]"+c.abbreviations[f]+"(?:\\)|(\\"+c.currency.symbol+")?(?:\\))?)?$"),d.match(m)){p*=Math.pow(10,h[f]);break}p*=(u.split("-").length+Math.min(u.split("(").length-1,u.split(")").length-1))%2?1:-1,u=u.replace(/[^0-9\.]+/g,""),p*=Number(u)}return p},isNaN:function(u){return typeof u=="number"&&isNaN(u)},includes:function(u,c){return u.indexOf(c)!==-1},insert:function(u,c,d){return u.slice(0,d)+c+u.slice(d)},reduce:function(u,c){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof c!="function")throw new TypeError(c+" is not a function");var d=Object(u),h=d.length>>>0,f=0,p;if(arguments.length===3)p=arguments[2];else{for(;f<h&&!(f in d);)f++;if(f>=h)throw new TypeError("Reduce of empty array with no initial value");p=d[f++]}for(;f<h;f++)f in d&&(p=c(p,d[f],f,d));return p},multiplier:function(u){var c=u.toString().split(".");return c.length<2?1:Math.pow(10,c[1].length)},correctionFactor:function(){var u=Array.prototype.slice.call(arguments);return u.reduce(function(c,d){var h=n.multiplier(d);return c>h?c:h},1)},toFixed:function(u,c,d,h){var f=u.toString().split("."),p=c-(h||0),m,v,_,g;return f.length===2?m=Math.min(Math.max(f[1].length,p),c):m=p,_=Math.pow(10,m),g=(d(u+"e+"+m)/_).toFixed(m),h>c-m&&(v=new RegExp("\\.?0{1,"+(h-(c-m))+"}$"),g=g.replace(v,"")),g}},e.options=a,e.formats=i,e.locales=s,e.locale=function(u){return u&&(a.currentLocale=u.toLowerCase()),a.currentLocale},e.localeData=function(u){if(!u)return s[a.currentLocale];if(u=u.toLowerCase(),!s[u])throw new Error("Unknown locale : "+u);return s[u]},e.reset=function(){for(var u in o)a[u]=o[u]},e.zeroFormat=function(u){a.zeroFormat=typeof u=="string"?u:null},e.nullFormat=function(u){a.nullFormat=typeof u=="string"?u:null},e.defaultFormat=function(u){a.defaultFormat=typeof u=="string"?u:"0.0"},e.register=function(u,c,d){if(c=c.toLowerCase(),this[u+"s"][c])throw new TypeError(c+" "+u+" already registered.");return this[u+"s"][c]=d,d},e.validate=function(u,c){var d,h,f,p,m,v,_,g;if(typeof u!="string"&&(u+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",u)),u=u.trim(),u.match(/^\d+$/))return!0;if(u==="")return!1;try{_=e.localeData(c)}catch{_=e.localeData(e.locale())}return f=_.currency.symbol,m=_.abbreviations,d=_.delimiters.decimal,_.delimiters.thousands==="."?h="\\.":h=_.delimiters.thousands,g=u.match(/^[^\d]+/),g!==null&&(u=u.substr(1),g[0]!==f)||(g=u.match(/[^\d]+$/),g!==null&&(u=u.slice(0,-1),g[0]!==m.thousand&&g[0]!==m.million&&g[0]!==m.billion&&g[0]!==m.trillion))?!1:(v=new RegExp(h+"{2}"),u.match(/[^\d.,]/g)?!1:(p=u.split(d),p.length>2?!1:p.length<2?!!p[0].match(/^\d+.*\d$/)&&!p[0].match(v):p[0].length===1?!!p[0].match(/^\d+$/)&&!p[0].match(v)&&!!p[1].match(/^\d+$/):!!p[0].match(/^\d+.*\d$/)&&!p[0].match(v)&&!!p[1].match(/^\d+$/)))},e.fn=l.prototype={clone:function(){return e(this)},format:function(u,c){var d=this._value,h=u||a.defaultFormat,f,p,m;if(c=c||Math.round,d===0&&a.zeroFormat!==null)p=a.zeroFormat;else if(d===null&&a.nullFormat!==null)p=a.nullFormat;else{for(f in i)if(h.match(i[f].regexps.format)){m=i[f].format;break}m=m||e._.numberToFormat,p=m(d,h,c)}return p},value:function(){return this._value},input:function(){return this._input},set:function(u){return this._value=Number(u),this},add:function(u){var c=n.correctionFactor.call(null,this._value,u);function d(h,f,p,m){return h+Math.round(c*f)}return this._value=n.reduce([this._value,u],d,0)/c,this},subtract:function(u){var c=n.correctionFactor.call(null,this._value,u);function d(h,f,p,m){return h-Math.round(c*f)}return this._value=n.reduce([u],d,Math.round(this._value*c))/c,this},multiply:function(u){function c(d,h,f,p){var m=n.correctionFactor(d,h);return Math.round(d*m)*Math.round(h*m)/Math.round(m*m)}return this._value=n.reduce([this._value,u],c,1),this},divide:function(u){function c(d,h,f,p){var m=n.correctionFactor(d,h);return Math.round(d*m)/Math.round(h*m)}return this._value=n.reduce([this._value,u],c),this},difference:function(u){return Math.abs(e(this._value).subtract(u).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(u){var c=u%10;return~~(u%100/10)===1?"th":c===1?"st":c===2?"nd":c===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(u,c,d){var h=e._.includes(c," BPS")?" ":"",f;return u=u*1e4,c=c.replace(/\s?BPS/,""),f=e._.numberToFormat(u,c,d),e._.includes(f,")")?(f=f.split(""),f.splice(-1,0,h+"BPS"),f=f.join("")):f=f+h+"BPS",f},unformat:function(u){return+(e._.stringToNumber(u)*1e-4).toFixed(15)}})}(),function(){var u={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},c={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},d=u.suffixes.concat(c.suffixes.filter(function(f){return u.suffixes.indexOf(f)<0})),h=d.join("|");h="("+h.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(h)},format:function(f,p,m){var v,_=e._.includes(p,"ib")?c:u,g=e._.includes(p," b")||e._.includes(p," ib")?" ":"",y,I,E;for(p=p.replace(/\s?i?b/,""),y=0;y<=_.suffixes.length;y++)if(I=Math.pow(_.base,y),E=Math.pow(_.base,y+1),f===null||f===0||f>=I&&f<E){g+=_.suffixes[y],I>0&&(f=f/I);break}return v=e._.numberToFormat(f,p,m),v+g},unformat:function(f){var p=e._.stringToNumber(f),m,v;if(p){for(m=u.suffixes.length-1;m>=0;m--){if(e._.includes(f,u.suffixes[m])){v=Math.pow(u.base,m);break}if(e._.includes(f,c.suffixes[m])){v=Math.pow(c.base,m);break}}p*=v||1}return p}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(u,c,d){var h=e.locales[e.options.currentLocale],f={before:c.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:c.match(/([\+|\-|\)|\s|\$]*)$/)[0]},p,m,v;for(c=c.replace(/\s?\$\s?/,""),p=e._.numberToFormat(u,c,d),u>=0?(f.before=f.before.replace(/[\-\(]/,""),f.after=f.after.replace(/[\-\)]/,"")):u<0&&!e._.includes(f.before,"-")&&!e._.includes(f.before,"(")&&(f.before="-"+f.before),v=0;v<f.before.length;v++)switch(m=f.before[v],m){case"$":p=e._.insert(p,h.currency.symbol,v);break;case" ":p=e._.insert(p," ",v+h.currency.symbol.length-1);break}for(v=f.after.length-1;v>=0;v--)switch(m=f.after[v],m){case"$":p=v===f.after.length-1?p+h.currency.symbol:e._.insert(p,h.currency.symbol,-(f.after.length-(1+v)));break;case" ":p=v===f.after.length-1?p+" ":e._.insert(p," ",-(f.after.length-(1+v)+h.currency.symbol.length-1));break}return p}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(u,c,d){var h,f=typeof u=="number"&&!e._.isNaN(u)?u.toExponential():"0e+0",p=f.split("e");return c=c.replace(/e[\+|\-]{1}0/,""),h=e._.numberToFormat(Number(p[0]),c,d),h+"e"+p[1]},unformat:function(u){var c=e._.includes(u,"e+")?u.split("e+"):u.split("e-"),d=Number(c[0]),h=Number(c[1]);h=e._.includes(u,"e-")?h*=-1:h;function f(p,m,v,_){var g=e._.correctionFactor(p,m),y=p*g*(m*g)/(g*g);return y}return e._.reduce([d,Math.pow(10,h)],f,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(u,c,d){var h=e.locales[e.options.currentLocale],f,p=e._.includes(c," o")?" ":"";return c=c.replace(/\s?o/,""),p+=h.ordinal(u),f=e._.numberToFormat(u,c,d),f+p}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(u,c,d){var h=e._.includes(c," %")?" ":"",f;return e.options.scalePercentBy100&&(u=u*100),c=c.replace(/\s?\%/,""),f=e._.numberToFormat(u,c,d),e._.includes(f,")")?(f=f.split(""),f.splice(-1,0,h+"%"),f=f.join("")):f=f+h+"%",f},unformat:function(u){var c=e._.stringToNumber(u);return e.options.scalePercentBy100?c*.01:c}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(u,c,d){var h=Math.floor(u/60/60),f=Math.floor((u-h*60*60)/60),p=Math.round(u-h*60*60-f*60);return h+":"+(f<10?"0"+f:f)+":"+(p<10?"0"+p:p)},unformat:function(u){var c=u.split(":"),d=0;return c.length===3?(d=d+Number(c[0])*60*60,d=d+Number(c[1])*60,d=d+Number(c[2])):c.length===2&&(d=d+Number(c[0])*60,d=d+Number(c[1])),Number(d)}})}(),e})})(sD);var pG=sD.exports;const mG=Iv(pG),WE=({amount:t})=>{const e=mG(t).format("$0,0.00");return w.jsx("div",{children:e})},gG="_card_container_tywyh_1",yG="_button_tywyh_17",_G="_rating_tywyh_69",vG="_products_container_tywyh_79",wG="_product_flexed_tywyh_101",cu={card_container:gG,button:yG,rating:_G,products_container:vG,product_flexed:wG};function Al({product:t,flex:e,renderDesc:n,renderAdd:r}){const{image:i,title:s,id:o,rating:a,price:l,description:u}=t,[c,d]=A.useContext(mi);console.log();const h=()=>{d({type:$n.ADD_TO_BASKET,item:{image:i,title:s,id:o,rating:a,price:l,description:u}})};return w.jsxs("div",{className:`${cu.card_container} ${e?cu.product_flexed:" "}`,children:[w.jsx(Kr,{to:`products/${o}`,children:w.jsx("img",{src:i,alt:""})}),w.jsxs("div",{children:[w.jsx("h3",{children:s}),n&&w.jsx("div",{style:{maxWidth:"750px"},children:u}),w.jsxs("div",{className:cu.rating,children:[w.jsx(fG,{value:a==null?void 0:a.rate,precision:.1}),w.jsx("small",{children:a==null?void 0:a.count})]}),w.jsx("div",{children:w.jsx(WE,{amount:l})}),r&&w.jsx("button",{className:cu.button,onClick:h,children:"add to cart"})]})]},o)}var EG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function oD(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return EG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function ei(t){var e=oD(t);return"".concat(e.value).concat(e.unit)}var qE=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},tp=function(){return tp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tp.apply(this,arguments)},IG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},TG=qE("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");function SG(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,c=u===void 0?15:u,d=t.margin,h=d===void 0?2:d,f=IG(t,["loading","color","speedMultiplier","cssOverride","size","margin"]),p=tp({display:"inherit"},l),m=function(v){return{display:"inline-block",backgroundColor:i,width:ei(c),height:ei(c),margin:ei(h),borderRadius:"100%",animation:"".concat(TG," ").concat(.7/o,"s ").concat(v%2?"0s":"".concat(.35/o,"s")," infinite linear"),animationFillMode:"both"}};return n?A.createElement("span",tp({style:p},f),A.createElement("span",{style:m(1)}),A.createElement("span",{style:m(2)}),A.createElement("span",{style:m(3)})):null}var np=function(){return np=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},np.apply(this,arguments)},RG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},AG=qE("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function aD(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,c=u===void 0?35:u,d=RG(t,["loading","color","speedMultiplier","cssOverride","size"]),h=np({background:"transparent !important",width:ei(c),height:ei(c),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(AG," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},l);return n?A.createElement("span",np({style:h},d)):null}var it=function(){return it=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},it.apply(this,arguments)},PG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},bG=qE("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function CG(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.height,c=u===void 0?15:u,d=t.width,h=d===void 0?5:d,f=t.radius,p=f===void 0?2:f,m=t.margin,v=m===void 0?2:m,_=PG(t,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),g=oD(v).value,y=g+18,I=y/2+y/5.5,E=it({display:"inherit",position:"relative",fontSize:"0",top:y,left:y,width:"".concat(y*3,"px"),height:"".concat(y*3,"px")},l),T=function(_n){return{position:"absolute",width:ei(h),height:ei(c),margin:ei(v),backgroundColor:i,borderRadius:ei(p),transition:"2s",animationFillMode:"both",animation:"".concat(bG," ").concat(1.2/o,"s ").concat(_n*.12,"s infinite ease-in-out")}},R=it(it({},T(1)),{top:"".concat(y,"px"),left:"0"}),b=it(it({},T(2)),{top:"".concat(I,"px"),left:"".concat(I,"px"),transform:"rotate(-45deg)"}),U=it(it({},T(3)),{top:"0",left:"".concat(y,"px"),transform:"rotate(90deg)"}),M=it(it({},T(4)),{top:"".concat(-1*I,"px"),left:"".concat(I,"px"),transform:"rotate(45deg)"}),J=it(it({},T(5)),{top:"".concat(-1*y,"px"),left:"0"}),he=it(it({},T(6)),{top:"".concat(-1*I,"px"),left:"".concat(-1*I,"px"),transform:"rotate(-45deg)"}),ee=it(it({},T(7)),{top:"0",left:"".concat(-1*y,"px"),transform:"rotate(90deg)"}),je=it(it({},T(8)),{top:"".concat(I,"px"),left:"".concat(-1*I,"px"),transform:"rotate(45deg)"});return n?A.createElement("span",it({style:E},_),A.createElement("span",{style:R}),A.createElement("span",{style:b}),A.createElement("span",{style:U}),A.createElement("span",{style:M}),A.createElement("span",{style:J}),A.createElement("span",{style:he}),A.createElement("span",{style:ee}),A.createElement("span",{style:je})):null}function HE(){return w.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:w.jsx(CG,{color:"#febd69"})})}function kG(){const[t,e]=A.useState(),[n,r]=A.useState(!1);return A.useEffect(()=>{r(!0),Ue.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),w.jsx(w.Fragment,{children:n?w.jsx(HE,{}):w.jsx("section",{className:cu.products_container,children:t==null?void 0:t.map(i=>w.jsx(Al,{renderAdd:!0,product:i},i.id))})})}function xG(){return w.jsxs(El,{children:[w.jsx(tW,{}),";",w.jsx(oW,{}),w.jsx(kG,{})]})}const OG="_login_13sph_1",NG="_login_container_13sph_23",DG="_login_signinbtn_13sph_91",LG="_login_registerbtn_13sph_123",ah={login:OG,login_container:NG,login_signinbtn:DG,login_registerbtn:LG};function VG(){var f,p;const[t,e]=A.useState(""),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState({signIn:!1,signUp:!1}),[{user:l},u]=A.useContext(mi),c=ym(),d=fd();console.log(l);const h=async m=>{m.preventDefault(),m.target.name=="signin"?(a({...o,signIn:!0}),Ib(zf,t,n).then(v=>{var _;console.log(v),u({type:$n.SET_USER,user:v.user}),a({...o,signIn:!1}),c(((_=d.state)==null?void 0:_.redirect)||"/")}).catch(v=>{a({...o,signIn:!1}),s(v.message),console.log(v)})):(a({...o,signUp:!0}),Eb(zf,t,n).then(v=>{console.log(v),u({type:$n.SET_USER,user:v.user}),a({...o,signUp:!1}),c(d.state.redirect||"/")}).catch(v=>{a({...o,signUp:!1}),s(v.message),console.log(v)}))};return w.jsxs("section",{className:ah.login,children:[w.jsx(Kr,{to:"/",children:w.jsx("img",{src:"https://wallpapercave.com/wp/wp7771146.png",alt:""})}),w.jsxs("div",{className:ah.login_container,children:[w.jsx("h1",{children:"Sign In"}),((f=d==null?void 0:d.state)==null?void 0:f.msg)&&w.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(p=d==null?void 0:d.state)==null?void 0:p.msg}),w.jsxs("form",{action:"",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{value:t,onChange:m=>e(m.target.value),type:"email",id:"email"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",children:"Password"}),w.jsx("input",{value:n,onChange:m=>r(m.target.value),type:"password",id:"password"})]}),w.jsx("button",{type:"submit",onClick:h,name:"signin",className:ah.login_signinbtn,children:o.signIn?w.jsx(SG,{color:"#000",size:8}):"Sign In"})]}),w.jsx("p",{children:"By Signing-in, you agree to Amazon FAKE CLONE Conditions of Use and Privacy Notice."}),w.jsx("button",{type:"submit",name:"register",onClick:h,className:ah.login_registerbtn,children:o.signUp?w.jsx(aD,{color:"#000",size:15}):"Create Your Amazon Account"}),i&&w.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}const MG="_payment_header_1ns82_1",FG="_payment_1ns82_1",$G="_flex_1ns82_19",UG="_payment_card_container_1ns82_47",jG="_payment_price_1ns82_61",BG="_payment_detail_1ns82_55",zG="_loading_1ns82_101",zr={payment_header:MG,payment:FG,flex:$G,payment_card_container:UG,payment_price:jG,payment_detail:BG,loading:zG};function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){lD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bh(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bh=function(e){return typeof e}:Bh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function lD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zh(t,e){return WG(t)||qG(t,e)||HG(t,e)||KG()}function WG(t){if(Array.isArray(t))return t}function qG(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function HG(t,e){if(t){if(typeof t=="string")return oR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(t,e)}}function oR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vv=function(e){var n=X.useRef(e);return X.useEffect(function(){n.current=e},[e]),n.current},Ja=function(e){return e!==null&&Bh(e)==="object"},GG=function(e){return Ja(e)&&typeof e.then=="function"},QG=function(e){return Ja(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},aR="[object Object]",YG=function t(e,n){if(!Ja(e)||!Ja(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===aR,o=Object.prototype.toString.call(n)===aR;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},c=0;c<a.length;c+=1)u[a[c]]=!0;for(var d=0;d<l.length;d+=1)u[l[d]]=!0;var h=Object.keys(u);if(h.length!==a.length)return!1;var f=e,p=n,m=function(_){return t(f[_],p[_])};return h.every(m)},uD=function(e,n,r){return Ja(e)?Object.keys(e).reduce(function(i,s){var o=!Ja(n)||!YG(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?sR(sR({},i||{}),{},lD({},s,e[s])):i},null):null},cD="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",lR=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cD;if(e===null||QG(e))return e;throw new Error(n)},XG=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cD;if(GG(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return lR(i,n)})};var r=lR(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},JG=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.5.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.5.1",url:"https://stripe.com/docs/stripe-js/react"}))},sg=X.createContext(null);sg.displayName="ElementsContext";var dD=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},KE=X.createContext(null);KE.displayName="CartElementContext";var ZG=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},hD=function(e){var n=e.stripe,r=e.options,i=e.children,s=X.useMemo(function(){return XG(n)},[n]),o=X.useState(null),a=zh(o,2),l=a[0],u=a[1],c=X.useState(null),d=zh(c,2),h=d[0],f=d[1],p=X.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),m=zh(p,2),v=m[0],_=m[1];X.useEffect(function(){var I=!0,E=function(R){_(function(b){return b.stripe?b:{stripe:R,elements:R.elements(r)}})};return s.tag==="async"&&!v.stripe?s.stripePromise.then(function(T){T&&I&&E(T)}):s.tag==="sync"&&!v.stripe&&E(s.stripe),function(){I=!1}},[s,v,r]);var g=vv(n);X.useEffect(function(){g!==null&&g!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,n]);var y=vv(r);return X.useEffect(function(){if(v.elements){var I=uD(r,y,["clientSecret","fonts"]);I&&v.elements.update(I)}},[r,y,v.elements]),X.useEffect(function(){JG(v.stripe)},[v.stripe]),X.createElement(sg.Provider,{value:v},X.createElement(KE.Provider,{value:{cart:l,setCart:u,cartState:h,setCartState:f}},i))};hD.propTypes={stripe:Re.any,options:Re.object};var eQ=function(e){var n=X.useContext(sg);return dD(n,e)},tQ={cart:null,cartState:null,setCart:function(){},setCartState:function(){}},uR=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=X.useContext(KE);return n?tQ:ZG(r,e)},nQ=function(){var e=eQ("calls useElements()"),n=e.elements;return n};Re.func.isRequired;var Ht=function(e,n,r){var i=!!r,s=X.useRef(r);X.useEffect(function(){s.current=r},[r]),X.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},fD=X.createContext(null);fD.displayName="CustomCheckoutSdkContext";var rQ=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},iQ=X.createContext(null);iQ.displayName="CustomCheckoutContext";Re.any,Re.shape({clientSecret:Re.string.isRequired,elementsOptions:Re.object}).isRequired;var wv=function(e){var n=X.useContext(fD),r=X.useContext(sg);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?rQ(n,e):dD(r,e)},sQ=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ct=function(e,n){var r="".concat(sQ(e),"Element"),i=function(l){var u=l.id,c=l.className,d=l.options,h=d===void 0?{}:d,f=l.onBlur,p=l.onFocus,m=l.onReady,v=l.onChange,_=l.onEscape,g=l.onClick,y=l.onLoadError,I=l.onLoaderStart,E=l.onNetworksChange,T=l.onCheckout,R=l.onLineItemClick,b=l.onConfirm,U=l.onCancel,M=l.onShippingAddressChange,J=l.onShippingRateChange,he=wv("mounts <".concat(r,">")),ee="elements"in he?he.elements:null,je="customCheckoutSdk"in he?he.customCheckoutSdk:null,_n=X.useState(null),qt=zh(_n,2),Le=qt[0],F=qt[1],q=X.useRef(null),K=X.useRef(null),we=uR("mounts <".concat(r,">"),"customCheckoutSdk"in he),Ee=we.setCart,Yn=we.setCartState;Ht(Le,"blur",f),Ht(Le,"focus",p),Ht(Le,"escape",_),Ht(Le,"click",g),Ht(Le,"loaderror",y),Ht(Le,"loaderstart",I),Ht(Le,"networkschange",E),Ht(Le,"lineitemclick",R),Ht(Le,"confirm",b),Ht(Le,"cancel",U),Ht(Le,"shippingaddresschange",M),Ht(Le,"shippingratechange",J);var on;e==="cart"?on=function(Ad){Yn(Ad),m&&m(Ad)}:m&&(e==="expressCheckout"?on=m:on=function(){m(Le)}),Ht(Le,"ready",on);var bs=e==="cart"?function(Je){Yn(Je),v&&v(Je)}:v;Ht(Le,"change",bs);var Xn=e==="cart"?function(Je){Yn(Je),T&&T(Je)}:T;Ht(Le,"checkout",Xn),X.useLayoutEffect(function(){if(q.current===null&&K.current!==null&&(ee||je)){var Je=null;je?Je=je.createElement(e,h):ee&&(Je=ee.create(e,h)),e==="cart"&&Ee&&Ee(Je),q.current=Je,F(Je),Je&&Je.mount(K.current)}},[ee,je,h,Ee]);var dr=vv(h);return X.useEffect(function(){if(q.current){var Je=uD(h,dr,["paymentRequest"]);Je&&q.current.update(Je)}},[h,dr]),X.useLayoutEffect(function(){return function(){if(q.current&&typeof q.current.destroy=="function")try{q.current.destroy(),q.current=null}catch{}}},[]),X.createElement("div",{id:u,className:c,ref:K})},s=function(l){var u=wv("mounts <".concat(r,">"));uR("mounts <".concat(r,">"),"customCheckoutSdk"in u);var c=l.id,d=l.className;return X.createElement("div",{id:c,className:d})},o=n?s:i;return o.propTypes={id:Re.string,className:Re.string,onChange:Re.func,onBlur:Re.func,onFocus:Re.func,onReady:Re.func,onEscape:Re.func,onClick:Re.func,onLoadError:Re.func,onLoaderStart:Re.func,onNetworksChange:Re.func,onCheckout:Re.func,onLineItemClick:Re.func,onConfirm:Re.func,onCancel:Re.func,onShippingAddressChange:Re.func,onShippingRateChange:Re.func,options:Re.object},o.displayName=r,o.__elementType=e,o},dt=typeof window>"u",oQ=X.createContext(null);oQ.displayName="EmbeddedCheckoutProviderContext";var aQ=function(){var e=wv("calls useStripe()"),n=e.stripe;return n};ct("auBankAccount",dt);var cR=ct("card",dt);ct("cardNumber",dt);ct("cardExpiry",dt);ct("cardCvc",dt);ct("fpxBank",dt);ct("iban",dt);ct("idealBank",dt);ct("p24Bank",dt);ct("epsBank",dt);ct("payment",dt);ct("expressCheckout",dt);ct("paymentRequestButton",dt);ct("linkAuthentication",dt);ct("address",dt);ct("shippingAddress",dt);ct("cart",dt);ct("paymentMethodMessaging",dt);ct("affirmMessage",dt);ct("afterpayClearpayMessage",dt);const lQ=Ue.create({baseURL:"https://amazon-api-deploy-xal3.onrender.com"});function uQ(){const[t,e]=A.useState(null),[n,r]=A.useState(!1),[{user:i,basket:s},o]=A.useContext(mi),a=s.reduce((p,m)=>m.amount+p,0),l=s.reduce((p,m)=>m.price*m.amount+p,0),u=aQ(),c=nQ(),d=ym(),h=p=>{var m,v;(m=p==null?void 0:p.error)!=null&&m.message?e((v=p==null?void 0:p.error)==null?void 0:v.message):e(" ")},f=async p=>{var m;p.preventDefault();try{r(!0);const v=await lQ({method:"POST",url:`/payment/create?total=${l*100}`});console.log(v.data);const _=(m=v.data)==null?void 0:m.clientSecret,{paymentIntent:g}=await u.confirmCardPayment(_,{payment_method:{card:c.getElement(cR)}});console.log(g),await gO.collection("users").doc(i.uid).collection("orders").doc(g.id).set({basket:s,amount:g.amount,created:g.created}),o({type:$n.EMPTY_BASKET}),r(!1),d("/order",{state:{msg:"you have placed new order"}})}catch(v){console.log(v),r(!1)}};return w.jsxs(El,{children:[w.jsxs("div",{className:zr.payment_header,children:["Checkout (",a,") items"]}),w.jsxs("section",{className:zr.payment,children:[w.jsxs("div",{className:zr.flex,children:[w.jsx("h3",{children:"Delivery Address"}),w.jsxs("div",{children:[w.jsx("div",{children:i==null?void 0:i.email}),w.jsx("div",{children:"123 React Lane"}),w.jsx("div",{children:"Chicago,IL"})]})]}),w.jsx("hr",{}),w.jsxs("div",{className:zr.flex,children:[w.jsx("h3",{children:"Review items and delivery"}),w.jsx("div",{children:s.map(p=>w.jsx(Al,{product:p,flex:!0},p.id))})]}),w.jsx("hr",{}),w.jsxs("div",{className:zr.flex,children:[w.jsx("h3",{children:"Payment methods"}),w.jsx("div",{className:zr.payment_card_container,children:w.jsx("div",{className:zr.payment_detail,children:w.jsxs("form",{onSubmit:f,children:[t&&w.jsx("small",{style:{color:"red"},children:t}),w.jsx(cR,{onChange:h}),w.jsxs("div",{className:zr.payment_price,children:[w.jsx("div",{children:w.jsxs("span",{style:{display:"flex",gap:"10px"},children:["Total Order | ",w.jsx(WE,{amount:l})]})}),w.jsx("button",{type:"submit",children:n?w.jsxs("div",{className:zr.loading,children:[w.jsx(aD,{color:"grey",size:12}),w.jsx("p",{children:"Please wait ..."})]}):"pay Now"})]})]})})})]})]})]})}const cQ="_container_17s9c_1",dQ="_orders_container_17s9c_9",dR={container:cQ,orders_container:dQ};function hQ(){const[{user:t},e]=A.useContext(mi),[n,r]=A.useState();return A.useEffect(()=>{t?gO.collection("users").doc(t.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{r(i.docs.map(s=>({id:s.id,data:s.data()})))}):r([])},[]),w.jsx(El,{children:w.jsx("section",{className:dR.container,children:w.jsxs("div",{className:dR.orders_container,children:[w.jsx("h2",{children:"Your Orders"}),(n==null?void 0:n.length)==0&&w.jsx("div",{style:{padding:"20px"},children:"you don't have orders yet. "}),w.jsx("div",{children:n==null?void 0:n.map((i,s)=>{var o;return w.jsxs("div",{children:[w.jsx("hr",{}),w.jsxs("p",{children:["Order ID ",i.id," "]}),(o=i.data.basket)==null?void 0:o.map(a=>w.jsx(Al,{flex:!0,product:a},a.id))]},s)})})]})})})}const fQ="_container_gf1tp_1",pQ="_btn_gf1tp_19",mQ="_subtotal_gf1tp_25",gQ="_cart_product_gf1tp_31",yQ="_btn_container_gf1tp_39",_Q="_cart_container_gf1tp_67",Os={container:fQ,btn:pQ,subtotal:mQ,cart_product:gQ,btn_container:yQ,cart_container:_Q};function vQ(t){return wl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function wQ(t){return wl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(t)}function EQ(){const[{basket:t,user:e},n]=A.useContext(mi),r=t.reduce((o,a)=>a.price*a.amount+o,0),i=o=>{n({type:$n.ADD_TO_BASKET,item:o})},s=o=>{n({type:$n.REMOVE_FROM_BASKET,id:o})};return w.jsx(El,{children:w.jsxs("section",{className:Os.container,children:[w.jsxs("div",{className:Os.cart_container,children:[w.jsx("h2",{children:"Hello"}),w.jsx("h3",{children:"Your shopping basket "}),w.jsx("hr",{}),t.length==0?w.jsx("p",{children:"Oops ! No item in your cart "}):t.map(o=>w.jsx(w.Fragment,{children:w.jsxs("section",{className:Os.cart_product,children:[w.jsx(Al,{product:o,renderDesc:!0,renderAdd:!1,flex:!0},o.id),w.jsxs("div",{className:Os.btn_container,children:[w.jsx("button",{className:Os.btn,onClick:()=>i(o),children:w.jsx(wQ,{size:20})}),w.jsx("span",{children:o.amount}),w.jsx("button",{className:Os.btn,onClick:()=>s(o.id),children:w.jsx(vQ,{size:20})})]})]})}))]}),t.length!==0&&w.jsxs("div",{className:Os.subtotal,children:[w.jsxs("div",{children:[w.jsxs("p",{children:["Subtotal(",t.length," items)"]}),w.jsx(WE,{amount:r})]}),w.jsxs("span",{children:[w.jsx("input",{type:"checkbox"}),w.jsx("small",{children:"This order contains a gift"})]}),w.jsx(Kr,{to:"/payment",children:"Continue to checkout"})]})]})})}const IQ="_products_container_1l5f0_1",TQ={products_container:IQ},pD="https://fakestoreapi.com";function SQ(){const[t,e]=A.useState([]),[n,r]=A.useState(!1),{categoryName:i}=RO();return console.log(i),A.useEffect(()=>{r(!0),Ue.get(`${pD}/products/category/${i}`).then(s=>{e(s.data),r(!1)}).catch(s=>{console.log(s),r(!1)})},[i]),w.jsx(El,{children:w.jsxs("section",{children:[w.jsx("h1",{style:{padding:"30px"},children:"Results"}),w.jsxs("p",{style:{padding:"30px"},children:["Category / ",i]}),w.jsx("hr",{}),n?w.jsx(HE,{}):w.jsx("div",{className:TQ.products_container,children:t.map(s=>w.jsx(Al,{product:s}))})]})})}function RQ(){const{productId:t}=RO(),[e,n]=A.useState({}),[r,i]=A.useState(!1);return A.useEffect(()=>{i(!0),Ue.get(`${pD}/products/${t}`).then(s=>{n(s.data),i(!1)}).catch(s=>{console.log(s),i(!1)})},[t]),w.jsx(El,{children:r?w.jsx(HE,{}):w.jsx("div",{children:w.jsx(Al,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})})}var mD="https://js.stripe.com/v3",AQ=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,hR="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",PQ=function(){for(var e=document.querySelectorAll('script[src^="'.concat(mD,'"]')),n=0;n<e.length;n++){var r=e[n];if(AQ.test(r.src))return r}return null},fR=function(e){var n=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(mD).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},bQ=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"3.0.7",startTime:n})},Yl=null,lh=null,uh=null,CQ=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},kQ=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},xQ=function(e){return Yl!==null?Yl:(Yl=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(hR),window.Stripe){n(window.Stripe);return}try{var i=PQ();if(i&&e)console.warn(hR);else if(!i)i=fR(e);else if(i&&uh!==null&&lh!==null){var s;i.removeEventListener("load",uh),i.removeEventListener("error",lh),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=fR(e)}uh=kQ(n,r),lh=CQ(r),i.addEventListener("load",uh),i.addEventListener("error",lh)}catch(o){r(o);return}}),Yl.catch(function(n){return Yl=null,Promise.reject(n)}))},OQ=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return bQ(i,r),i},Xl,gD=!1,yD=function(){return Xl||(Xl=xQ(null).catch(function(e){return Xl=null,Promise.reject(e)}),Xl)};Promise.resolve().then(function(){return yD()}).catch(function(t){gD||console.warn(t)});var NQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];gD=!0;var i=Date.now();return yD().then(function(s){return OQ(s,n,i)})};const pR=({children:t,msg:e,redirect:n})=>{const r=ym(),[{user:i},s]=A.useContext(mi);return A.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:n}})},[i]),t},DQ=NQ("pk_test_51Ohy8xGyTJ3v8FtPhoxxBw0dw0gwKeh69JUqwLHBOyxycJ6dtN9grbpWGNsggh5bcBUAknqi1upRJXkhIoympoye00fFm34t3V");function LQ(){return w.jsx(K9,{children:w.jsxs(U9,{children:[w.jsx(Ci,{path:"/",element:w.jsx(xG,{})}),w.jsx(Ci,{path:"/auth",element:w.jsx(VG,{})}),w.jsx(Ci,{path:"/payment",element:w.jsx(pR,{msg:"You must login to pay",redirect:"/payment",children:w.jsx(hD,{stripe:DQ,children:w.jsx(uQ,{})})})}),w.jsx(Ci,{path:"/order",element:w.jsx(pR,{msg:"You must login access your orders",redirect:"/order",children:w.jsx(hQ,{})})}),w.jsx(Ci,{path:"/cart",element:w.jsx(EQ,{})}),w.jsx(Ci,{path:"/products/:productId",element:w.jsx(RQ,{})}),w.jsx(Ci,{path:"/category/:categoryName",element:w.jsx(SQ,{})})]})})}function VQ(){const[{user:t},e]=A.useContext(mi);return A.useEffect(()=>{zf.onIdTokenChanged(n=>{n?(console.log(),e({type:$n.SET_USER,user:n})):e({type:$n.SET_USER,user:null})})},[]),w.jsx(w.Fragment,{children:w.jsx(LQ,{})})}const MQ={basket:[],user:null},FQ=(t,e)=>{switch(e.type){case $n.ADD_TO_BASKET:if(t.basket.find(s=>s.id===e.item.id)){const s=t.basket.map(o=>o.id===e.item.id?{...o,amount:o.amount+1}:o);return{...t,basket:s}}else return{...t,basket:[...t.basket,{...e.item,amount:1}]};case $n.REMOVE_FROM_BASKET:const r=t.basket.findIndex(s=>s.id===e.id);let i=[...t.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...t,basket:i};case $n.EMPTY_BASKET:return{...t,basket:[]};case $n.SET_USER:return{...t,user:e.user};default:return t}};py.createRoot(document.getElementById("root")).render(w.jsx(X.StrictMode,{children:w.jsx(HL,{reducer:FQ,initialState:MQ,children:w.jsx(VQ,{})})}));
